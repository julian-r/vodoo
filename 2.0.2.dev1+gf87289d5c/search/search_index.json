{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Vodoo","text":"<p>Modern Python library and CLI for Odoo</p> <p> </p> <p>Vodoo is a typed Python library and CLI for interacting with Odoo instances via JSON-RPC (Odoo 17\u201318) and JSON-2 (Odoo 19+). It covers helpdesk tickets, project tasks, projects, CRM leads/opportunities, knowledge articles, and timesheets.</p>"},{"location":"#highlights","title":"Highlights","text":"<ul> <li>Dual-use \u2014 works as a CLI tool and as an importable Python library</li> <li>Sync + Async \u2014 full async API under <code>vodoo.aio</code> with httpx</li> <li>Auto-detecting transport \u2014 JSON-2 for Odoo 19+ (~3-4\u00d7 faster), legacy JSON-RPC for 17\u201318</li> <li>AI-first design \u2014 clear command structure for Claude Code and similar assistants</li> <li>Fully typed \u2014 strict mypy, Pydantic models, rich terminal output</li> <li>Comprehensive \u2014 CRUD, comments, notes, tags, attachments, timers, security groups</li> <li>Rich exceptions \u2014 Odoo server errors mapped to typed Python exceptions</li> </ul>"},{"location":"#odoo-version-support","title":"Odoo Version Support","text":"Version Protocol Status Odoo 17 Legacy JSON-RPC  Fully tested Odoo 18 Legacy JSON-RPC  Fully tested Odoo 19 JSON-2 (bearer auth)  Fully tested"},{"location":"#quick-example","title":"Quick Example","text":"CLIPython Library <pre><code># List helpdesk tickets\nvodoo helpdesk list --stage \"In Progress\"\n\n# Add a comment to a CRM lead\nvodoo crm comment 42 \"Following up on the proposal\"\n\n# Start a timer on a task\nvodoo timer start 15\n</code></pre> <pre><code>from vodoo import OdooClient, OdooConfig\n\nconfig = OdooConfig(\n    url=\"https://my.odoo.com\",\n    database=\"mydb\",\n    username=\"bot@example.com\",\n    password=\"api-key-here\",\n)\nclient = OdooClient(config)\n\n# Search partners\npartners = client.search_read(\n    \"res.partner\",\n    domain=[[\"email\", \"ilike\", \"@acme.com\"]],\n    fields=[\"name\", \"email\"],\n    limit=10,\n)\n\n# Use domain helpers\nfrom vodoo.helpdesk import list_tickets\ntickets = list_tickets(client, limit=5)\n</code></pre>"},{"location":"#whats-next","title":"What's Next?","text":"<ul> <li> <p> Install Vodoo</p> <p>Install via pip, pipx, or uvx in under a minute.</p> <p> Installation</p> </li> <li> <p> Configure</p> <p>Set up credentials and connect to your Odoo instance.</p> <p> Configuration</p> </li> <li> <p> CLI Reference</p> <p>All commands, options, and examples.</p> <p> CLI Reference</p> </li> <li> <p> API Reference</p> <p>Auto-generated from source \u2014 every class, function, and type.</p> <p> API Reference</p> </li> </ul>"},{"location":"INTEGRATION_TESTS/","title":"Integration Tests","text":"<p>Automated integration tests that run vodoo against real Odoo instances via Docker.</p>"},{"location":"INTEGRATION_TESTS/#quick-start","title":"Quick Start","text":"<pre><code># Run against all community versions (17, 18, 19)\n./tests/integration/run.sh\n\n# Run a specific version\n./tests/integration/run.sh 19\n\n# Run with enterprise edition\nENTERPRISE=1 ./tests/integration/run.sh 19\n\n# Run all versions, both editions\nENTERPRISE=1 ./tests/integration/run.sh 17 18 19\n\n# Keep containers after tests (for debugging)\nKEEP=1 ./tests/integration/run.sh 19\n</code></pre>"},{"location":"INTEGRATION_TESTS/#what-gets-tested","title":"What Gets Tested","text":""},{"location":"INTEGRATION_TESTS/#community-all-versions","title":"Community (all versions)","text":"<ul> <li>Generic CRUD \u2014 create, read, update, delete on <code>res.partner</code></li> <li>Project (<code>project.project</code>) \u2014 list, get, update, comments, notes, attachments, stages</li> <li>Project Tasks (<code>project.task</code>) \u2014 full CRUD, tags, subtasks, attachments</li> <li>CRM (<code>crm.lead</code>) \u2014 leads/opportunities, tags, attachments, comments</li> <li>Security \u2014 group creation, user management, password setting, group assignment</li> </ul>"},{"location":"INTEGRATION_TESTS/#enterprise-requires-enterprise-addons","title":"Enterprise (requires enterprise addons)","text":"<ul> <li>Helpdesk (<code>helpdesk.ticket</code>) \u2014 tickets, tags, comments, attachments</li> <li>Knowledge (<code>knowledge.article</code>) \u2014 articles, comments, notes</li> <li>Timer/Timesheet \u2014 start/stop timers, today's timesheets</li> </ul>"},{"location":"INTEGRATION_TESTS/#transport-layer","title":"Transport Layer","text":"<ul> <li>Verifies Odoo 17/18 use <code>LegacyTransport</code> (JSON-RPC)</li> <li>Verifies Odoo 19 uses <code>JSON2Transport</code> (JSON-2 bearer auth)</li> </ul>"},{"location":"INTEGRATION_TESTS/#architecture","title":"Architecture","text":"<pre><code>tests/integration/\n\u251c\u2500\u2500 run.sh                  # End-to-end orchestrator\n\u251c\u2500\u2500 setup_odoo.py           # DB provisioning + API key creation\n\u251c\u2500\u2500 conftest.py             # pytest fixtures and markers\n\u251c\u2500\u2500 test_suite.py           # 60 test cases across 9 classes\n\u251c\u2500\u2500 docker-compose.yml      # Parameterized compose file\n\u251c\u2500\u2500 Dockerfile.enterprise   # Builds enterprise image from addons\n\u251c\u2500\u2500 odoo.conf               # Community Odoo config\n\u2514\u2500\u2500 odoo-enterprise.conf    # Enterprise Odoo config (with addons_path)\n</code></pre>"},{"location":"INTEGRATION_TESTS/#port-mapping","title":"Port Mapping","text":"Version Community Enterprise 17 17069 17169 18 18069 18169 19 19069 19169"},{"location":"INTEGRATION_TESTS/#enterprise-addons","title":"Enterprise Addons","text":"<p>The enterprise test images are built from enterprise addons directories. The runner looks for addons in this order:</p> <ol> <li>Version-specific env var: <code>ENTERPRISE_ADDONS_17</code>, <code>ENTERPRISE_ADDONS_18</code>, etc.</li> <li>Git worktree convention: <code>/tmp/enterprise-17</code>, <code>/tmp/enterprise-18</code></li> <li>Default: <code>ENTERPRISE_ADDONS</code> env var or <code>~/src/makespan/odoo/enterprise-addons</code></li> </ol> <p>To set up enterprise addons for multiple versions:</p> <pre><code>cd ~/src/makespan/odoo/enterprise-addons  # or wherever your enterprise repo is\ngit fetch origin 17.0 18.0 19.0\ngit worktree add /tmp/enterprise-17 origin/17.0\ngit worktree add /tmp/enterprise-18 origin/18.0\n# 19.0 is assumed to be the default checkout\n</code></pre>"},{"location":"INTEGRATION_TESTS/#api-key-creation","title":"API Key Creation","text":"<p>API keys cannot be created via JSON-RPC (Odoo's <code>@check_identity</code> wizard blocks it). Instead, <code>setup_odoo.py</code> runs <code>odoo shell</code> inside the Docker container to call <code>_generate()</code> directly. Key differences by version:</p> <ul> <li>Odoo 17: <code>_generate(scope, name)</code> \u2014 2 args</li> <li>Odoo 18+: <code>_generate(scope, name, expiration_date)</code> \u2014 3 args</li> </ul> <p>The key is bound to the admin user (not <code>__system__</code>) via <code>with_user(admin).sudo()</code>.</p>"},{"location":"INTEGRATION_TESTS/#environment-files","title":"Environment Files","text":"<p>Each test run creates a <code>.env.test.&lt;suffix&gt;</code> file (gitignored):</p> <pre><code>ODOO_URL=http://localhost:19069\nODOO_DATABASE=vodoo_test_19\nODOO_USERNAME=admin\nODOO_PASSWORD=&lt;api-key&gt;\nODOO_MAJOR_VERSION=19\nODOO_ENTERPRISE=0\n</code></pre>"},{"location":"INTEGRATION_TESTS/#bugs-found","title":"Bugs Found","text":"<p>These bugs in vodoo were discovered and fixed by the integration tests:</p> <ol> <li><code>transport.py</code> \u2014 JSON-2 <code>create</code> used <code>values</code> param instead of <code>vals_list</code> (list), and <code>write</code> used <code>values</code> instead of <code>vals</code></li> <li><code>security.py</code> \u2014 Used <code>group_ids</code> field which doesn't exist in Odoo 17/18 (it's <code>groups_id</code>); added <code>_groups_field()</code> auto-detect helper</li> </ol>"},{"location":"SECURITY/","title":"Security &amp; Least-Privilege Service Accounts","text":"<p>Vodoo is designed to run with a dedicated service account that has only the access it needs. This minimizes risk and keeps automation actions isolated from human users.</p>"},{"location":"SECURITY/#quick-start-best-practice","title":"Quick Start (Best Practice)","text":"<pre><code># 1. Create a new bot user with all Vodoo API groups (requires admin)\nODOO_USERNAME=admin@example.com ODOO_PASSWORD=... \\\nvodoo security create-user \"Vodoo Bot\" bot@company.com --assign-groups\n\n# Output:\n# Created user: Vodoo Bot (id=42)\n# Login: bot@company.com\n# Password: BCgXQ7d*tYxjArk2$7vHl2t*  &lt;-- SAVE THIS!\n# Share (not billed): True\n# Assigned to 5 groups:\n#   - API Base\n#   - API CRM\n#   - API Project\n#   - API Knowledge\n#   - API Helpdesk\n\n# 2. Configure vodoo to use the new bot\ncat &gt; .env &lt;&lt; EOF\nODOO_URL=https://your-instance.odoo.com\nODOO_DATABASE=your-database\nODOO_USERNAME=bot@company.com\nODOO_PASSWORD=BCgXQ7d*tYxjArk2$7vHl2t*\nEOF\n\n# 3. Add bot as follower to projects (for project access)\n# See \"Project Visibility\" section below\n</code></pre>"},{"location":"SECURITY/#cli-commands","title":"CLI Commands","text":""},{"location":"SECURITY/#create-a-service-account","title":"Create a Service Account","text":"<pre><code># Basic (generates password)\nvodoo security create-user \"Bot Name\" bot@company.com\n\n# With specific password\nvodoo security create-user \"Bot Name\" bot@company.com --password MySecretPass123\n\n# With all Vodoo API groups assigned\nvodoo security create-user \"Bot Name\" bot@company.com --assign-groups\n\n# Without groups (add manually later)\nvodoo security create-user \"Bot Name\" bot@company.com\n</code></pre> <p>Note: Requires admin credentials (Access Rights group).</p>"},{"location":"SECURITY/#create-security-groups","title":"Create Security Groups","text":"<pre><code># Create all Vodoo API groups (idempotent)\nvodoo security create-groups\n</code></pre> <p>Creates these modular groups:</p> Group Purpose API Base Core access (required for all bots) API CRM CRM leads and opportunities API Project Projects and tasks API Knowledge Knowledge base articles API Helpdesk Helpdesk tickets"},{"location":"SECURITY/#assign-groups-to-existing-user","title":"Assign Groups to Existing User","text":"<pre><code># Assign all groups\nvodoo security assign-bot --login bot@company.com\n\n# By user ID\nvodoo security assign-bot --user-id 42\n\n# Keep existing groups (don't remove base.group_user/portal)\nvodoo security assign-bot --login bot@company.com --keep-default-groups\n</code></pre>"},{"location":"SECURITY/#set-or-reset-password","title":"Set or Reset Password","text":"<pre><code># Generate new password\nvodoo security set-password --login bot@company.com\n\n# Set specific password\nvodoo security set-password --login bot@company.com --password MyNewPassword123\n\n# By user ID\nvodoo security set-password --user-id 42\n</code></pre> <p>Note: Requires admin credentials.</p>"},{"location":"SECURITY/#modular-permission-architecture","title":"Modular Permission Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Service Account                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502           API Base (required for all)                 \u2502  \u2502\n\u2502  \u2502  res.company, res.users, res.partner, mail.*          \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                              \u2502                              \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502     \u25bc            \u25bc           \u25bc           \u25bc            \u25bc    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 CRM  \u2502   \u2502 Project \u2502  \u2502 Know- \u2502  \u2502Helpdesk \u2502  \u2502 ... \u2502  \u2502\n\u2502  \u2502      \u2502   \u2502         \u2502  \u2502 ledge \u2502  \u2502         \u2502  \u2502     \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Principle: Assign only the groups needed for your workflow.</p>"},{"location":"SECURITY/#example-configurations","title":"Example Configurations","text":"<pre><code># Full access bot (all modules) - recommended for most use cases\nvodoo security create-user \"Bot\" bot@company.com --assign-groups\n\n# Create user first, then assign all groups separately\nvodoo security create-user \"Bot\" bot@company.com\nvodoo security assign-bot --login bot@company.com\n\n# Create user without any groups (for manual group assignment via Odoo UI)\nvodoo security create-user \"Bot\" bot@company.com\n</code></pre>"},{"location":"SECURITY/#admin-credentials-safety","title":"Admin Credentials Safety","text":"<p>Use admin credentials only when bootstrapping. Pass them inline to avoid storing in <code>.env</code>:</p> <pre><code>ODOO_USERNAME=admin@example.com \\\nODOO_PASSWORD=... \\\nvodoo security create-user \"Bot\" bot@company.com --assign-groups\n</code></pre> <p>Once setup is complete, switch to the service account for day-to-day operations.</p>"},{"location":"SECURITY/#key-security-properties","title":"Key Security Properties","text":"Property Value Why <code>share</code> <code>True</code> Not billed as internal user <code>base.group_user</code> Removed No web UI access <code>base.group_portal</code> Removed No portal field restrictions Groups Custom API groups only Least privilege"},{"location":"SECURITY/#important-limitations","title":"Important Limitations","text":""},{"location":"SECURITY/#project-visibility","title":"Project Visibility","text":"<p>The bot must be a follower of projects to access them.</p> <p>In Odoo UI: Open each project \u2192 Followers \u2192 Add the bot user.</p>"},{"location":"SECURITY/#knowledge-articles","title":"Knowledge Articles","text":"<ul> <li>\u2705 Read/write existing articles</li> <li>\u2705 Create child articles (under existing parent)</li> <li>\u274c Create root workspace articles (requires internal user)</li> <li>\u274c Delete articles (requires Administrator)</li> </ul>"},{"location":"SECURITY/#comments-vs-notes","title":"Comments vs Notes","text":"Type Subtype Non-internal users Comments Discussions (<code>internal=False</code>) \u2705 Allowed Internal Notes Note (<code>internal=True</code>) \u2705 Allowed (via <code>message_type=notification</code>) <p>Vodoo handles this automatically when using <code>comment</code> and <code>note</code> commands.</p>"},{"location":"SECURITY/#mailmessage-creation-requirements","title":"mail.message Creation Requirements","text":"<p>Creating messages directly via the Odoo API requires:</p> <ol> <li>Access rights: User must be in a group with <code>mail.message</code> create permission (API Base provides this)</li> <li>Document access: User must have access to the related document (e.g., be a follower for projects)</li> <li>Subtype: The <code>subtype_id</code> field must be provided (e.g., <code>1</code> for \"Discussions\")</li> </ol> <p>Without <code>subtype_id</code>, Odoo's security checks will reject the create operation.</p>"},{"location":"SECURITY/#author-impersonation-author_id","title":"Author Impersonation (author_id)","text":"<p>Share users cannot set <code>author_id</code> to a different partner when creating messages. Odoo's SaaS platform enforces this restriction.</p> User Type Can create messages Can set author_id to others Share user \u2705 (with subtype_id) \u274c Forced to own partner Internal user \u2705 \u2705 <p>To enable author impersonation, the bot must be an internal user:</p> <pre><code># Add bot to base.group_user (makes it internal)\nvodoo model call res.users write --args='[[USER_ID], {\"group_ids\": [[4, 1]]}]'\n\n# Verify (share should be False)\nvodoo model read res.users USER_ID --field share\n</code></pre> <p>Trade-off: Internal users count as paid seats on Odoo.com.</p> <p>To revert to share user:</p> <pre><code># Remove base.group_user\nvodoo model call res.users write --args='[[USER_ID], {\"group_ids\": [[3, 1]]}]'\n</code></pre>"},{"location":"SECURITY/#user-creation","title":"User Creation","text":"<p>Creating users requires the Access Rights group (admin only). Service accounts cannot create other users.</p>"},{"location":"SECURITY/#credential-rotation","title":"Credential Rotation","text":"<p>Odoo has no built-in password expiration. Implement manual rotation:</p> <ol> <li>Generate new password for the bot</li> <li>Update <code>.env</code> or secrets manager</li> <li>Test authentication</li> </ol> <pre><code># Generate and set new password (as admin)\nODOO_USERNAME=admin@example.com ODOO_PASSWORD=... \\\nvodoo security set-password --login bot@company.com\n\n# Or set a specific password\nODOO_USERNAME=admin@example.com ODOO_PASSWORD=... \\\nvodoo security set-password --login bot@company.com --password NewSecurePassword123\n</code></pre>"},{"location":"SECURITY/#disabling-a-service-account","title":"Disabling a Service Account","text":"<p>Immediately revoke all access:</p> <pre><code>ODOO_USERNAME=admin@example.com ODOO_PASSWORD=... \\\nvodoo model update res.users 42 active=false\n</code></pre> <p>This instantly disables password and API key authentication.</p>"},{"location":"SECURITY/#further-reading","title":"Further Reading","text":"<ul> <li>Odoo Security Documentation</li> </ul>"},{"location":"api/","title":"API Reference","text":"<p>Auto-generated documentation from source code docstrings.</p>"},{"location":"api/#core","title":"Core","text":"Module Description OdooClient High-level sync client \u2014 delegates to the transport layer OdooConfig Pydantic-based configuration from env variables Transport Transport abstraction (JSON-2 + legacy JSON-RPC) Exceptions Exception hierarchy (including Odoo server-side errors)"},{"location":"api/#domain-modules-sync","title":"Domain Modules (Sync)","text":"Module Odoo Model Description Helpdesk <code>helpdesk.ticket</code> Helpdesk ticket operations (enterprise) Project Tasks <code>project.task</code> Project task operations Projects <code>project.project</code> Project operations CRM <code>crm.lead</code> CRM lead/opportunity operations Knowledge <code>knowledge.article</code> Knowledge article operations (enterprise) Timers <code>account.analytic.line</code> Timer and timesheet management Generic CRUD any model Generic model operations Security <code>res.groups</code> / <code>res.users</code> Security group management"},{"location":"api/#shared","title":"Shared","text":"Module Description Base Operations Shared CRUD, messaging, attachment helpers Auth Authentication and sudo utilities"},{"location":"api/#async-api","title":"Async API","text":"<p>Vodoo provides a full async API under <code>vodoo.aio</code> with the same interface as the sync modules but using <code>async</code>/<code>await</code> and httpx for non-blocking HTTP.</p> Module Description Async Overview Quick start, concurrency patterns, <code>AsyncOdooClient</code> Async Helpdesk <code>vodoo.aio.helpdesk</code> Async Project Tasks <code>vodoo.aio.project</code> Async Projects <code>vodoo.aio.project_project</code> Async CRM <code>vodoo.aio.crm</code> Async Knowledge <code>vodoo.aio.knowledge</code> Async Timers <code>vodoo.aio.timer</code> Async Generic CRUD <code>vodoo.aio.generic</code> Async Security <code>vodoo.aio.security</code> Async Base <code>vodoo.aio.base</code> Async Auth <code>vodoo.aio.auth</code>"},{"location":"api/async/","title":"Async API","text":"<p>Vodoo provides a full async API under <code>vodoo.aio</code>. Every sync module has an async counterpart with the same function signatures, but using <code>async</code>/<code>await</code>.</p> <p>The async transport uses httpx for non-blocking HTTP.</p>"},{"location":"api/async/#quick-start","title":"Quick Start","text":"<pre><code>import asyncio\nfrom vodoo import AsyncOdooClient, OdooConfig\n\nconfig = OdooConfig(\n    url=\"https://my.odoo.com\",\n    database=\"mydb\",\n    username=\"bot@example.com\",\n    password=\"api-key\",\n)\n\nasync def main():\n    async with AsyncOdooClient(config) as client:\n        partners = await client.search_read(\n            \"res.partner\",\n            domain=[[\"is_company\", \"=\", True]],\n            fields=[\"name\", \"email\"],\n            limit=10,\n        )\n        for p in partners:\n            print(p[\"name\"])\n\nasyncio.run(main())\n</code></pre>"},{"location":"api/async/#domain-helpers","title":"Domain Helpers","text":"<p>Each sync domain module has an async equivalent:</p> Sync Async <code>vodoo.helpdesk</code> <code>vodoo.aio.helpdesk</code> <code>vodoo.project</code> <code>vodoo.aio.project</code> <code>vodoo.project_project</code> <code>vodoo.aio.project_project</code> <code>vodoo.crm</code> <code>vodoo.aio.crm</code> <code>vodoo.knowledge</code> <code>vodoo.aio.knowledge</code> <code>vodoo.timer</code> <code>vodoo.aio.timer</code> <code>vodoo.generic</code> <code>vodoo.aio.generic</code> <code>vodoo.security</code> <code>vodoo.aio.security</code> <code>vodoo.base</code> <code>vodoo.aio.base</code> <code>vodoo.auth</code> <code>vodoo.aio.auth</code> <pre><code>from vodoo.aio.helpdesk import list_tickets, add_note\nfrom vodoo.aio.crm import list_leads\n\nasync with AsyncOdooClient(config) as client:\n    tickets = await list_tickets(client, limit=5)\n    leads = await list_leads(client, domain=[[\"type\", \"=\", \"opportunity\"]])\n    await add_note(client, ticket_id=42, message=\"Checked via async API\")\n</code></pre>"},{"location":"api/async/#concurrent-requests","title":"Concurrent Requests","text":"<p>The async API shines when you need to make multiple independent calls:</p> <pre><code>import asyncio\nfrom vodoo.aio.helpdesk import list_tickets\nfrom vodoo.aio.crm import list_leads\nfrom vodoo.aio.project import list_tasks\n\nasync with AsyncOdooClient(config) as client:\n    # Run all three queries concurrently\n    tickets, leads, tasks = await asyncio.gather(\n        list_tickets(client, limit=10),\n        list_leads(client, limit=10),\n        list_tasks(client, limit=10),\n    )\n</code></pre>"},{"location":"api/async/#reference","title":"Reference","text":""},{"location":"api/async/#asyncodooclient","title":"AsyncOdooClient","text":""},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient","title":"AsyncOdooClient","text":"<pre><code>AsyncOdooClient(config: OdooConfig, *, transport: AsyncOdooTransport | None = None, auto_detect: bool = True)\n</code></pre> <p>Async Odoo client for external API access.</p> <p>Wraps an AsyncOdooTransport to provide a convenient async interface. Supports both legacy JSON-RPC (Odoo 14-18) and JSON-2 API (Odoo 19+).</p> <p>Can be used as an async context manager::</p> <pre><code>async with AsyncOdooClient(config) as client:\n    records = await client.search_read(\"res.partner\", limit=5)\n</code></pre> <p>Initialize async Odoo client.</p> PARAMETER DESCRIPTION <code>config</code> <p>Odoo configuration</p> <p> TYPE: <code>OdooConfig</code> </p> <code>transport</code> <p>Explicit transport instance (skips auto-detection).        When auto_detect is <code>True</code> and no transport is        given, detection happens lazily on first use.</p> <p> TYPE: <code>AsyncOdooTransport | None</code> DEFAULT: <code>None</code> </p> <code>auto_detect</code> <p>If True, probe JSON-2 first then fall back to          legacy on first use. If False, use legacy directly.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> Source code in <code>src/vodoo/aio/client.py</code> <pre><code>def __init__(\n    self,\n    config: OdooConfig,\n    *,\n    transport: AsyncOdooTransport | None = None,\n    auto_detect: bool = True,\n) -&gt; None:\n    \"\"\"Initialize async Odoo client.\n\n    Args:\n        config: Odoo configuration\n        transport: Explicit transport instance (skips auto-detection).\n                   When *auto_detect* is ``True`` and no transport is\n                   given, detection happens lazily on first use.\n        auto_detect: If True, probe JSON-2 first then fall back to\n                     legacy on first use. If False, use legacy directly.\n    \"\"\"\n    self.config = config\n    self.url = config.url.rstrip(\"/\")\n    self.db = config.database\n    self.username = config.username\n    self.password = config.password\n    self._retry = config.retry_config\n\n    self._transport: AsyncOdooTransport | None = transport\n    self._auto_detect = auto_detect\n    self._init_lock = asyncio.Lock()\n</code></pre>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.transport","title":"transport  <code>property</code>","text":"<pre><code>transport: AsyncOdooTransport\n</code></pre> <p>The underlying transport (raises if not yet initialised).</p>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.is_json2","title":"is_json2  <code>property</code>","text":"<pre><code>is_json2: bool\n</code></pre> <p>Whether the client is using the JSON-2 API (Odoo 19+).</p>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.uid","title":"uid  <code>property</code>","text":"<pre><code>uid: int\n</code></pre> <p>Get authenticated user ID (transport must be initialised).</p>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.close","title":"close  <code>async</code>","text":"<pre><code>close() -&gt; None\n</code></pre> <p>Close the underlying HTTP client.</p> Source code in <code>src/vodoo/aio/client.py</code> <pre><code>async def close(self) -&gt; None:\n    \"\"\"Close the underlying HTTP client.\"\"\"\n    if self._transport is not None:\n        await self._transport.close()\n</code></pre>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.get_uid","title":"get_uid  <code>async</code>","text":"<pre><code>get_uid() -&gt; int\n</code></pre> <p>Get authenticated user ID, authenticating if needed.</p> Source code in <code>src/vodoo/aio/client.py</code> <pre><code>async def get_uid(self) -&gt; int:\n    \"\"\"Get authenticated user ID, authenticating if needed.\"\"\"\n    transport = await self._ensure_transport()\n    return await transport.get_uid()\n</code></pre>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.execute","title":"execute  <code>async</code>","text":"<pre><code>execute(model: str, method: str, *args: Any, **kwargs: Any) -&gt; Any\n</code></pre> <p>Execute a method on an Odoo model.</p> Source code in <code>src/vodoo/aio/client.py</code> <pre><code>async def execute(\n    self,\n    model: str,\n    method: str,\n    *args: Any,\n    **kwargs: Any,\n) -&gt; Any:\n    \"\"\"Execute a method on an Odoo model.\"\"\"\n    transport = await self._ensure_transport()\n    return await transport.execute_kw(model, method, list(args), kwargs or None)\n</code></pre>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.execute_sudo","title":"execute_sudo  <code>async</code>","text":"<pre><code>execute_sudo(model: str, method: str, user_id: int, *args: Any, **kwargs: Any) -&gt; Any\n</code></pre> <p>Execute a method as another user using sudo.</p> Source code in <code>src/vodoo/aio/client.py</code> <pre><code>async def execute_sudo(\n    self,\n    model: str,\n    method: str,\n    user_id: int,\n    *args: Any,\n    **kwargs: Any,\n) -&gt; Any:\n    \"\"\"Execute a method as another user using sudo.\"\"\"\n    if \"context\" not in kwargs:\n        kwargs[\"context\"] = {}\n    kwargs[\"context\"][\"sudo_user_id\"] = user_id\n    return await self.execute(model, method, *args, **kwargs)\n</code></pre>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.search","title":"search  <code>async</code>","text":"<pre><code>search(model: str, domain: list[Any] | None = None, limit: int | None = None, offset: int = 0, order: str | None = None) -&gt; list[int]\n</code></pre> <p>Search for records.</p> Source code in <code>src/vodoo/aio/client.py</code> <pre><code>async def search(\n    self,\n    model: str,\n    domain: list[Any] | None = None,\n    limit: int | None = None,\n    offset: int = 0,\n    order: str | None = None,\n) -&gt; list[int]:\n    \"\"\"Search for records.\"\"\"\n    transport = await self._ensure_transport()\n    return await transport.search(model, domain, limit, offset, order)\n</code></pre>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.read","title":"read  <code>async</code>","text":"<pre><code>read(model: str, ids: list[int], fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>Read records by IDs.</p> Source code in <code>src/vodoo/aio/client.py</code> <pre><code>async def read(\n    self,\n    model: str,\n    ids: list[int],\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"Read records by IDs.\"\"\"\n    transport = await self._ensure_transport()\n    return await transport.read(model, ids, fields)\n</code></pre>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.search_read","title":"search_read  <code>async</code>","text":"<pre><code>search_read(model: str, domain: list[Any] | None = None, fields: list[str] | None = None, limit: int | None = None, offset: int = 0, order: str | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>Search and read records in one call.</p> Source code in <code>src/vodoo/aio/client.py</code> <pre><code>async def search_read(\n    self,\n    model: str,\n    domain: list[Any] | None = None,\n    fields: list[str] | None = None,\n    limit: int | None = None,\n    offset: int = 0,\n    order: str | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"Search and read records in one call.\"\"\"\n    transport = await self._ensure_transport()\n    return await transport.search_read(model, domain, fields, limit, offset, order)\n</code></pre>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.create","title":"create  <code>async</code>","text":"<pre><code>create(model: str, values: dict[str, Any], context: dict[str, Any] | None = None) -&gt; int\n</code></pre> <p>Create a new record.</p> Source code in <code>src/vodoo/aio/client.py</code> <pre><code>async def create(\n    self,\n    model: str,\n    values: dict[str, Any],\n    context: dict[str, Any] | None = None,\n) -&gt; int:\n    \"\"\"Create a new record.\"\"\"\n    transport = await self._ensure_transport()\n    return await transport.create(model, process_values(values), context)\n</code></pre>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.write","title":"write  <code>async</code>","text":"<pre><code>write(model: str, ids: list[int], values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update records.</p> Source code in <code>src/vodoo/aio/client.py</code> <pre><code>async def write(\n    self,\n    model: str,\n    ids: list[int],\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update records.\"\"\"\n    transport = await self._ensure_transport()\n    return await transport.write(model, ids, process_values(values))\n</code></pre>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.unlink","title":"unlink  <code>async</code>","text":"<pre><code>unlink(model: str, ids: list[int]) -&gt; bool\n</code></pre> <p>Delete records.</p> Source code in <code>src/vodoo/aio/client.py</code> <pre><code>async def unlink(\n    self,\n    model: str,\n    ids: list[int],\n) -&gt; bool:\n    \"\"\"Delete records.\"\"\"\n    transport = await self._ensure_transport()\n    return await transport.unlink(model, ids)\n</code></pre>"},{"location":"api/async/#vodoo.aio.client.AsyncOdooClient.name_search","title":"name_search  <code>async</code>","text":"<pre><code>name_search(model: str, name: str, domain: list[Any] | None = None, limit: int = 7) -&gt; list[tuple[int, str]]\n</code></pre> <p>Autocomplete search returning (id, display_name) pairs.</p> Source code in <code>src/vodoo/aio/client.py</code> <pre><code>async def name_search(\n    self,\n    model: str,\n    name: str,\n    domain: list[Any] | None = None,\n    limit: int = 7,\n) -&gt; list[tuple[int, str]]:\n    \"\"\"Autocomplete search returning (id, display_name) pairs.\"\"\"\n    transport = await self._ensure_transport()\n    return await transport.name_search(model, name, domain, limit)\n</code></pre>"},{"location":"api/async/#asyncodootransport","title":"AsyncOdooTransport","text":""},{"location":"api/async/#vodoo.aio.transport","title":"transport","text":"<p>Async Odoo JSON-RPC transport abstraction. - AsyncLegacyTransport: Odoo 14-18 using POST /jsonrpc with service/method/args envelope - AsyncJSON2Transport: Odoo 19+ using POST /json/2// with bearer token auth The convenience methods on the base class and the concrete transport implementations intentionally duplicate their sync counterparts.  This is a deliberate trade-off: every alternative (<code>unasync</code>, code generation, runtime indirection) adds build or type-system complexity that outweighs the cost of ~260 lines of mechanical duplication in a library of this size."},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport","title":"AsyncOdooTransport","text":"<pre><code>AsyncOdooTransport(url: str, database: str, username: str, password: str, *, timeout: int = 30, retry: RetryConfig | None = None)\n</code></pre> <p>               Bases: <code>ABC</code></p> <p>Abstract base for async Odoo RPC transports.</p> <p>Mirrors :class:<code>vodoo.transport.OdooTransport</code> with async methods.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>def __init__(\n    self,\n    url: str,\n    database: str,\n    username: str,\n    password: str,\n    *,\n    timeout: int = 30,\n    retry: RetryConfig | None = None,\n) -&gt; None:\n    self.url = url.rstrip(\"/\")\n    self.database = database.strip()\n    self.username = username.strip()\n    self.password = password.strip()\n    self.timeout = timeout\n    self.retry = retry or DEFAULT_RETRY\n    self._uid: int | None = None\n    self._http = httpx.AsyncClient(timeout=timeout)\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport.get_uid","title":"get_uid  <code>async</code>","text":"<pre><code>get_uid() -&gt; int\n</code></pre> <p>Get authenticated user ID, authenticating if needed.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>async def get_uid(self) -&gt; int:\n    \"\"\"Get authenticated user ID, authenticating if needed.\"\"\"\n    if self._uid is None:\n        self._uid = await self.authenticate()\n    return self._uid\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport.authenticate","title":"authenticate  <code>abstractmethod</code> <code>async</code>","text":"<pre><code>authenticate() -&gt; int\n</code></pre> <p>Authenticate and return the user ID.</p> RAISES DESCRIPTION <code>AuthenticationError</code> <p>If authentication fails.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>@abstractmethod\nasync def authenticate(self) -&gt; int:\n    \"\"\"Authenticate and return the user ID.\n\n    Raises:\n        AuthenticationError: If authentication fails.\n    \"\"\"\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport.execute_kw","title":"execute_kw  <code>abstractmethod</code> <code>async</code>","text":"<pre><code>execute_kw(model: str, method: str, args: list[Any], kwargs: dict[str, Any] | None = None) -&gt; Any\n</code></pre> <p>Execute a method on an Odoo model (execute_kw equivalent).</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>@abstractmethod\nasync def execute_kw(\n    self,\n    model: str,\n    method: str,\n    args: list[Any],\n    kwargs: dict[str, Any] | None = None,\n) -&gt; Any:\n    \"\"\"Execute a method on an Odoo model (execute_kw equivalent).\"\"\"\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport.call_service","title":"call_service  <code>abstractmethod</code> <code>async</code>","text":"<pre><code>call_service(service: str, method: str, args: list[Any]) -&gt; Any\n</code></pre> <p>Call a JSON-RPC service method (e.g. common/authenticate).</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>@abstractmethod\nasync def call_service(\n    self,\n    service: str,\n    method: str,\n    args: list[Any],\n) -&gt; Any:\n    \"\"\"Call a JSON-RPC service method (e.g. common/authenticate).\"\"\"\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport.close","title":"close  <code>async</code>","text":"<pre><code>close() -&gt; None\n</code></pre> <p>Close the underlying HTTP client.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>async def close(self) -&gt; None:\n    \"\"\"Close the underlying HTTP client.\"\"\"\n    await self._http.aclose()\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport.search_read","title":"search_read  <code>async</code>","text":"<pre><code>search_read(model: str, domain: list[Any] | None = None, fields: list[str] | None = None, limit: int | None = None, offset: int = 0, order: str | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>Search and read records.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>async def search_read(\n    self,\n    model: str,\n    domain: list[Any] | None = None,\n    fields: list[str] | None = None,\n    limit: int | None = None,\n    offset: int = 0,\n    order: str | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"Search and read records.\"\"\"\n    kw: dict[str, Any] = {}\n    if fields is not None:\n        kw[\"fields\"] = fields\n    if limit is not None:\n        kw[\"limit\"] = limit\n    if offset &gt; 0:\n        kw[\"offset\"] = offset\n    if order is not None:\n        kw[\"order\"] = order\n    result: list[dict[str, Any]] = await self.execute_kw(\n        model, \"search_read\", [domain or []], kw\n    )\n    return result\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport.search","title":"search  <code>async</code>","text":"<pre><code>search(model: str, domain: list[Any] | None = None, limit: int | None = None, offset: int = 0, order: str | None = None) -&gt; list[int]\n</code></pre> <p>Search for record IDs.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>async def search(\n    self,\n    model: str,\n    domain: list[Any] | None = None,\n    limit: int | None = None,\n    offset: int = 0,\n    order: str | None = None,\n) -&gt; list[int]:\n    \"\"\"Search for record IDs.\"\"\"\n    kw: dict[str, Any] = {}\n    if limit is not None:\n        kw[\"limit\"] = limit\n    if offset &gt; 0:\n        kw[\"offset\"] = offset\n    if order is not None:\n        kw[\"order\"] = order\n    result: list[int] = await self.execute_kw(model, \"search\", [domain or []], kw)\n    return result\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport.read","title":"read  <code>async</code>","text":"<pre><code>read(model: str, ids: list[int], fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>Read records by IDs.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>async def read(\n    self,\n    model: str,\n    ids: list[int],\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"Read records by IDs.\"\"\"\n    if fields is not None:\n        result: list[dict[str, Any]] = await self.execute_kw(model, \"read\", [ids, fields])\n    else:\n        result = await self.execute_kw(model, \"read\", [ids])\n    return result\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport.create","title":"create  <code>async</code>","text":"<pre><code>create(model: str, values: dict[str, Any], context: dict[str, Any] | None = None) -&gt; int\n</code></pre> <p>Create a record and return its ID.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>async def create(\n    self,\n    model: str,\n    values: dict[str, Any],\n    context: dict[str, Any] | None = None,\n) -&gt; int:\n    \"\"\"Create a record and return its ID.\"\"\"\n    kw: dict[str, Any] = {}\n    if context:\n        kw[\"context\"] = context\n    result = await self.execute_kw(model, \"create\", [values], kw if kw else None)\n    if isinstance(result, list) and len(result) == 1:\n        return int(result[0])\n    return int(result)\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport.write","title":"write  <code>async</code>","text":"<pre><code>write(model: str, ids: list[int], values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update records.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>async def write(\n    self,\n    model: str,\n    ids: list[int],\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update records.\"\"\"\n    result: bool = await self.execute_kw(model, \"write\", [ids, values])\n    return result\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport.unlink","title":"unlink  <code>async</code>","text":"<pre><code>unlink(model: str, ids: list[int]) -&gt; bool\n</code></pre> <p>Delete records.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>async def unlink(\n    self,\n    model: str,\n    ids: list[int],\n) -&gt; bool:\n    \"\"\"Delete records.\"\"\"\n    result: bool = await self.execute_kw(model, \"unlink\", [ids])\n    return result\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncOdooTransport.name_search","title":"name_search  <code>async</code>","text":"<pre><code>name_search(model: str, name: str, domain: list[Any] | None = None, limit: int = 7) -&gt; list[tuple[int, str]]\n</code></pre> <p>Autocomplete search returning (id, display_name) pairs.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>async def name_search(\n    self,\n    model: str,\n    name: str,\n    domain: list[Any] | None = None,\n    limit: int = 7,\n) -&gt; list[tuple[int, str]]:\n    \"\"\"Autocomplete search returning (id, display_name) pairs.\"\"\"\n    result = await self.execute_kw(\n        model,\n        \"name_search\",\n        [],\n        {\"name\": name, \"args\": domain or [], \"limit\": limit},\n    )\n    return _parse_name_search(result)\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncLegacyTransport","title":"AsyncLegacyTransport","text":"<pre><code>AsyncLegacyTransport(url: str, database: str, username: str, password: str, *, timeout: int = 30, retry: RetryConfig | None = None)\n</code></pre> <p>               Bases: <code>AsyncOdooTransport</code></p> <p>Async Odoo 14-18 legacy JSON-RPC transport.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>def __init__(\n    self,\n    url: str,\n    database: str,\n    username: str,\n    password: str,\n    *,\n    timeout: int = 30,\n    retry: RetryConfig | None = None,\n) -&gt; None:\n    self.url = url.rstrip(\"/\")\n    self.database = database.strip()\n    self.username = username.strip()\n    self.password = password.strip()\n    self.timeout = timeout\n    self.retry = retry or DEFAULT_RETRY\n    self._uid: int | None = None\n    self._http = httpx.AsyncClient(timeout=timeout)\n</code></pre>"},{"location":"api/async/#vodoo.aio.transport.AsyncJSON2Transport","title":"AsyncJSON2Transport","text":"<pre><code>AsyncJSON2Transport(url: str, database: str, username: str, password: str, *, timeout: int = 30, retry: RetryConfig | None = None)\n</code></pre> <p>               Bases: <code>AsyncOdooTransport</code></p> <p>Async Odoo 19+ JSON-2 API transport.</p> Source code in <code>src/vodoo/aio/transport.py</code> <pre><code>def __init__(\n    self,\n    url: str,\n    database: str,\n    username: str,\n    password: str,\n    *,\n    timeout: int = 30,\n    retry: RetryConfig | None = None,\n) -&gt; None:\n    self.url = url.rstrip(\"/\")\n    self.database = database.strip()\n    self.username = username.strip()\n    self.password = password.strip()\n    self.timeout = timeout\n    self.retry = retry or DEFAULT_RETRY\n    self._uid: int | None = None\n    self._http = httpx.AsyncClient(timeout=timeout)\n</code></pre>"},{"location":"api/auth/","title":"Auth","text":"<p>Authentication utilities and sudo operations for posting messages as other users.</p>"},{"location":"api/auth/#vodoo.auth","title":"auth","text":"<p>Authentication utilities for Vodoo.</p>"},{"location":"api/auth/#vodoo.auth.get_default_user_id","title":"get_default_user_id","text":"<pre><code>get_default_user_id(client: OdooClient, username: str | None = None) -&gt; int\n</code></pre> <p>Get the default user ID for sudo operations.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>username</code> <p>Username to search for (defaults to configured username)</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>int</code> <p>User ID</p> RAISES DESCRIPTION <code>RecordNotFoundError</code> <p>If user not found</p> Source code in <code>src/vodoo/auth.py</code> <pre><code>def get_default_user_id(client: OdooClient, username: str | None = None) -&gt; int:\n    \"\"\"Get the default user ID for sudo operations.\n\n    Args:\n        client: Odoo client\n        username: Username to search for (defaults to configured username)\n\n    Returns:\n        User ID\n\n    Raises:\n        RecordNotFoundError: If user not found\n\n    \"\"\"\n    search_username = username or client.username\n    user_ids = client.search(\"res.users\", domain=[(\"login\", \"=\", search_username)], limit=1)\n\n    if not user_ids:\n        raise RecordNotFoundError(\"res.users\", 0)\n\n    return user_ids[0]\n</code></pre>"},{"location":"api/auth/#vodoo.auth.get_partner_id_from_user","title":"get_partner_id_from_user","text":"<pre><code>get_partner_id_from_user(client: OdooClient, user_id: int) -&gt; int\n</code></pre> <p>Get the partner ID associated with a user.</p> <p>In Odoo, res.users has a partner_id field that links to res.partner. The mail.message.author_id field references res.partner, not res.users.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>user_id</code> <p>User ID (res.users)</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>int</code> <p>Partner ID (res.partner)</p> RAISES DESCRIPTION <code>RecordNotFoundError</code> <p>If user not found or has no partner</p> Source code in <code>src/vodoo/auth.py</code> <pre><code>def get_partner_id_from_user(client: OdooClient, user_id: int) -&gt; int:\n    \"\"\"Get the partner ID associated with a user.\n\n    In Odoo, res.users has a partner_id field that links to res.partner.\n    The mail.message.author_id field references res.partner, not res.users.\n\n    Args:\n        client: Odoo client\n        user_id: User ID (res.users)\n\n    Returns:\n        Partner ID (res.partner)\n\n    Raises:\n        RecordNotFoundError: If user not found or has no partner\n\n    \"\"\"\n    users = client.read(\"res.users\", [user_id], [\"partner_id\"])\n    if not users:\n        raise RecordNotFoundError(\"res.users\", user_id)\n\n    partner_id = users[0].get(\"partner_id\")\n    if not partner_id:\n        raise RecordNotFoundError(\"res.partner\", 0)\n\n    # partner_id is returned as [id, name] tuple\n    if isinstance(partner_id, list):\n        result: int = partner_id[0]\n        return result\n    return int(partner_id)\n</code></pre>"},{"location":"api/auth/#vodoo.auth.message_post_sudo","title":"message_post_sudo","text":"<pre><code>message_post_sudo(client: OdooClient, model: str, res_id: int, body: str, user_id: int | None = None, message_type: str = 'comment', is_note: bool = False, **kwargs: Any) -&gt; bool\n</code></pre> <p>Post a message or note as a specific user using sudo.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name (e.g., 'helpdesk.ticket')</p> <p> TYPE: <code>str</code> </p> <code>res_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>body</code> <p>Message body (HTML)</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to post as (uses default if None)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>message_type</code> <p>Type of message ('comment' or 'notification')</p> <p> TYPE: <code>str</code> DEFAULT: <code>'comment'</code> </p> <code>is_note</code> <p>If True, creates an internal note (not visible to customers)</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>**kwargs</code> <p>Additional arguments for message_post</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> RAISES DESCRIPTION <code>ConfigurationError</code> <p>If no default user configured</p> Source code in <code>src/vodoo/auth.py</code> <pre><code>def message_post_sudo(\n    client: OdooClient,\n    model: str,\n    res_id: int,\n    body: str,\n    user_id: int | None = None,\n    message_type: str = \"comment\",\n    is_note: bool = False,\n    **kwargs: Any,\n) -&gt; bool:\n    \"\"\"Post a message or note as a specific user using sudo.\n\n    Args:\n        client: Odoo client\n        model: Model name (e.g., 'helpdesk.ticket')\n        res_id: Record ID\n        body: Message body (HTML)\n        user_id: User ID to post as (uses default if None)\n        message_type: Type of message ('comment' or 'notification')\n        is_note: If True, creates an internal note (not visible to customers)\n        **kwargs: Additional arguments for message_post\n\n    Returns:\n        True if successful\n\n    Raises:\n        ConfigurationError: If no default user configured\n\n    \"\"\"\n    if user_id is None:\n        if client.config.default_user_id is None:\n            msg = \"No default user ID configured\"\n            raise ConfigurationError(msg)\n        user_id = client.config.default_user_id\n\n    # Convert user_id (res.users) to partner_id (res.partner)\n    # mail.message.author_id references res.partner, not res.users\n    partner_id = get_partner_id_from_user(client, user_id)\n\n    # Create the message directly in mail.message model\n    # This avoids the RPC marshalling issue with message_post\n\n    # For notes, we want the \"Note\" subtype, for comments we want \"Discussions\"\n    subtype_name = \"Note\" if is_note else \"Discussions\"\n    subtype_ids = client.search(\n        \"mail.message.subtype\", domain=[(\"name\", \"=\", subtype_name)], limit=1\n    )\n\n    # For non-internal users (share users), internal notes require message_type='notification'\n    # because Odoo's mail.message._get_forbidden_access() blocks message_type='comment'\n    # with internal subtypes for non-internal users\n    effective_message_type = \"notification\" if is_note else message_type\n\n    message_vals = {\n        \"model\": model,\n        \"res_id\": res_id,\n        \"body\": body,\n        \"message_type\": effective_message_type,\n        \"subtype_id\": subtype_ids[0] if subtype_ids else False,\n        \"author_id\": partner_id,  # Use partner_id, not user_id\n        **kwargs,\n    }\n\n    # Create the message\n    message_id = client.create(\"mail.message\", message_vals)\n    return bool(message_id)\n</code></pre>"},{"location":"api/base/","title":"Base Operations","text":"<p>Shared CRUD, messaging, attachment, and display helpers used by all domain modules.</p>"},{"location":"api/base/#vodoo.base","title":"base","text":"<p>Base operations for Odoo models - shared functionality.</p>"},{"location":"api/base/#vodoo.base.list_records","title":"list_records","text":"<pre><code>list_records(client: OdooClient, model: str, domain: list[Any] | None = None, limit: int | None = 50, fields: list[str] | None = None, order: str = 'create_date desc') -&gt; list[dict[str, Any]]\n</code></pre> <p>List records from a model.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name (e.g., 'helpdesk.ticket', 'project.task')</p> <p> TYPE: <code>str</code> </p> <code>domain</code> <p>Search domain filters</p> <p> TYPE: <code>list[Any] | None</code> DEFAULT: <code>None</code> </p> <code>limit</code> <p>Maximum number of records</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>50</code> </p> <code>fields</code> <p>List of fields to fetch (None = default fields)</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> <code>order</code> <p>Sort order</p> <p> TYPE: <code>str</code> DEFAULT: <code>'create_date desc'</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of record dictionaries</p> Source code in <code>src/vodoo/base.py</code> <pre><code>def list_records(\n    client: OdooClient,\n    model: str,\n    domain: list[Any] | None = None,\n    limit: int | None = 50,\n    fields: list[str] | None = None,\n    order: str = \"create_date desc\",\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List records from a model.\n\n    Args:\n        client: Odoo client\n        model: Model name (e.g., 'helpdesk.ticket', 'project.task')\n        domain: Search domain filters\n        limit: Maximum number of records\n        fields: List of fields to fetch (None = default fields)\n        order: Sort order\n\n    Returns:\n        List of record dictionaries\n\n    \"\"\"\n    return client.search_read(\n        model,\n        domain=domain,\n        fields=fields,\n        limit=limit,\n        order=order,\n    )\n</code></pre>"},{"location":"api/base/#vodoo.base.display_records","title":"display_records","text":"<pre><code>display_records(records: list[dict[str, Any]], title: str = 'Records') -&gt; None\n</code></pre> <p>Display records in a table or TSV format.</p> PARAMETER DESCRIPTION <code>records</code> <p>List of record dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> <code>title</code> <p>Table title</p> <p> TYPE: <code>str</code> DEFAULT: <code>'Records'</code> </p> Source code in <code>src/vodoo/base.py</code> <pre><code>def display_records(records: list[dict[str, Any]], title: str = \"Records\") -&gt; None:\n    \"\"\"Display records in a table or TSV format.\n\n    Args:\n        records: List of record dictionaries\n        title: Table title\n\n    \"\"\"\n    if not records:\n        if _is_simple_output():\n            print(\"No records found\")\n        else:\n            _get_console().print(\"[yellow]No records found[/yellow]\")\n        return\n\n    field_names = list(records[0].keys())\n\n    if _is_simple_output():\n        # Simple TSV output for LLMs\n        print(\"\\t\".join(field_names))\n        for record in records:\n            row = [_format_field_value(record.get(f)) for f in field_names]\n            print(\"\\t\".join(row))\n    else:\n        # Rich table output\n        from rich.table import Table\n\n        console = _get_console()\n        table = Table(title=title)\n\n        field_styles = {\n            \"id\": \"cyan\",\n            \"name\": \"green\",\n            \"partner_id\": \"yellow\",\n            \"stage_id\": \"blue\",\n            \"user_id\": \"magenta\",\n            \"priority\": \"red\",\n            \"project_id\": \"blue\",\n        }\n\n        for field_name in field_names:\n            style = field_styles.get(field_name, \"white\")\n            table.add_column(field_name, style=style)\n\n        for record in records:\n            row_values = [_format_field_value(record.get(f)) or \"N/A\" for f in field_names]\n            table.add_row(*row_values)\n\n        console.print(table)\n</code></pre>"},{"location":"api/base/#vodoo.base.get_record","title":"get_record","text":"<pre><code>get_record(client: OdooClient, model: str, record_id: int, fields: list[str] | None = None) -&gt; dict[str, Any]\n</code></pre> <p>Get detailed record information.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>fields</code> <p>List of field names to read (None = all fields)</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>Record dictionary</p> RAISES DESCRIPTION <code>RecordNotFoundError</code> <p>If record not found</p> Source code in <code>src/vodoo/base.py</code> <pre><code>def get_record(\n    client: OdooClient,\n    model: str,\n    record_id: int,\n    fields: list[str] | None = None,\n) -&gt; dict[str, Any]:\n    \"\"\"Get detailed record information.\n\n    Args:\n        client: Odoo client\n        model: Model name\n        record_id: Record ID\n        fields: List of field names to read (None = all fields)\n\n    Returns:\n        Record dictionary\n\n    Raises:\n        RecordNotFoundError: If record not found\n\n    \"\"\"\n    records = client.read(model, [record_id], fields=fields)\n    if not records:\n        raise RecordNotFoundError(model, record_id)\n    return records[0]\n</code></pre>"},{"location":"api/base/#vodoo.base.list_fields","title":"list_fields","text":"<pre><code>list_fields(client: OdooClient, model: str) -&gt; dict[str, Any]\n</code></pre> <p>Get all available fields for a model.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>Dictionary of field definitions with field names as keys</p> Source code in <code>src/vodoo/base.py</code> <pre><code>def list_fields(client: OdooClient, model: str) -&gt; dict[str, Any]:\n    \"\"\"Get all available fields for a model.\n\n    Args:\n        client: Odoo client\n        model: Model name\n\n    Returns:\n        Dictionary of field definitions with field names as keys\n\n    \"\"\"\n    result: dict[str, Any] = client.execute(model, \"fields_get\")\n    return result\n</code></pre>"},{"location":"api/base/#vodoo.base.set_record_fields","title":"set_record_fields","text":"<pre><code>set_record_fields(client: OdooClient, model: str, record_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update fields on a record.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>values</code> <p>Dictionary of field names and values to update</p> <p> TYPE: <code>dict[str, Any]</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; set_record_fields(client, \"project.task\", 42, {\"name\": \"New title\", \"priority\": \"1\"})\n&gt;&gt;&gt; set_record_fields(client, \"helpdesk.ticket\", 42, {\"user_id\": 5, \"stage_id\": 3})\n</code></pre> Source code in <code>src/vodoo/base.py</code> <pre><code>def set_record_fields(\n    client: OdooClient,\n    model: str,\n    record_id: int,\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update fields on a record.\n\n    Args:\n        client: Odoo client\n        model: Model name\n        record_id: Record ID\n        values: Dictionary of field names and values to update\n\n    Returns:\n        True if successful\n\n    Examples:\n        &gt;&gt;&gt; set_record_fields(client, \"project.task\", 42, {\"name\": \"New title\", \"priority\": \"1\"})\n        &gt;&gt;&gt; set_record_fields(client, \"helpdesk.ticket\", 42, {\"user_id\": 5, \"stage_id\": 3})\n\n    \"\"\"\n    return client.write(model, [record_id], values)\n</code></pre>"},{"location":"api/base/#vodoo.base.display_record_detail","title":"display_record_detail","text":"<pre><code>display_record_detail(record: dict[str, Any], *, show_html: bool = False, record_type: str = 'Record') -&gt; None\n</code></pre> <p>Display detailed record information.</p> PARAMETER DESCRIPTION <code>record</code> <p>Record dictionary</p> <p> TYPE: <code>dict[str, Any]</code> </p> <code>show_html</code> <p>If True, show raw HTML description, else convert to markdown</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>record_type</code> <p>Human-readable record type (e.g., \"Ticket\", \"Task\")</p> <p> TYPE: <code>str</code> DEFAULT: <code>'Record'</code> </p> Source code in <code>src/vodoo/base.py</code> <pre><code>def display_record_detail(  # noqa: PLR0912\n    record: dict[str, Any],\n    *,\n    show_html: bool = False,\n    record_type: str = \"Record\",\n) -&gt; None:\n    \"\"\"Display detailed record information.\n\n    Args:\n        record: Record dictionary\n        show_html: If True, show raw HTML description, else convert to markdown\n        record_type: Human-readable record type (e.g., \"Ticket\", \"Task\")\n\n    \"\"\"\n    if _is_simple_output():\n        # Simple key: value format\n        print(f\"id: {record['id']}\")\n        print(f\"name: {record['name']}\")\n        if record.get(\"partner_id\"):\n            print(f\"partner: {record['partner_id'][1]}\")\n        if record.get(\"stage_id\"):\n            print(f\"stage: {record['stage_id'][1]}\")\n        if record.get(\"user_id\"):\n            print(f\"assigned_to: {record['user_id'][1]}\")\n        if record.get(\"project_id\"):\n            print(f\"project: {record['project_id'][1]}\")\n        if \"priority\" in record:\n            print(f\"priority: {record.get('priority', '0')}\")\n        if record.get(\"description\"):\n            desc = record[\"description\"]\n            if not show_html:\n                desc = _html_to_markdown(desc)\n            print(f\"description: {desc}\")\n        if record.get(\"tag_ids\"):\n            print(f\"tags: {','.join(map(str, record['tag_ids']))}\")\n    else:\n        console = _get_console()\n        console.print(f\"\\n[bold cyan]{record_type} #{record['id']}[/bold cyan]\")\n        console.print(f\"[bold]Name:[/bold] {record['name']}\")\n\n        if record.get(\"partner_id\"):\n            console.print(f\"[bold]Partner:[/bold] {record['partner_id'][1]}\")\n\n        if record.get(\"stage_id\"):\n            console.print(f\"[bold]Stage:[/bold] {record['stage_id'][1]}\")\n\n        if record.get(\"user_id\"):\n            console.print(f\"[bold]Assigned To:[/bold] {record['user_id'][1]}\")\n\n        if record.get(\"project_id\"):\n            console.print(f\"[bold]Project:[/bold] {record['project_id'][1]}\")\n\n        if \"priority\" in record:\n            console.print(f\"[bold]Priority:[/bold] {record.get('priority', '0')}\")\n\n        if record.get(\"description\"):\n            description = record[\"description\"]\n            if show_html:\n                console.print(f\"\\n[bold]Description:[/bold]\\n{description}\")\n            else:\n                markdown_text = _html_to_markdown(description)\n                console.print(f\"\\n[bold]Description:[/bold]\\n{markdown_text}\")\n\n        if record.get(\"tag_ids\"):\n            console.print(f\"\\n[bold]Tags:[/bold] {', '.join(map(str, record['tag_ids']))}\")\n</code></pre>"},{"location":"api/base/#vodoo.base.add_comment","title":"add_comment","text":"<pre><code>add_comment(client: OdooClient, model: str, record_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a comment to a record (visible to customers).</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>message</code> <p>Comment message (plain text or markdown)</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to post as (uses default if None)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>markdown</code> <p>If True, convert markdown to HTML (default: True)</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/base.py</code> <pre><code>def add_comment(\n    client: OdooClient,\n    model: str,\n    record_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a comment to a record (visible to customers).\n\n    Args:\n        client: Odoo client\n        model: Model name\n        record_id: Record ID\n        message: Comment message (plain text or markdown)\n        user_id: User ID to post as (uses default if None)\n        markdown: If True, convert markdown to HTML (default: True)\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    body = _convert_to_html(message, markdown)\n    return message_post_sudo(\n        client,\n        model,\n        record_id,\n        body,\n        user_id=user_id,\n        is_note=False,\n    )\n</code></pre>"},{"location":"api/base/#vodoo.base.add_note","title":"add_note","text":"<pre><code>add_note(client: OdooClient, model: str, record_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add an internal note to a record (not visible to customers).</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>message</code> <p>Note message (plain text or markdown)</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to post as (uses default if None)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>markdown</code> <p>If True, convert markdown to HTML (default: True)</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/base.py</code> <pre><code>def add_note(\n    client: OdooClient,\n    model: str,\n    record_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add an internal note to a record (not visible to customers).\n\n    Args:\n        client: Odoo client\n        model: Model name\n        record_id: Record ID\n        message: Note message (plain text or markdown)\n        user_id: User ID to post as (uses default if None)\n        markdown: If True, convert markdown to HTML (default: True)\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    body = _convert_to_html(message, markdown)\n    return message_post_sudo(\n        client,\n        model,\n        record_id,\n        body,\n        user_id=user_id,\n        is_note=True,\n    )\n</code></pre>"},{"location":"api/base/#vodoo.base.list_tags","title":"list_tags","text":"<pre><code>list_tags(client: OdooClient, model: str) -&gt; list[dict[str, Any]]\n</code></pre> <p>List available tags for a model.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Tag model name (e.g., 'helpdesk.tag', 'project.tags')</p> <p> TYPE: <code>str</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of tag dictionaries</p> Source code in <code>src/vodoo/base.py</code> <pre><code>def list_tags(client: OdooClient, model: str) -&gt; list[dict[str, Any]]:\n    \"\"\"List available tags for a model.\n\n    Args:\n        client: Odoo client\n        model: Tag model name (e.g., 'helpdesk.tag', 'project.tags')\n\n    Returns:\n        List of tag dictionaries\n\n    \"\"\"\n    fields = _TAG_FIELDS\n    return client.search_read(model, fields=fields, order=\"name\")\n</code></pre>"},{"location":"api/base/#vodoo.base.display_tags","title":"display_tags","text":"<pre><code>display_tags(tags: list[dict[str, Any]], title: str = 'Tags') -&gt; None\n</code></pre> <p>Display tags in a table or TSV format.</p> PARAMETER DESCRIPTION <code>tags</code> <p>List of tag dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> <code>title</code> <p>Table title</p> <p> TYPE: <code>str</code> DEFAULT: <code>'Tags'</code> </p> Source code in <code>src/vodoo/base.py</code> <pre><code>def display_tags(tags: list[dict[str, Any]], title: str = \"Tags\") -&gt; None:\n    \"\"\"Display tags in a table or TSV format.\n\n    Args:\n        tags: List of tag dictionaries\n        title: Table title\n\n    \"\"\"\n    if _is_simple_output():\n        print(\"id\\tname\\tcolor\")\n        for tag in tags:\n            print(f\"{tag['id']}\\t{tag['name']}\\t{tag.get('color', '')}\")\n    else:\n        from rich.table import Table\n\n        console = _get_console()\n        table = Table(title=title)\n        table.add_column(\"ID\", style=\"cyan\")\n        table.add_column(\"Name\", style=\"green\")\n        table.add_column(\"Color\", style=\"yellow\")\n\n        for tag in tags:\n            table.add_row(\n                str(tag[\"id\"]),\n                tag[\"name\"],\n                str(tag.get(\"color\", \"N/A\")),\n            )\n\n        console.print(table)\n</code></pre>"},{"location":"api/base/#vodoo.base.add_tag_to_record","title":"add_tag_to_record","text":"<pre><code>add_tag_to_record(client: OdooClient, model: str, record_id: int, tag_id: int) -&gt; bool\n</code></pre> <p>Add a tag to a record.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>tag_id</code> <p>Tag ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/base.py</code> <pre><code>def add_tag_to_record(\n    client: OdooClient,\n    model: str,\n    record_id: int,\n    tag_id: int,\n) -&gt; bool:\n    \"\"\"Add a tag to a record.\n\n    Args:\n        client: Odoo client\n        model: Model name\n        record_id: Record ID\n        tag_id: Tag ID\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    record = get_record(client, model, record_id, fields=[\"tag_ids\"])\n    current_tags = record.get(\"tag_ids\", [])\n\n    # Add new tag if not already present\n    if tag_id not in current_tags:\n        current_tags.append(tag_id)\n        return client.write(\n            model,\n            [record_id],\n            {\"tag_ids\": [(6, 0, current_tags)]},\n        )\n\n    return True\n</code></pre>"},{"location":"api/base/#vodoo.base.list_messages","title":"list_messages","text":"<pre><code>list_messages(client: OdooClient, model: str, record_id: int, limit: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List messages/chatter for a record.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>limit</code> <p>Maximum number of messages (None = all)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of message dictionaries</p> Source code in <code>src/vodoo/base.py</code> <pre><code>def list_messages(\n    client: OdooClient,\n    model: str,\n    record_id: int,\n    limit: int | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List messages/chatter for a record.\n\n    Args:\n        client: Odoo client\n        model: Model name\n        record_id: Record ID\n        limit: Maximum number of messages (None = all)\n\n    Returns:\n        List of message dictionaries\n\n    \"\"\"\n    domain = [\n        (\"model\", \"=\", model),\n        (\"res_id\", \"=\", record_id),\n    ]\n    fields = _MESSAGE_FIELDS\n\n    return client.search_read(\n        \"mail.message\",\n        domain=domain,\n        fields=fields,\n        order=\"date desc\",\n        limit=limit,\n    )\n</code></pre>"},{"location":"api/base/#vodoo.base.display_messages","title":"display_messages","text":"<pre><code>display_messages(messages: list[dict[str, Any]], show_html: bool = False) -&gt; None\n</code></pre> <p>Display messages in a formatted list or simple format.</p> PARAMETER DESCRIPTION <code>messages</code> <p>List of message dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> <code>show_html</code> <p>Whether to show raw HTML body</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/vodoo/base.py</code> <pre><code>def display_messages(messages: list[dict[str, Any]], show_html: bool = False) -&gt; None:  # noqa: PLR0912\n    \"\"\"Display messages in a formatted list or simple format.\n\n    Args:\n        messages: List of message dictionaries\n        show_html: Whether to show raw HTML body\n\n    \"\"\"\n    from html import unescape\n    from html.parser import HTMLParser\n\n    class HTMLToText(HTMLParser):\n        \"\"\"Simple HTML to text converter.\"\"\"\n\n        def __init__(self) -&gt; None:\n            super().__init__()\n            self.text: list[str] = []\n\n        def handle_data(self, data: str) -&gt; None:\n            self.text.append(data)\n\n        def get_text(self) -&gt; str:\n            return \"\".join(self.text).strip()\n\n    def get_body_text(body: str) -&gt; str:\n        if show_html:\n            return body\n        parser = HTMLToText()\n        parser.feed(unescape(body))\n        return parser.get_text()\n\n    if not messages:\n        print(\"No messages found\") if _is_simple_output() else _get_console().print(\n            \"[yellow]No messages found[/yellow]\"\n        )\n        return\n\n    if _is_simple_output():\n        # Simple format: date, author, type, body (one line per message)\n        print(\"date\\tauthor\\ttype\\tbody\")\n        for msg in messages:\n            date = msg.get(\"date\", \"\")\n            author = msg.get(\"author_id\")\n            author_name = (\n                author[1] if author and isinstance(author, list) else msg.get(\"email_from\", \"\")\n            )\n            subtype = msg.get(\"subtype_id\")\n            if subtype and isinstance(subtype, list):\n                subtype_name = subtype[1]\n            else:\n                subtype_name = msg.get(\"message_type\", \"\")\n            body = get_body_text(msg.get(\"body\", \"\")).replace(\"\\t\", \" \").replace(\"\\n\", \" \")\n            print(f\"{date}\\t{author_name}\\t{subtype_name}\\t{body}\")\n    else:\n        console = _get_console()\n        console.print(f\"\\n[bold cyan]Message History ({len(messages)} messages)[/bold cyan]\\n\")\n\n        for i, msg in enumerate(messages, 1):\n            date = msg.get(\"date\", \"N/A\")\n            author = msg.get(\"author_id\")\n            if author and isinstance(author, list):\n                author_name = author[1]\n            else:\n                author_name = msg.get(\"email_from\", \"Unknown\")\n\n            message_type = msg.get(\"message_type\", \"comment\")\n            subtype = msg.get(\"subtype_id\")\n            subtype_name = subtype[1] if subtype and isinstance(subtype, list) else message_type\n\n            console.print(f\"[bold]Message #{i}[/bold] [dim]({date})[/dim]\")\n            console.print(f\"[cyan]From:[/cyan] {author_name}\")\n            console.print(f\"[cyan]Type:[/cyan] {subtype_name}\")\n\n            if msg.get(\"subject\"):\n                console.print(f\"[cyan]Subject:[/cyan] {msg['subject']}\")\n\n            body = msg.get(\"body\", \"\")\n            if body:\n                text = get_body_text(body)\n                if text:\n                    console.print(f\"\\n{text}\\n\")\n\n            if i &lt; len(messages):\n                console.print(\"[dim]\" + \"\u2500\" * 80 + \"[/dim]\\n\")\n</code></pre>"},{"location":"api/base/#vodoo.base.list_attachments","title":"list_attachments","text":"<pre><code>list_attachments(client: OdooClient, model: str, record_id: int) -&gt; list[dict[str, Any]]\n</code></pre> <p>List attachments for a record.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of attachment dictionaries</p> Source code in <code>src/vodoo/base.py</code> <pre><code>def list_attachments(\n    client: OdooClient,\n    model: str,\n    record_id: int,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List attachments for a record.\n\n    Args:\n        client: Odoo client\n        model: Model name\n        record_id: Record ID\n\n    Returns:\n        List of attachment dictionaries\n\n    \"\"\"\n    domain = [\n        (\"res_model\", \"=\", model),\n        (\"res_id\", \"=\", record_id),\n    ]\n    fields = _ATTACHMENT_LIST_FIELDS\n\n    return client.search_read(\"ir.attachment\", domain=domain, fields=fields)\n</code></pre>"},{"location":"api/base/#vodoo.base.display_attachments","title":"display_attachments","text":"<pre><code>display_attachments(attachments: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display attachments in a table or TSV format.</p> PARAMETER DESCRIPTION <code>attachments</code> <p>List of attachment dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> Source code in <code>src/vodoo/base.py</code> <pre><code>def display_attachments(attachments: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display attachments in a table or TSV format.\n\n    Args:\n        attachments: List of attachment dictionaries\n\n    \"\"\"\n    if _is_simple_output():\n        print(\"id\\tname\\tsize_kb\\tmimetype\\tcreate_date\")\n        for att in attachments:\n            size = att.get(\"file_size\", 0)\n            size_kb = f\"{size / 1024:.1f}\" if size else \"\"\n            name = att.get(\"name\", \"\")\n            mime = att.get(\"mimetype\", \"\")\n            created = att.get(\"create_date\", \"\")\n            print(f\"{att['id']}\\t{name}\\t{size_kb}\\t{mime}\\t{created}\")\n    else:\n        from rich.table import Table\n\n        console = _get_console()\n        table = Table(title=\"Attachments\")\n        table.add_column(\"ID\", style=\"cyan\")\n        table.add_column(\"Name\", style=\"green\")\n        table.add_column(\"Size\", style=\"yellow\")\n        table.add_column(\"Type\", style=\"blue\")\n        table.add_column(\"Created\", style=\"magenta\")\n\n        for att in attachments:\n            size = att.get(\"file_size\", 0)\n            size_str = f\"{size / 1024:.1f} KB\" if size else \"N/A\"\n\n            table.add_row(\n                str(att[\"id\"]),\n                att.get(\"name\", \"N/A\"),\n                size_str,\n                att.get(\"mimetype\", \"N/A\"),\n                str(att.get(\"create_date\", \"N/A\")),\n            )\n\n        console.print(table)\n</code></pre>"},{"location":"api/base/#vodoo.base.download_attachment","title":"download_attachment","text":"<pre><code>download_attachment(client: OdooClient, attachment_id: int, output_path: Path | None = None) -&gt; Path\n</code></pre> <p>Download an attachment.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>attachment_id</code> <p>Attachment ID</p> <p> TYPE: <code>int</code> </p> <code>output_path</code> <p>Output file path (defaults to attachment name in current dir)</p> <p> TYPE: <code>Path | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>Path</code> <p>Path to downloaded file</p> RAISES DESCRIPTION <code>RecordNotFoundError</code> <p>If attachment not found</p> Source code in <code>src/vodoo/base.py</code> <pre><code>def download_attachment(\n    client: OdooClient,\n    attachment_id: int,\n    output_path: Path | None = None,\n) -&gt; Path:\n    \"\"\"Download an attachment.\n\n    Args:\n        client: Odoo client\n        attachment_id: Attachment ID\n        output_path: Output file path (defaults to attachment name in current dir)\n\n    Returns:\n        Path to downloaded file\n\n    Raises:\n        RecordNotFoundError: If attachment not found\n\n    \"\"\"\n    attachments = client.read(\"ir.attachment\", [attachment_id], _ATTACHMENT_READ_FIELDS)\n\n    if not attachments:\n        raise RecordNotFoundError(\"ir.attachment\", attachment_id)\n\n    attachment = attachments[0]\n    filename = attachment.get(\"name\", f\"attachment_{attachment_id}\")\n\n    if output_path is None:\n        output_path = Path.cwd() / filename\n    elif output_path.is_dir():\n        output_path = output_path / filename\n\n    # Decode base64 data and write to file\n    if attachment.get(\"datas\"):\n        data = base64.b64decode(attachment[\"datas\"])\n        output_path.write_bytes(data)\n    else:\n        raise RecordNotFoundError(\"ir.attachment\", attachment_id)\n\n    return output_path\n</code></pre>"},{"location":"api/base/#vodoo.base.download_record_attachments","title":"download_record_attachments","text":"<pre><code>download_record_attachments(client: OdooClient, model: str, record_id: int, output_dir: Path | None = None, extension: str | None = None) -&gt; list[Path]\n</code></pre> <p>Download all attachments for a record.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>output_dir</code> <p>Output directory (defaults to current directory)</p> <p> TYPE: <code>Path | None</code> DEFAULT: <code>None</code> </p> <code>extension</code> <p>File extension filter (e.g., 'pdf', 'jpg')</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[Path]</code> <p>List of paths to downloaded files</p> Source code in <code>src/vodoo/base.py</code> <pre><code>def download_record_attachments(\n    client: OdooClient,\n    model: str,\n    record_id: int,\n    output_dir: Path | None = None,\n    extension: str | None = None,\n) -&gt; list[Path]:\n    \"\"\"Download all attachments for a record.\n\n    Args:\n        client: Odoo client\n        model: Model name\n        record_id: Record ID\n        output_dir: Output directory (defaults to current directory)\n        extension: File extension filter (e.g., 'pdf', 'jpg')\n\n    Returns:\n        List of paths to downloaded files\n\n    \"\"\"\n    if output_dir is None:\n        output_dir = Path.cwd()\n    elif not output_dir.exists():\n        output_dir.mkdir(parents=True, exist_ok=True)\n\n    attachments = list_attachments(client, model, record_id)\n\n    # Filter by extension if provided\n    if extension:\n        ext = extension.lower().lstrip(\".\")\n        attachments = [\n            att for att in attachments if att.get(\"name\", \"\").lower().endswith(f\".{ext}\")\n        ]\n\n    downloaded_files: list[Path] = []\n\n    for attachment in attachments:\n        filename = attachment.get(\"name\", f\"attachment_{attachment['id']}\")\n        try:\n            att_data = client.read(\"ir.attachment\", [attachment[\"id\"]], _ATTACHMENT_READ_FIELDS)\n            if not att_data:\n                continue\n\n            att = att_data[0]\n            filename = att.get(\"name\", f\"attachment_{attachment['id']}\")\n            output_path = output_dir / filename\n\n            if att.get(\"datas\"):\n                data = base64.b64decode(att[\"datas\"])\n                output_path.write_bytes(data)\n                downloaded_files.append(output_path)\n        except Exception as e:\n            import logging\n\n            logging.getLogger(\"vodoo\").warning(\"Failed to download %s: %s\", filename, e)\n            continue\n\n    return downloaded_files\n</code></pre>"},{"location":"api/base/#vodoo.base.create_attachment","title":"create_attachment","text":"<pre><code>create_attachment(client: OdooClient, model: str, record_id: int, file_path: Path | str, name: str | None = None) -&gt; int\n</code></pre> <p>Create an attachment for a record.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>file_path</code> <p>Path to file to attach</p> <p> TYPE: <code>Path | str</code> </p> <code>name</code> <p>Attachment name (defaults to filename)</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>int</code> <p>ID of created attachment</p> RAISES DESCRIPTION <code>ValueError</code> <p>If file doesn't exist</p> <code>FileNotFoundError</code> <p>If file path is invalid</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; create_attachment(client, \"project.task\", 42, \"screenshot.png\")\n&gt;&gt;&gt; create_attachment(client, \"helpdesk.ticket\", 42, \"/path/to/file.pdf\", name=\"Report.pdf\")\n</code></pre> Source code in <code>src/vodoo/base.py</code> <pre><code>def create_attachment(\n    client: OdooClient,\n    model: str,\n    record_id: int,\n    file_path: Path | str,\n    name: str | None = None,\n) -&gt; int:\n    \"\"\"Create an attachment for a record.\n\n    Args:\n        client: Odoo client\n        model: Model name\n        record_id: Record ID\n        file_path: Path to file to attach\n        name: Attachment name (defaults to filename)\n\n    Returns:\n        ID of created attachment\n\n    Raises:\n        ValueError: If file doesn't exist\n        FileNotFoundError: If file path is invalid\n\n    Examples:\n        &gt;&gt;&gt; create_attachment(client, \"project.task\", 42, \"screenshot.png\")\n        &gt;&gt;&gt; create_attachment(client, \"helpdesk.ticket\", 42, \"/path/to/file.pdf\", name=\"Report.pdf\")\n\n    \"\"\"\n    file_path = Path(file_path)\n\n    if not file_path.exists():\n        msg = f\"File not found: {file_path}\"\n        raise FileNotFoundError(msg)\n\n    if not file_path.is_file():\n        msg = f\"Path is not a file: {file_path}\"\n        raise ValueError(msg)\n\n    # Read file and encode to base64\n    file_data = file_path.read_bytes()\n    encoded_data = base64.b64encode(file_data).decode(\"utf-8\")\n\n    # Use provided name or file name\n    attachment_name = name or file_path.name\n\n    # Create attachment\n    values = {\n        \"name\": attachment_name,\n        \"datas\": encoded_data,\n        \"res_model\": model,\n        \"res_id\": record_id,\n    }\n\n    return client.create(\"ir.attachment\", values)\n</code></pre>"},{"location":"api/base/#vodoo.base.get_record_url","title":"get_record_url","text":"<pre><code>get_record_url(client: OdooClient | Any, model: str, record_id: int) -&gt; str\n</code></pre> <p>Get the web URL for a record.</p> <p>Works with both sync <code>OdooClient</code> and async <code>AsyncOdooClient</code> \u2014 only <code>client.config.url</code> is accessed.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client (sync or async)</p> <p> TYPE: <code>OdooClient | Any</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>str</code> <p>URL to view the record in Odoo web interface</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; get_record_url(client, \"helpdesk.ticket\", 42)\n'https://odoo.example.com/web#id=42&amp;model=helpdesk.ticket&amp;view_type=form'\n</code></pre> Source code in <code>src/vodoo/base.py</code> <pre><code>def get_record_url(client: OdooClient | Any, model: str, record_id: int) -&gt; str:\n    \"\"\"Get the web URL for a record.\n\n    Works with both sync ``OdooClient`` and async ``AsyncOdooClient`` \u2014\n    only ``client.config.url`` is accessed.\n\n    Args:\n        client: Odoo client (sync or async)\n        model: Model name\n        record_id: Record ID\n\n    Returns:\n        URL to view the record in Odoo web interface\n\n    Examples:\n        &gt;&gt;&gt; get_record_url(client, \"helpdesk.ticket\", 42)\n        'https://odoo.example.com/web#id=42&amp;model=helpdesk.ticket&amp;view_type=form'\n\n    \"\"\"\n    base_url = client.config.url.rstrip(\"/\")\n    return f\"{base_url}/web#id={record_id}&amp;model={model}&amp;view_type=form\"\n</code></pre>"},{"location":"api/client/","title":"OdooClient","text":"<p>The main entry point for interacting with Odoo.</p>"},{"location":"api/client/#vodoo.client.OdooClient","title":"OdooClient","text":"<pre><code>OdooClient(config: OdooConfig, *, transport: OdooTransport | None = None, auto_detect: bool = True)\n</code></pre> <p>Odoo client for external API access.</p> <p>Wraps an OdooTransport to provide a convenient interface for Odoo operations. Supports both legacy JSON-RPC (Odoo 14-18) and JSON-2 API (Odoo 19+).</p> <p>Initialize Odoo client.</p> PARAMETER DESCRIPTION <code>config</code> <p>Odoo configuration</p> <p> TYPE: <code>OdooConfig</code> </p> <code>transport</code> <p>Explicit transport instance (skips auto-detection)</p> <p> TYPE: <code>OdooTransport | None</code> DEFAULT: <code>None</code> </p> <code>auto_detect</code> <p>If True and no transport given, probe JSON-2 first then          fall back to legacy. If False, use legacy directly.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> Source code in <code>src/vodoo/client.py</code> <pre><code>def __init__(\n    self,\n    config: OdooConfig,\n    *,\n    transport: OdooTransport | None = None,\n    auto_detect: bool = True,\n) -&gt; None:\n    \"\"\"Initialize Odoo client.\n\n    Args:\n        config: Odoo configuration\n        transport: Explicit transport instance (skips auto-detection)\n        auto_detect: If True and no transport given, probe JSON-2 first then\n                     fall back to legacy. If False, use legacy directly.\n    \"\"\"\n    self.config = config\n    self.url = config.url.rstrip(\"/\")\n    self.db = config.database\n    self.username = config.username\n    self.password = config.password\n    self._retry = config.retry_config\n\n    if transport is not None:\n        self._transport = transport\n    elif auto_detect:\n        self._transport = self._detect_transport()\n    else:\n        self._transport = LegacyTransport(\n            url=self.url,\n            database=self.db,\n            username=self.username,\n            password=self.password,\n            retry=self._retry,\n        )\n</code></pre>"},{"location":"api/client/#vodoo.client.OdooClient.transport","title":"transport  <code>property</code>","text":"<pre><code>transport: OdooTransport\n</code></pre> <p>The underlying transport.</p>"},{"location":"api/client/#vodoo.client.OdooClient.is_json2","title":"is_json2  <code>property</code>","text":"<pre><code>is_json2: bool\n</code></pre> <p>Whether the client is using the JSON-2 API (Odoo 19+).</p>"},{"location":"api/client/#vodoo.client.OdooClient.uid","title":"uid  <code>property</code>","text":"<pre><code>uid: int\n</code></pre> <p>Get authenticated user ID.</p>"},{"location":"api/client/#vodoo.client.OdooClient.close","title":"close","text":"<pre><code>close() -&gt; None\n</code></pre> <p>Close the underlying HTTP client.</p> Source code in <code>src/vodoo/client.py</code> <pre><code>def close(self) -&gt; None:\n    \"\"\"Close the underlying HTTP client.\"\"\"\n    self._transport.close()\n</code></pre>"},{"location":"api/client/#vodoo.client.OdooClient.execute","title":"execute","text":"<pre><code>execute(model: str, method: str, *args: Any, **kwargs: Any) -&gt; Any\n</code></pre> <p>Execute a method on an Odoo model.</p> PARAMETER DESCRIPTION <code>model</code> <p>Odoo model name (e.g., 'helpdesk.ticket')</p> <p> TYPE: <code>str</code> </p> <code>method</code> <p>Method name (e.g., 'search', 'read')</p> <p> TYPE: <code>str</code> </p> <code>*args</code> <p>Positional arguments for the method</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>Keyword arguments for the method</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>Any</code> <p>Method result</p> Source code in <code>src/vodoo/client.py</code> <pre><code>def execute(\n    self,\n    model: str,\n    method: str,\n    *args: Any,\n    **kwargs: Any,\n) -&gt; Any:\n    \"\"\"Execute a method on an Odoo model.\n\n    Args:\n        model: Odoo model name (e.g., 'helpdesk.ticket')\n        method: Method name (e.g., 'search', 'read')\n        *args: Positional arguments for the method\n        **kwargs: Keyword arguments for the method\n\n    Returns:\n        Method result\n    \"\"\"\n    return self._transport.execute_kw(model, method, list(args), kwargs or None)\n</code></pre>"},{"location":"api/client/#vodoo.client.OdooClient.execute_sudo","title":"execute_sudo","text":"<pre><code>execute_sudo(model: str, method: str, user_id: int, *args: Any, **kwargs: Any) -&gt; Any\n</code></pre> <p>Execute a method as another user using sudo.</p> PARAMETER DESCRIPTION <code>model</code> <p>Odoo model name</p> <p> TYPE: <code>str</code> </p> <code>method</code> <p>Method name</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to execute as</p> <p> TYPE: <code>int</code> </p> <code>*args</code> <p>Positional arguments</p> <p> TYPE: <code>Any</code> DEFAULT: <code>()</code> </p> <code>**kwargs</code> <p>Keyword arguments</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>Any</code> <p>Method result</p> Source code in <code>src/vodoo/client.py</code> <pre><code>def execute_sudo(\n    self,\n    model: str,\n    method: str,\n    user_id: int,\n    *args: Any,\n    **kwargs: Any,\n) -&gt; Any:\n    \"\"\"Execute a method as another user using sudo.\n\n    Args:\n        model: Odoo model name\n        method: Method name\n        user_id: User ID to execute as\n        *args: Positional arguments\n        **kwargs: Keyword arguments\n\n    Returns:\n        Method result\n    \"\"\"\n    if \"context\" not in kwargs:\n        kwargs[\"context\"] = {}\n    kwargs[\"context\"][\"sudo_user_id\"] = user_id\n    return self.execute(model, method, *args, **kwargs)\n</code></pre>"},{"location":"api/client/#vodoo.client.OdooClient.search","title":"search","text":"<pre><code>search(model: str, domain: list[Any] | None = None, limit: int | None = None, offset: int = 0, order: str | None = None) -&gt; list[int]\n</code></pre> <p>Search for records.</p> Source code in <code>src/vodoo/client.py</code> <pre><code>def search(\n    self,\n    model: str,\n    domain: list[Any] | None = None,\n    limit: int | None = None,\n    offset: int = 0,\n    order: str | None = None,\n) -&gt; list[int]:\n    \"\"\"Search for records.\"\"\"\n    return self._transport.search(model, domain, limit, offset, order)\n</code></pre>"},{"location":"api/client/#vodoo.client.OdooClient.read","title":"read","text":"<pre><code>read(model: str, ids: list[int], fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>Read records by IDs.</p> Source code in <code>src/vodoo/client.py</code> <pre><code>def read(\n    self,\n    model: str,\n    ids: list[int],\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"Read records by IDs.\"\"\"\n    return self._transport.read(model, ids, fields)\n</code></pre>"},{"location":"api/client/#vodoo.client.OdooClient.search_read","title":"search_read","text":"<pre><code>search_read(model: str, domain: list[Any] | None = None, fields: list[str] | None = None, limit: int | None = None, offset: int = 0, order: str | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>Search and read records in one call.</p> Source code in <code>src/vodoo/client.py</code> <pre><code>def search_read(\n    self,\n    model: str,\n    domain: list[Any] | None = None,\n    fields: list[str] | None = None,\n    limit: int | None = None,\n    offset: int = 0,\n    order: str | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"Search and read records in one call.\"\"\"\n    return self._transport.search_read(model, domain, fields, limit, offset, order)\n</code></pre>"},{"location":"api/client/#vodoo.client.OdooClient.create","title":"create","text":"<pre><code>create(model: str, values: dict[str, Any], context: dict[str, Any] | None = None) -&gt; int\n</code></pre> <p>Create a new record.</p> Source code in <code>src/vodoo/client.py</code> <pre><code>def create(\n    self,\n    model: str,\n    values: dict[str, Any],\n    context: dict[str, Any] | None = None,\n) -&gt; int:\n    \"\"\"Create a new record.\"\"\"\n    return self._transport.create(model, process_values(values), context)\n</code></pre>"},{"location":"api/client/#vodoo.client.OdooClient.write","title":"write","text":"<pre><code>write(model: str, ids: list[int], values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update records.</p> Source code in <code>src/vodoo/client.py</code> <pre><code>def write(\n    self,\n    model: str,\n    ids: list[int],\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update records.\"\"\"\n    return self._transport.write(model, ids, process_values(values))\n</code></pre>"},{"location":"api/client/#vodoo.client.OdooClient.unlink","title":"unlink","text":"<pre><code>unlink(model: str, ids: list[int]) -&gt; bool\n</code></pre> <p>Delete records.</p> Source code in <code>src/vodoo/client.py</code> <pre><code>def unlink(\n    self,\n    model: str,\n    ids: list[int],\n) -&gt; bool:\n    \"\"\"Delete records.\"\"\"\n    return self._transport.unlink(model, ids)\n</code></pre>"},{"location":"api/client/#vodoo.client.OdooClient.name_search","title":"name_search","text":"<pre><code>name_search(model: str, name: str, domain: list[Any] | None = None, limit: int = 7) -&gt; list[tuple[int, str]]\n</code></pre> <p>Autocomplete search returning (id, display_name) pairs.</p> Source code in <code>src/vodoo/client.py</code> <pre><code>def name_search(\n    self,\n    model: str,\n    name: str,\n    domain: list[Any] | None = None,\n    limit: int = 7,\n) -&gt; list[tuple[int, str]]:\n    \"\"\"Autocomplete search returning (id, display_name) pairs.\"\"\"\n    return self._transport.name_search(model, name, domain, limit)\n</code></pre>"},{"location":"api/config/","title":"OdooConfig","text":"<p>Configuration management using Pydantic Settings.</p>"},{"location":"api/config/#vodoo.config.OdooConfig","title":"OdooConfig","text":"<p>               Bases: <code>BaseSettings</code></p> <p>Odoo connection configuration.</p>"},{"location":"api/config/#vodoo.config.OdooConfig.retry_config","title":"retry_config  <code>property</code>","text":"<pre><code>retry_config: RetryConfig\n</code></pre> <p>Build a :class:<code>RetryConfig</code> from the configuration values.</p>"},{"location":"api/config/#vodoo.config.OdooConfig.from_file","title":"from_file  <code>classmethod</code>","text":"<pre><code>from_file(config_path: Path | None = None) -&gt; OdooConfig\n</code></pre> <p>Load configuration from file.</p> PARAMETER DESCRIPTION <code>config_path</code> <p>Path to config file. If None, uses default locations.</p> <p> TYPE: <code>Path | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>OdooConfig</code> <p>OdooConfig instance</p> Source code in <code>src/vodoo/config.py</code> <pre><code>@classmethod\ndef from_file(cls, config_path: Path | None = None) -&gt; \"OdooConfig\":\n    \"\"\"Load configuration from file.\n\n    Args:\n        config_path: Path to config file. If None, uses default locations.\n\n    Returns:\n        OdooConfig instance\n\n    \"\"\"\n    if config_path is None:\n        # Try config locations, most specific first (local overrides global).\n        possible_paths = [\n            Path.cwd() / \".vodoo.env\",\n            Path.cwd() / \".env\",\n            Path.home() / \".config\" / \"vodoo\" / \"config.env\",\n        ]\n        for path in possible_paths:\n            if path.exists():\n                config_path = path\n                break\n\n    if config_path and config_path.exists():\n        return cls(_env_file=str(config_path))  # type: ignore[call-arg]\n\n    return cls()  # type: ignore[call-arg]\n</code></pre>"},{"location":"api/config/#vodoo.config.get_config","title":"get_config","text":"<pre><code>get_config() -&gt; OdooConfig\n</code></pre> <p>Get the Odoo configuration.</p> RETURNS DESCRIPTION <code>OdooConfig</code> <p>OdooConfig instance</p> Source code in <code>src/vodoo/config.py</code> <pre><code>def get_config() -&gt; OdooConfig:\n    \"\"\"Get the Odoo configuration.\n\n    Returns:\n        OdooConfig instance\n\n    \"\"\"\n    return OdooConfig.from_file()\n</code></pre>"},{"location":"api/crm/","title":"CRM","text":"<p>Operations for the <code>crm.lead</code> model (leads and opportunities).</p>"},{"location":"api/crm/#vodoo.crm","title":"crm","text":"<p>CRM lead/opportunity operations for Vodoo.</p>"},{"location":"api/crm/#vodoo.crm.list_leads","title":"list_leads","text":"<pre><code>list_leads(client: OdooClient, domain: list[Any] | None = None, limit: int | None = 50, fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List CRM leads/opportunities.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>domain</code> <p>Search domain filters</p> <p> TYPE: <code>list[Any] | None</code> DEFAULT: <code>None</code> </p> <code>limit</code> <p>Maximum number of leads</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>50</code> </p> <code>fields</code> <p>List of fields to fetch (None = default fields)</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of lead dictionaries</p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def list_leads(\n    client: OdooClient,\n    domain: list[Any] | None = None,\n    limit: int | None = 50,\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List CRM leads/opportunities.\n\n    Args:\n        client: Odoo client\n        domain: Search domain filters\n        limit: Maximum number of leads\n        fields: List of fields to fetch (None = default fields)\n\n    Returns:\n        List of lead dictionaries\n\n    \"\"\"\n    if fields is None:\n        fields = list(DEFAULT_LIST_FIELDS)\n\n    return list_records(client, MODEL, domain=domain, limit=limit, fields=fields)\n</code></pre>"},{"location":"api/crm/#vodoo.crm.display_leads","title":"display_leads","text":"<pre><code>display_leads(leads: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display leads in a rich table.</p> PARAMETER DESCRIPTION <code>leads</code> <p>List of lead dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def display_leads(leads: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display leads in a rich table.\n\n    Args:\n        leads: List of lead dictionaries\n\n    \"\"\"\n    display_records(leads, title=\"CRM Leads/Opportunities\")\n</code></pre>"},{"location":"api/crm/#vodoo.crm.get_lead","title":"get_lead","text":"<pre><code>get_lead(client: OdooClient, lead_id: int, fields: list[str] | None = None) -&gt; dict[str, Any]\n</code></pre> <p>Get detailed lead information.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>lead_id</code> <p>Lead ID</p> <p> TYPE: <code>int</code> </p> <code>fields</code> <p>List of field names to read (None = all fields)</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>Lead dictionary</p> RAISES DESCRIPTION <code>ValueError</code> <p>If lead not found</p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def get_lead(\n    client: OdooClient,\n    lead_id: int,\n    fields: list[str] | None = None,\n) -&gt; dict[str, Any]:\n    \"\"\"Get detailed lead information.\n\n    Args:\n        client: Odoo client\n        lead_id: Lead ID\n        fields: List of field names to read (None = all fields)\n\n    Returns:\n        Lead dictionary\n\n    Raises:\n        ValueError: If lead not found\n\n    \"\"\"\n    return get_record(client, MODEL, lead_id, fields=fields)\n</code></pre>"},{"location":"api/crm/#vodoo.crm.list_lead_fields","title":"list_lead_fields","text":"<pre><code>list_lead_fields(client: OdooClient) -&gt; dict[str, Any]\n</code></pre> <p>Get all available fields for CRM leads.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>Dictionary of field definitions with field names as keys</p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def list_lead_fields(client: OdooClient) -&gt; dict[str, Any]:\n    \"\"\"Get all available fields for CRM leads.\n\n    Args:\n        client: Odoo client\n\n    Returns:\n        Dictionary of field definitions with field names as keys\n\n    \"\"\"\n    return list_fields(client, MODEL)\n</code></pre>"},{"location":"api/crm/#vodoo.crm.set_lead_fields","title":"set_lead_fields","text":"<pre><code>set_lead_fields(client: OdooClient, lead_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update fields on a lead.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>lead_id</code> <p>Lead ID</p> <p> TYPE: <code>int</code> </p> <code>values</code> <p>Dictionary of field names and values to update</p> <p> TYPE: <code>dict[str, Any]</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; set_lead_fields(client, 42, {\"name\": \"New title\", \"priority\": \"2\"})\n&gt;&gt;&gt; set_lead_fields(client, 42, {\"user_id\": 5, \"stage_id\": 3})\n</code></pre> Source code in <code>src/vodoo/crm.py</code> <pre><code>def set_lead_fields(\n    client: OdooClient,\n    lead_id: int,\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update fields on a lead.\n\n    Args:\n        client: Odoo client\n        lead_id: Lead ID\n        values: Dictionary of field names and values to update\n\n    Returns:\n        True if successful\n\n    Examples:\n        &gt;&gt;&gt; set_lead_fields(client, 42, {\"name\": \"New title\", \"priority\": \"2\"})\n        &gt;&gt;&gt; set_lead_fields(client, 42, {\"user_id\": 5, \"stage_id\": 3})\n\n    \"\"\"\n    return set_record_fields(client, MODEL, lead_id, values)\n</code></pre>"},{"location":"api/crm/#vodoo.crm.display_lead_detail","title":"display_lead_detail","text":"<pre><code>display_lead_detail(lead: dict[str, Any], show_html: bool = False) -&gt; None\n</code></pre> <p>Display detailed lead information.</p> PARAMETER DESCRIPTION <code>lead</code> <p>Lead dictionary</p> <p> TYPE: <code>dict[str, Any]</code> </p> <code>show_html</code> <p>If True, show raw HTML description, else convert to markdown</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def display_lead_detail(lead: dict[str, Any], show_html: bool = False) -&gt; None:\n    \"\"\"Display detailed lead information.\n\n    Args:\n        lead: Lead dictionary\n        show_html: If True, show raw HTML description, else convert to markdown\n\n    \"\"\"\n    display_record_detail(lead, show_html=show_html, record_type=\"Lead\")\n</code></pre>"},{"location":"api/crm/#vodoo.crm.add_comment","title":"add_comment","text":"<pre><code>add_comment(client: OdooClient, lead_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a comment to a lead (visible to followers).</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>lead_id</code> <p>Lead ID</p> <p> TYPE: <code>int</code> </p> <code>message</code> <p>Comment message (plain text or markdown)</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to post as (uses default if None)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>markdown</code> <p>If True, convert markdown to HTML</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def add_comment(\n    client: OdooClient,\n    lead_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a comment to a lead (visible to followers).\n\n    Args:\n        client: Odoo client\n        lead_id: Lead ID\n        message: Comment message (plain text or markdown)\n        user_id: User ID to post as (uses default if None)\n        markdown: If True, convert markdown to HTML\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    return base_add_comment(client, MODEL, lead_id, message, user_id=user_id, markdown=markdown)\n</code></pre>"},{"location":"api/crm/#vodoo.crm.add_note","title":"add_note","text":"<pre><code>add_note(client: OdooClient, lead_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add an internal note to a lead (not visible to followers).</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>lead_id</code> <p>Lead ID</p> <p> TYPE: <code>int</code> </p> <code>message</code> <p>Note message (plain text or markdown)</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to post as (uses default if None)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>markdown</code> <p>If True, convert markdown to HTML</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def add_note(\n    client: OdooClient,\n    lead_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add an internal note to a lead (not visible to followers).\n\n    Args:\n        client: Odoo client\n        lead_id: Lead ID\n        message: Note message (plain text or markdown)\n        user_id: User ID to post as (uses default if None)\n        markdown: If True, convert markdown to HTML\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    return base_add_note(client, MODEL, lead_id, message, user_id=user_id, markdown=markdown)\n</code></pre>"},{"location":"api/crm/#vodoo.crm.list_tags","title":"list_tags","text":"<pre><code>list_tags(client: OdooClient) -&gt; list[dict[str, Any]]\n</code></pre> <p>List available CRM tags.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of tag dictionaries</p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def list_tags(client: OdooClient) -&gt; list[dict[str, Any]]:\n    \"\"\"List available CRM tags.\n\n    Args:\n        client: Odoo client\n\n    Returns:\n        List of tag dictionaries\n\n    \"\"\"\n    return base_list_tags(client, TAG_MODEL)\n</code></pre>"},{"location":"api/crm/#vodoo.crm.display_tags","title":"display_tags","text":"<pre><code>display_tags(tags: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display tags in a rich table.</p> PARAMETER DESCRIPTION <code>tags</code> <p>List of tag dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def display_tags(tags: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display tags in a rich table.\n\n    Args:\n        tags: List of tag dictionaries\n\n    \"\"\"\n    base_display_tags(tags, title=\"CRM Tags\")\n</code></pre>"},{"location":"api/crm/#vodoo.crm.add_tag_to_lead","title":"add_tag_to_lead","text":"<pre><code>add_tag_to_lead(client: OdooClient, lead_id: int, tag_id: int) -&gt; bool\n</code></pre> <p>Add a tag to a lead.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>lead_id</code> <p>Lead ID</p> <p> TYPE: <code>int</code> </p> <code>tag_id</code> <p>Tag ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def add_tag_to_lead(\n    client: OdooClient,\n    lead_id: int,\n    tag_id: int,\n) -&gt; bool:\n    \"\"\"Add a tag to a lead.\n\n    Args:\n        client: Odoo client\n        lead_id: Lead ID\n        tag_id: Tag ID\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    return add_tag_to_record(client, MODEL, lead_id, tag_id)\n</code></pre>"},{"location":"api/crm/#vodoo.crm.list_lead_messages","title":"list_lead_messages","text":"<pre><code>list_lead_messages(client: OdooClient, lead_id: int, limit: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List messages/chatter for a lead.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>lead_id</code> <p>Lead ID</p> <p> TYPE: <code>int</code> </p> <code>limit</code> <p>Maximum number of messages (None = all)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of message dictionaries</p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def list_lead_messages(\n    client: OdooClient,\n    lead_id: int,\n    limit: int | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List messages/chatter for a lead.\n\n    Args:\n        client: Odoo client\n        lead_id: Lead ID\n        limit: Maximum number of messages (None = all)\n\n    Returns:\n        List of message dictionaries\n\n    \"\"\"\n    return base_list_messages(client, MODEL, lead_id, limit=limit)\n</code></pre>"},{"location":"api/crm/#vodoo.crm.list_lead_attachments","title":"list_lead_attachments","text":"<pre><code>list_lead_attachments(client: OdooClient, lead_id: int) -&gt; list[dict[str, Any]]\n</code></pre> <p>List attachments for a lead.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>lead_id</code> <p>Lead ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of attachment dictionaries</p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def list_lead_attachments(\n    client: OdooClient,\n    lead_id: int,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List attachments for a lead.\n\n    Args:\n        client: Odoo client\n        lead_id: Lead ID\n\n    Returns:\n        List of attachment dictionaries\n\n    \"\"\"\n    return base_list_attachments(client, MODEL, lead_id)\n</code></pre>"},{"location":"api/crm/#vodoo.crm.download_lead_attachments","title":"download_lead_attachments","text":"<pre><code>download_lead_attachments(client: OdooClient, lead_id: int, output_dir: Path | None = None, extension: str | None = None) -&gt; list[Path]\n</code></pre> <p>Download all attachments from a lead.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>lead_id</code> <p>Lead ID</p> <p> TYPE: <code>int</code> </p> <code>output_dir</code> <p>Output directory (defaults to current directory)</p> <p> TYPE: <code>Path | None</code> DEFAULT: <code>None</code> </p> <code>extension</code> <p>File extension filter (e.g., 'pdf', 'jpg')</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[Path]</code> <p>List of paths to downloaded files</p> Source code in <code>src/vodoo/crm.py</code> <pre><code>def download_lead_attachments(\n    client: OdooClient,\n    lead_id: int,\n    output_dir: Path | None = None,\n    extension: str | None = None,\n) -&gt; list[Path]:\n    \"\"\"Download all attachments from a lead.\n\n    Args:\n        client: Odoo client\n        lead_id: Lead ID\n        output_dir: Output directory (defaults to current directory)\n        extension: File extension filter (e.g., 'pdf', 'jpg')\n\n    Returns:\n        List of paths to downloaded files\n\n    \"\"\"\n    return download_record_attachments(client, MODEL, lead_id, output_dir, extension=extension)\n</code></pre>"},{"location":"api/crm/#vodoo.crm.create_lead_attachment","title":"create_lead_attachment","text":"<pre><code>create_lead_attachment(client: OdooClient, lead_id: int, file_path: Path | str, name: str | None = None) -&gt; int\n</code></pre> <p>Create an attachment for a lead.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>lead_id</code> <p>Lead ID</p> <p> TYPE: <code>int</code> </p> <code>file_path</code> <p>Path to file to attach</p> <p> TYPE: <code>Path | str</code> </p> <code>name</code> <p>Attachment name (defaults to filename)</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>int</code> <p>ID of created attachment</p> RAISES DESCRIPTION <code>ValueError</code> <p>If file doesn't exist</p> <code>FileNotFoundError</code> <p>If file path is invalid</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; create_lead_attachment(client, 42, \"proposal.pdf\")\n&gt;&gt;&gt; create_lead_attachment(client, 42, \"/path/to/file.pdf\", name=\"Quote.pdf\")\n</code></pre> Source code in <code>src/vodoo/crm.py</code> <pre><code>def create_lead_attachment(\n    client: OdooClient,\n    lead_id: int,\n    file_path: Path | str,\n    name: str | None = None,\n) -&gt; int:\n    \"\"\"Create an attachment for a lead.\n\n    Args:\n        client: Odoo client\n        lead_id: Lead ID\n        file_path: Path to file to attach\n        name: Attachment name (defaults to filename)\n\n    Returns:\n        ID of created attachment\n\n    Raises:\n        ValueError: If file doesn't exist\n        FileNotFoundError: If file path is invalid\n\n    Examples:\n        &gt;&gt;&gt; create_lead_attachment(client, 42, \"proposal.pdf\")\n        &gt;&gt;&gt; create_lead_attachment(client, 42, \"/path/to/file.pdf\", name=\"Quote.pdf\")\n\n    \"\"\"\n    return base_create_attachment(client, MODEL, lead_id, file_path, name=name)\n</code></pre>"},{"location":"api/crm/#vodoo.crm.get_lead_url","title":"get_lead_url","text":"<pre><code>get_lead_url(client: OdooClient, lead_id: int) -&gt; str\n</code></pre> <p>Get the web URL for a lead.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>lead_id</code> <p>Lead ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>str</code> <p>URL to view the lead in Odoo web interface</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; get_lead_url(client, 42)\n'https://odoo.example.com/web#id=42&amp;model=crm.lead&amp;view_type=form'\n</code></pre> Source code in <code>src/vodoo/crm.py</code> <pre><code>def get_lead_url(client: OdooClient, lead_id: int) -&gt; str:\n    \"\"\"Get the web URL for a lead.\n\n    Args:\n        client: Odoo client\n        lead_id: Lead ID\n\n    Returns:\n        URL to view the lead in Odoo web interface\n\n    Examples:\n        &gt;&gt;&gt; get_lead_url(client, 42)\n        'https://odoo.example.com/web#id=42&amp;model=crm.lead&amp;view_type=form'\n\n    \"\"\"\n    return get_record_url(client, MODEL, lead_id)\n</code></pre>"},{"location":"api/exceptions/","title":"Exceptions","text":"<p>All Vodoo exceptions inherit from <code>VodooError</code>, allowing consumers to catch a single base class.</p> <p>The Odoo server-side exceptions (<code>OdooUserError</code> and subclasses) mirror the hierarchy from <code>odoo/exceptions.py</code>. When the transport layer receives an error whose <code>data.name</code> matches a known Odoo exception, it raises the corresponding Vodoo exception \u2014 so you can handle specific failure modes without parsing error strings.</p> <pre><code>VodooError\n\u251c\u2500\u2500 ConfigurationError\n\u251c\u2500\u2500 AuthenticationError\n\u251c\u2500\u2500 RecordNotFoundError\n\u251c\u2500\u2500 RecordOperationError\n\u251c\u2500\u2500 TransportError\n\u2502   \u2514\u2500\u2500 OdooUserError              \u2190 odoo.exceptions.UserError\n\u2502       \u251c\u2500\u2500 OdooAccessDeniedError  \u2190 odoo.exceptions.AccessDenied\n\u2502       \u251c\u2500\u2500 OdooAccessError        \u2190 odoo.exceptions.AccessError\n\u2502       \u251c\u2500\u2500 OdooMissingError       \u2190 odoo.exceptions.MissingError\n\u2502       \u2514\u2500\u2500 OdooValidationError    \u2190 odoo.exceptions.ValidationError\n\u2514\u2500\u2500 FieldParsingError\n</code></pre>"},{"location":"api/exceptions/#usage","title":"Usage","text":"<pre><code>from vodoo import (\n    VodooError,\n    AuthenticationError,\n    TransportError,\n    RecordNotFoundError,\n)\nfrom vodoo.exceptions import (\n    OdooAccessError,\n    OdooValidationError,\n    OdooMissingError,\n)\n\ntry:\n    client.write(\"res.partner\", [999999], {\"name\": \"test\"})\nexcept OdooAccessError:\n    print(\"You don't have permission for this operation\")\nexcept OdooMissingError:\n    print(\"Record no longer exists\")\nexcept OdooValidationError as e:\n    print(f\"Constraint violated: {e}\")\nexcept RecordNotFoundError as e:\n    print(f\"Not found: {e.model} #{e.record_id}\")\nexcept TransportError as e:\n    print(f\"RPC error [{e.code}]: {e}\")\nexcept VodooError:\n    print(\"Something else went wrong\")\n</code></pre>"},{"location":"api/exceptions/#reference","title":"Reference","text":""},{"location":"api/exceptions/#vodoo.exceptions","title":"exceptions","text":"<p>Vodoo exception hierarchy.</p> <p>All public exceptions inherit from :class:<code>VodooError</code> so that library consumers can catch a single base class when desired.</p> <p>The Odoo-server error classes (:class:<code>OdooUserError</code> and its subclasses) mirror the hierarchy defined in <code>odoo/exceptions.py</code> on the server. When the transport layer receives a JSON-RPC or JSON-2 error whose <code>data.name</code> matches a known Odoo exception class, it raises the corresponding Vodoo exception so callers can handle specific failure modes without parsing error strings.</p> <p>Hierarchy overview::</p> <pre><code>VodooError\n\u251c\u2500\u2500 ConfigurationError\n\u251c\u2500\u2500 AuthenticationError\n\u251c\u2500\u2500 AuthenticationError\n\u251c\u2500\u2500 RecordNotFoundError\n\u251c\u2500\u2500 RecordOperationError\n\u251c\u2500\u2500 TransportError\n\u2502   \u2514\u2500\u2500 OdooUserError           \u2190 odoo.exceptions.UserError\n\u2502       \u251c\u2500\u2500 OdooAccessDeniedError    \u2190 odoo.exceptions.AccessDenied\n\u2502       \u251c\u2500\u2500 OdooAccessError     \u2190 odoo.exceptions.AccessError\n\u2502       \u251c\u2500\u2500 OdooMissingError    \u2190 odoo.exceptions.MissingError\n\u2502       \u2514\u2500\u2500 OdooValidationError \u2190 odoo.exceptions.ValidationError\n\u2514\u2500\u2500 FieldParsingError\n</code></pre>"},{"location":"api/exceptions/#vodoo.exceptions.VodooError","title":"VodooError","text":"<p>               Bases: <code>Exception</code></p> <p>Base exception for all Vodoo errors.</p>"},{"location":"api/exceptions/#vodoo.exceptions.ConfigurationError","title":"ConfigurationError","text":"<p>               Bases: <code>VodooError</code></p> <p>Raised when the configuration is invalid or incomplete.</p>"},{"location":"api/exceptions/#vodoo.exceptions.AuthenticationError","title":"AuthenticationError","text":"<p>               Bases: <code>VodooError</code></p> <p>Raised when authentication with the Odoo server fails.</p>"},{"location":"api/exceptions/#vodoo.exceptions.RecordNotFoundError","title":"RecordNotFoundError","text":"<pre><code>RecordNotFoundError(model: str, record_id: int)\n</code></pre> <p>               Bases: <code>VodooError</code></p> <p>Raised when an expected Odoo record does not exist.</p> Source code in <code>src/vodoo/exceptions.py</code> <pre><code>def __init__(self, model: str, record_id: int) -&gt; None:\n    self.model = model\n    self.record_id = record_id\n    super().__init__(f\"Record {record_id} not found in {model}\")\n</code></pre>"},{"location":"api/exceptions/#vodoo.exceptions.RecordOperationError","title":"RecordOperationError","text":"<p>               Bases: <code>VodooError</code></p> <p>Raised when a write/create/unlink operation fails.</p>"},{"location":"api/exceptions/#vodoo.exceptions.TransportError","title":"TransportError","text":"<pre><code>TransportError(message: str, code: int = -1, data: dict[str, Any] | None = None)\n</code></pre> <p>               Bases: <code>VodooError</code></p> <p>Raised on JSON-RPC / HTTP transport failures.</p> <p>Carries the numeric error code and the raw data dict returned by the server so that callers can inspect details without string-parsing.</p> Source code in <code>src/vodoo/exceptions.py</code> <pre><code>def __init__(\n    self,\n    message: str,\n    code: int = -1,\n    data: dict[str, Any] | None = None,\n) -&gt; None:\n    self.code = code\n    self.data = data or {}\n    super().__init__(f\"[{code}] {message}\")\n</code></pre>"},{"location":"api/exceptions/#vodoo.exceptions.OdooUserError","title":"OdooUserError","text":"<pre><code>OdooUserError(message: str, code: int = -1, data: dict[str, Any] | None = None)\n</code></pre> <p>               Bases: <code>TransportError</code></p> <p>The server raised <code>odoo.exceptions.UserError</code>.</p> <p>This is the generic Odoo end-user error \u2014 semantically a 400-class problem (bad request / invalid operation given the current state).</p> Source code in <code>src/vodoo/exceptions.py</code> <pre><code>def __init__(\n    self,\n    message: str,\n    code: int = -1,\n    data: dict[str, Any] | None = None,\n) -&gt; None:\n    self.code = code\n    self.data = data or {}\n    super().__init__(f\"[{code}] {message}\")\n</code></pre>"},{"location":"api/exceptions/#vodoo.exceptions.OdooAccessDeniedError","title":"OdooAccessDeniedError","text":"<pre><code>OdooAccessDeniedError(message: str, code: int = -1, data: dict[str, Any] | None = None)\n</code></pre> <p>               Bases: <code>OdooUserError</code></p> <p>The server raised <code>odoo.exceptions.AccessDenied</code>.</p> <p>Login or API-key authentication failed.</p> Source code in <code>src/vodoo/exceptions.py</code> <pre><code>def __init__(\n    self,\n    message: str,\n    code: int = -1,\n    data: dict[str, Any] | None = None,\n) -&gt; None:\n    self.code = code\n    self.data = data or {}\n    super().__init__(f\"[{code}] {message}\")\n</code></pre>"},{"location":"api/exceptions/#vodoo.exceptions.OdooAccessError","title":"OdooAccessError","text":"<pre><code>OdooAccessError(message: str, code: int = -1, data: dict[str, Any] | None = None)\n</code></pre> <p>               Bases: <code>OdooUserError</code></p> <p>The server raised <code>odoo.exceptions.AccessError</code>.</p> <p>The authenticated user lacks the required access rights (ACL / record rules) for the attempted operation.</p> Source code in <code>src/vodoo/exceptions.py</code> <pre><code>def __init__(\n    self,\n    message: str,\n    code: int = -1,\n    data: dict[str, Any] | None = None,\n) -&gt; None:\n    self.code = code\n    self.data = data or {}\n    super().__init__(f\"[{code}] {message}\")\n</code></pre>"},{"location":"api/exceptions/#vodoo.exceptions.OdooMissingError","title":"OdooMissingError","text":"<pre><code>OdooMissingError(message: str, code: int = -1, data: dict[str, Any] | None = None)\n</code></pre> <p>               Bases: <code>OdooUserError</code></p> <p>The server raised <code>odoo.exceptions.MissingError</code>.</p> <p>The record(s) referenced in the operation no longer exist.</p> Source code in <code>src/vodoo/exceptions.py</code> <pre><code>def __init__(\n    self,\n    message: str,\n    code: int = -1,\n    data: dict[str, Any] | None = None,\n) -&gt; None:\n    self.code = code\n    self.data = data or {}\n    super().__init__(f\"[{code}] {message}\")\n</code></pre>"},{"location":"api/exceptions/#vodoo.exceptions.OdooValidationError","title":"OdooValidationError","text":"<pre><code>OdooValidationError(message: str, code: int = -1, data: dict[str, Any] | None = None)\n</code></pre> <p>               Bases: <code>OdooUserError</code></p> <p>The server raised <code>odoo.exceptions.ValidationError</code>.</p> <p>A Python constraint or SQL constraint was violated during create/write.</p> Source code in <code>src/vodoo/exceptions.py</code> <pre><code>def __init__(\n    self,\n    message: str,\n    code: int = -1,\n    data: dict[str, Any] | None = None,\n) -&gt; None:\n    self.code = code\n    self.data = data or {}\n    super().__init__(f\"[{code}] {message}\")\n</code></pre>"},{"location":"api/exceptions/#vodoo.exceptions.FieldParsingError","title":"FieldParsingError","text":"<p>               Bases: <code>VodooError</code></p> <p>Raised when a <code>field=value</code> assignment cannot be parsed.</p>"},{"location":"api/exceptions/#vodoo.exceptions.transport_error_from_data","title":"transport_error_from_data","text":"<pre><code>transport_error_from_data(message: str, code: int = -1, data: dict[str, Any] | None = None) -&gt; TransportError\n</code></pre> <p>Create the most specific :class:<code>TransportError</code> subclass for data.</p> <p>Inspects <code>data[\"name\"]</code> (set by Odoo's <code>serialize_exception</code>) and returns an instance of the matching :class:<code>OdooUserError</code> subclass when possible, falling back to plain :class:<code>TransportError</code>.</p> Source code in <code>src/vodoo/exceptions.py</code> <pre><code>def transport_error_from_data(\n    message: str,\n    code: int = -1,\n    data: dict[str, Any] | None = None,\n) -&gt; TransportError:\n    \"\"\"Create the most specific :class:`TransportError` subclass for *data*.\n\n    Inspects ``data[\"name\"]`` (set by Odoo's ``serialize_exception``) and\n    returns an instance of the matching :class:`OdooUserError` subclass\n    when possible, falling back to plain :class:`TransportError`.\n    \"\"\"\n    if data:\n        exc_name = data.get(\"name\", \"\")\n        cls = ODOO_EXCEPTION_MAP.get(exc_name, TransportError)\n    else:\n        cls = TransportError\n    return cls(message, code=code, data=data)\n</code></pre>"},{"location":"api/generic/","title":"Generic CRUD","text":"<p>Generic model operations that work with any Odoo model.</p>"},{"location":"api/generic/#vodoo.generic","title":"generic","text":"<p>Generic Odoo model operations.</p>"},{"location":"api/generic/#vodoo.generic.create_record","title":"create_record","text":"<pre><code>create_record(client: OdooClient, model: str, values: dict[str, Any]) -&gt; int\n</code></pre> <p>Create a new record.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name (e.g., 'product.template')</p> <p> TYPE: <code>str</code> </p> <code>values</code> <p>Dictionary of field values</p> <p> TYPE: <code>dict[str, Any]</code> </p> RETURNS DESCRIPTION <code>int</code> <p>ID of created record</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; create_record(client, 'res.partner', {'name': 'John Doe', 'email': 'john@example.com'})\n42\n</code></pre> Source code in <code>src/vodoo/generic.py</code> <pre><code>def create_record(\n    client: OdooClient,\n    model: str,\n    values: dict[str, Any],\n) -&gt; int:\n    \"\"\"Create a new record.\n\n    Args:\n        client: Odoo client\n        model: Model name (e.g., 'product.template')\n        values: Dictionary of field values\n\n    Returns:\n        ID of created record\n\n    Examples:\n        &gt;&gt;&gt; create_record(client, 'res.partner', {'name': 'John Doe', 'email': 'john@example.com'})\n        42\n\n    \"\"\"\n    return client.create(model, values)\n</code></pre>"},{"location":"api/generic/#vodoo.generic.update_record","title":"update_record","text":"<pre><code>update_record(client: OdooClient, model: str, record_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update a record.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>values</code> <p>Dictionary of field values to update</p> <p> TYPE: <code>dict[str, Any]</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; update_record(client, 'res.partner', 42, {'phone': '+1234567890'})\nTrue\n</code></pre> Source code in <code>src/vodoo/generic.py</code> <pre><code>def update_record(\n    client: OdooClient,\n    model: str,\n    record_id: int,\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update a record.\n\n    Args:\n        client: Odoo client\n        model: Model name\n        record_id: Record ID\n        values: Dictionary of field values to update\n\n    Returns:\n        True if successful\n\n    Examples:\n        &gt;&gt;&gt; update_record(client, 'res.partner', 42, {'phone': '+1234567890'})\n        True\n\n    \"\"\"\n    return client.write(model, [record_id], values)\n</code></pre>"},{"location":"api/generic/#vodoo.generic.delete_record","title":"delete_record","text":"<pre><code>delete_record(client: OdooClient, model: str, record_id: int) -&gt; bool\n</code></pre> <p>Delete a record.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; delete_record(client, 'res.partner', 42)\nTrue\n</code></pre> Source code in <code>src/vodoo/generic.py</code> <pre><code>def delete_record(\n    client: OdooClient,\n    model: str,\n    record_id: int,\n) -&gt; bool:\n    \"\"\"Delete a record.\n\n    Args:\n        client: Odoo client\n        model: Model name\n        record_id: Record ID\n\n    Returns:\n        True if successful\n\n    Examples:\n        &gt;&gt;&gt; delete_record(client, 'res.partner', 42)\n        True\n\n    \"\"\"\n    return client.unlink(model, [record_id])\n</code></pre>"},{"location":"api/generic/#vodoo.generic.search_records","title":"search_records","text":"<pre><code>search_records(client: OdooClient, model: str, domain: list[Any] | None = None, fields: list[str] | None = None, limit: int | None = None, offset: int = 0, order: str | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>Search and read records.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>domain</code> <p>Search domain</p> <p> TYPE: <code>list[Any] | None</code> DEFAULT: <code>None</code> </p> <code>fields</code> <p>Fields to fetch</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> <code>limit</code> <p>Maximum number of records</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>offset</code> <p>Number of records to skip</p> <p> TYPE: <code>int</code> DEFAULT: <code>0</code> </p> <code>order</code> <p>Sort order</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of record dictionaries</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; search_records(client, 'res.partner', [['name', 'ilike', 'john']])\n[{'id': 42, 'name': 'John Doe', ...}]\n</code></pre> Source code in <code>src/vodoo/generic.py</code> <pre><code>def search_records(\n    client: OdooClient,\n    model: str,\n    domain: list[Any] | None = None,\n    fields: list[str] | None = None,\n    limit: int | None = None,\n    offset: int = 0,\n    order: str | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"Search and read records.\n\n    Args:\n        client: Odoo client\n        model: Model name\n        domain: Search domain\n        fields: Fields to fetch\n        limit: Maximum number of records\n        offset: Number of records to skip\n        order: Sort order\n\n    Returns:\n        List of record dictionaries\n\n    Examples:\n        &gt;&gt;&gt; search_records(client, 'res.partner', [['name', 'ilike', 'john']])\n        [{'id': 42, 'name': 'John Doe', ...}]\n\n    \"\"\"\n    return client.search_read(\n        model,\n        domain=domain,\n        fields=fields,\n        limit=limit,\n        offset=offset,\n        order=order,\n    )\n</code></pre>"},{"location":"api/generic/#vodoo.generic.call_method","title":"call_method","text":"<pre><code>call_method(client: OdooClient, model: str, method: str, args: list[Any] | None = None, kwargs: dict[str, Any] | None = None) -&gt; Any\n</code></pre> <p>Call a custom method on a model.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>method</code> <p>Method name</p> <p> TYPE: <code>str</code> </p> <code>args</code> <p>Positional arguments</p> <p> TYPE: <code>list[Any] | None</code> DEFAULT: <code>None</code> </p> <code>kwargs</code> <p>Keyword arguments</p> <p> TYPE: <code>dict[str, Any] | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>Any</code> <p>Method result</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; call_method(client, 'res.partner', 'name_search', args=['Acme'])\n[(1, 'Acme Corp'), (2, 'Acme Ltd')]\n</code></pre> Source code in <code>src/vodoo/generic.py</code> <pre><code>def call_method(\n    client: OdooClient,\n    model: str,\n    method: str,\n    args: list[Any] | None = None,\n    kwargs: dict[str, Any] | None = None,\n) -&gt; Any:\n    \"\"\"Call a custom method on a model.\n\n    Args:\n        client: Odoo client\n        model: Model name\n        method: Method name\n        args: Positional arguments\n        kwargs: Keyword arguments\n\n    Returns:\n        Method result\n\n    Examples:\n        &gt;&gt;&gt; call_method(client, 'res.partner', 'name_search', args=['Acme'])\n        [(1, 'Acme Corp'), (2, 'Acme Ltd')]\n\n    \"\"\"\n    args = args or []\n    kwargs = kwargs or {}\n\n    return client.execute(model, method, *args, **kwargs)\n</code></pre>"},{"location":"api/helpdesk/","title":"Helpdesk","text":"<p>Operations for the <code>helpdesk.ticket</code> model (Odoo Enterprise).</p>"},{"location":"api/helpdesk/#vodoo.helpdesk","title":"helpdesk","text":"<p>Helpdesk operations for Vodoo.</p> <p>Each domain module (helpdesk, crm, project, etc.) deliberately uses explicit one-liner delegates to :mod:<code>vodoo.base</code> rather than a generic registry or class-based dispatch.  This is verbose (~15 functions per module, duplicated for async) but keeps every function independently discoverable in IDE autocomplete, grep, and generated docs, and makes stack traces trivial to follow.  The maintenance cost of these thin wrappers is near-zero.</p>"},{"location":"api/helpdesk/#vodoo.helpdesk.list_tickets","title":"list_tickets","text":"<pre><code>list_tickets(client: OdooClient, domain: list[Any] | None = None, limit: int | None = 50, fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List helpdesk tickets.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>domain</code> <p>Search domain filters</p> <p> TYPE: <code>list[Any] | None</code> DEFAULT: <code>None</code> </p> <code>limit</code> <p>Maximum number of tickets</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>50</code> </p> <code>fields</code> <p>List of fields to fetch (None = default fields)</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of ticket dictionaries</p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def list_tickets(\n    client: OdooClient,\n    domain: list[Any] | None = None,\n    limit: int | None = 50,\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List helpdesk tickets.\n\n    Args:\n        client: Odoo client\n        domain: Search domain filters\n        limit: Maximum number of tickets\n        fields: List of fields to fetch (None = default fields)\n\n    Returns:\n        List of ticket dictionaries\n\n    \"\"\"\n    if fields is None:\n        fields = list(DEFAULT_LIST_FIELDS)\n\n    return list_records(client, MODEL, domain=domain, limit=limit, fields=fields)\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.display_tickets","title":"display_tickets","text":"<pre><code>display_tickets(tickets: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display tickets in a rich table.</p> PARAMETER DESCRIPTION <code>tickets</code> <p>List of ticket dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def display_tickets(tickets: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display tickets in a rich table.\n\n    Args:\n        tickets: List of ticket dictionaries\n\n    \"\"\"\n    display_records(tickets, title=\"Helpdesk Tickets\")\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.get_ticket","title":"get_ticket","text":"<pre><code>get_ticket(client: OdooClient, ticket_id: int, fields: list[str] | None = None) -&gt; dict[str, Any]\n</code></pre> <p>Get detailed ticket information.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>ticket_id</code> <p>Ticket ID</p> <p> TYPE: <code>int</code> </p> <code>fields</code> <p>List of field names to read (None = all fields)</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>Ticket dictionary</p> RAISES DESCRIPTION <code>ValueError</code> <p>If ticket not found</p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def get_ticket(\n    client: OdooClient,\n    ticket_id: int,\n    fields: list[str] | None = None,\n) -&gt; dict[str, Any]:\n    \"\"\"Get detailed ticket information.\n\n    Args:\n        client: Odoo client\n        ticket_id: Ticket ID\n        fields: List of field names to read (None = all fields)\n\n    Returns:\n        Ticket dictionary\n\n    Raises:\n        ValueError: If ticket not found\n\n    \"\"\"\n    return get_record(client, MODEL, ticket_id, fields=fields)\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.list_ticket_fields","title":"list_ticket_fields","text":"<pre><code>list_ticket_fields(client: OdooClient) -&gt; dict[str, Any]\n</code></pre> <p>Get all available fields for helpdesk tickets.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>Dictionary of field definitions with field names as keys</p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def list_ticket_fields(client: OdooClient) -&gt; dict[str, Any]:\n    \"\"\"Get all available fields for helpdesk tickets.\n\n    Args:\n        client: Odoo client\n\n    Returns:\n        Dictionary of field definitions with field names as keys\n\n    \"\"\"\n    return list_fields(client, MODEL)\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.set_ticket_fields","title":"set_ticket_fields","text":"<pre><code>set_ticket_fields(client: OdooClient, ticket_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update fields on a ticket.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>ticket_id</code> <p>Ticket ID</p> <p> TYPE: <code>int</code> </p> <code>values</code> <p>Dictionary of field names and values to update</p> <p> TYPE: <code>dict[str, Any]</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; set_ticket_fields(client, 42, {\"name\": \"New title\", \"priority\": \"2\"})\n&gt;&gt;&gt; set_ticket_fields(client, 42, {\"user_id\": 5, \"stage_id\": 3})\n</code></pre> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def set_ticket_fields(\n    client: OdooClient,\n    ticket_id: int,\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update fields on a ticket.\n\n    Args:\n        client: Odoo client\n        ticket_id: Ticket ID\n        values: Dictionary of field names and values to update\n\n    Returns:\n        True if successful\n\n    Examples:\n        &gt;&gt;&gt; set_ticket_fields(client, 42, {\"name\": \"New title\", \"priority\": \"2\"})\n        &gt;&gt;&gt; set_ticket_fields(client, 42, {\"user_id\": 5, \"stage_id\": 3})\n\n    \"\"\"\n    return set_record_fields(client, MODEL, ticket_id, values)\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.display_ticket_detail","title":"display_ticket_detail","text":"<pre><code>display_ticket_detail(ticket: dict[str, Any], show_html: bool = False) -&gt; None\n</code></pre> <p>Display detailed ticket information.</p> PARAMETER DESCRIPTION <code>ticket</code> <p>Ticket dictionary</p> <p> TYPE: <code>dict[str, Any]</code> </p> <code>show_html</code> <p>If True, show raw HTML description, else convert to markdown</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def display_ticket_detail(ticket: dict[str, Any], show_html: bool = False) -&gt; None:\n    \"\"\"Display detailed ticket information.\n\n    Args:\n        ticket: Ticket dictionary\n        show_html: If True, show raw HTML description, else convert to markdown\n\n    \"\"\"\n    display_record_detail(ticket, show_html=show_html, record_type=\"Ticket\")\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.add_comment","title":"add_comment","text":"<pre><code>add_comment(client: OdooClient, ticket_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a comment to a ticket (visible to customers).</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>ticket_id</code> <p>Ticket ID</p> <p> TYPE: <code>int</code> </p> <code>message</code> <p>Comment message (plain text or markdown)</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to post as (uses default if None)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>markdown</code> <p>If True, convert markdown to HTML</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def add_comment(\n    client: OdooClient,\n    ticket_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a comment to a ticket (visible to customers).\n\n    Args:\n        client: Odoo client\n        ticket_id: Ticket ID\n        message: Comment message (plain text or markdown)\n        user_id: User ID to post as (uses default if None)\n        markdown: If True, convert markdown to HTML\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    return base_add_comment(client, MODEL, ticket_id, message, user_id=user_id, markdown=markdown)\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.add_note","title":"add_note","text":"<pre><code>add_note(client: OdooClient, ticket_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add an internal note to a ticket (not visible to customers).</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>ticket_id</code> <p>Ticket ID</p> <p> TYPE: <code>int</code> </p> <code>message</code> <p>Note message (plain text or markdown)</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to post as (uses default if None)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>markdown</code> <p>If True, convert markdown to HTML</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def add_note(\n    client: OdooClient,\n    ticket_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add an internal note to a ticket (not visible to customers).\n\n    Args:\n        client: Odoo client\n        ticket_id: Ticket ID\n        message: Note message (plain text or markdown)\n        user_id: User ID to post as (uses default if None)\n        markdown: If True, convert markdown to HTML\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    return base_add_note(client, MODEL, ticket_id, message, user_id=user_id, markdown=markdown)\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.list_tags","title":"list_tags","text":"<pre><code>list_tags(client: OdooClient) -&gt; list[dict[str, Any]]\n</code></pre> <p>List available helpdesk tags.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of tag dictionaries</p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def list_tags(client: OdooClient) -&gt; list[dict[str, Any]]:\n    \"\"\"List available helpdesk tags.\n\n    Args:\n        client: Odoo client\n\n    Returns:\n        List of tag dictionaries\n\n    \"\"\"\n    return base_list_tags(client, TAG_MODEL)\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.display_tags","title":"display_tags","text":"<pre><code>display_tags(tags: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display tags in a rich table.</p> PARAMETER DESCRIPTION <code>tags</code> <p>List of tag dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def display_tags(tags: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display tags in a rich table.\n\n    Args:\n        tags: List of tag dictionaries\n\n    \"\"\"\n    base_display_tags(tags, title=\"Helpdesk Tags\")\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.add_tag_to_ticket","title":"add_tag_to_ticket","text":"<pre><code>add_tag_to_ticket(client: OdooClient, ticket_id: int, tag_id: int) -&gt; bool\n</code></pre> <p>Add a tag to a ticket.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>ticket_id</code> <p>Ticket ID</p> <p> TYPE: <code>int</code> </p> <code>tag_id</code> <p>Tag ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def add_tag_to_ticket(\n    client: OdooClient,\n    ticket_id: int,\n    tag_id: int,\n) -&gt; bool:\n    \"\"\"Add a tag to a ticket.\n\n    Args:\n        client: Odoo client\n        ticket_id: Ticket ID\n        tag_id: Tag ID\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    return add_tag_to_record(client, MODEL, ticket_id, tag_id)\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.list_messages","title":"list_messages","text":"<pre><code>list_messages(client: OdooClient, ticket_id: int, limit: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List messages/chatter for a ticket.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>ticket_id</code> <p>Ticket ID</p> <p> TYPE: <code>int</code> </p> <code>limit</code> <p>Maximum number of messages (None = all)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of message dictionaries</p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def list_messages(\n    client: OdooClient,\n    ticket_id: int,\n    limit: int | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List messages/chatter for a ticket.\n\n    Args:\n        client: Odoo client\n        ticket_id: Ticket ID\n        limit: Maximum number of messages (None = all)\n\n    Returns:\n        List of message dictionaries\n\n    \"\"\"\n    return base_list_messages(client, MODEL, ticket_id, limit=limit)\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.list_attachments","title":"list_attachments","text":"<pre><code>list_attachments(client: OdooClient, ticket_id: int) -&gt; list[dict[str, Any]]\n</code></pre> <p>List attachments for a ticket.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>ticket_id</code> <p>Ticket ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of attachment dictionaries</p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def list_attachments(\n    client: OdooClient,\n    ticket_id: int,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List attachments for a ticket.\n\n    Args:\n        client: Odoo client\n        ticket_id: Ticket ID\n\n    Returns:\n        List of attachment dictionaries\n\n    \"\"\"\n    return base_list_attachments(client, MODEL, ticket_id)\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.download_ticket_attachments","title":"download_ticket_attachments","text":"<pre><code>download_ticket_attachments(client: OdooClient, ticket_id: int, output_dir: Path | None = None, extension: str | None = None) -&gt; list[Path]\n</code></pre> <p>Download all attachments from a ticket.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>ticket_id</code> <p>Ticket ID</p> <p> TYPE: <code>int</code> </p> <code>output_dir</code> <p>Output directory (defaults to current directory)</p> <p> TYPE: <code>Path | None</code> DEFAULT: <code>None</code> </p> <code>extension</code> <p>File extension filter (e.g., 'pdf', 'jpg')</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[Path]</code> <p>List of paths to downloaded files</p> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def download_ticket_attachments(\n    client: OdooClient,\n    ticket_id: int,\n    output_dir: Path | None = None,\n    extension: str | None = None,\n) -&gt; list[Path]:\n    \"\"\"Download all attachments from a ticket.\n\n    Args:\n        client: Odoo client\n        ticket_id: Ticket ID\n        output_dir: Output directory (defaults to current directory)\n        extension: File extension filter (e.g., 'pdf', 'jpg')\n\n    Returns:\n        List of paths to downloaded files\n\n    \"\"\"\n    return download_record_attachments(client, MODEL, ticket_id, output_dir, extension=extension)\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.create_attachment","title":"create_attachment","text":"<pre><code>create_attachment(client: OdooClient, ticket_id: int, file_path: Path | str, name: str | None = None) -&gt; int\n</code></pre> <p>Create an attachment for a ticket.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>ticket_id</code> <p>Ticket ID</p> <p> TYPE: <code>int</code> </p> <code>file_path</code> <p>Path to file to attach</p> <p> TYPE: <code>Path | str</code> </p> <code>name</code> <p>Attachment name (defaults to filename)</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>int</code> <p>ID of created attachment</p> RAISES DESCRIPTION <code>ValueError</code> <p>If file doesn't exist</p> <code>FileNotFoundError</code> <p>If file path is invalid</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; create_attachment(client, 42, \"screenshot.png\")\n&gt;&gt;&gt; create_attachment(client, 42, \"/path/to/file.pdf\", name=\"Report.pdf\")\n</code></pre> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def create_attachment(\n    client: OdooClient,\n    ticket_id: int,\n    file_path: Path | str,\n    name: str | None = None,\n) -&gt; int:\n    \"\"\"Create an attachment for a ticket.\n\n    Args:\n        client: Odoo client\n        ticket_id: Ticket ID\n        file_path: Path to file to attach\n        name: Attachment name (defaults to filename)\n\n    Returns:\n        ID of created attachment\n\n    Raises:\n        ValueError: If file doesn't exist\n        FileNotFoundError: If file path is invalid\n\n    Examples:\n        &gt;&gt;&gt; create_attachment(client, 42, \"screenshot.png\")\n        &gt;&gt;&gt; create_attachment(client, 42, \"/path/to/file.pdf\", name=\"Report.pdf\")\n\n    \"\"\"\n    return base_create_attachment(client, MODEL, ticket_id, file_path, name=name)\n</code></pre>"},{"location":"api/helpdesk/#vodoo.helpdesk.get_ticket_url","title":"get_ticket_url","text":"<pre><code>get_ticket_url(client: OdooClient, ticket_id: int) -&gt; str\n</code></pre> <p>Get the web URL for a ticket.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>ticket_id</code> <p>Ticket ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>str</code> <p>URL to view the ticket in Odoo web interface</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; get_ticket_url(client, 42)\n'https://odoo.example.com/web#id=42&amp;model=helpdesk.ticket&amp;view_type=form'\n</code></pre> Source code in <code>src/vodoo/helpdesk.py</code> <pre><code>def get_ticket_url(client: OdooClient, ticket_id: int) -&gt; str:\n    \"\"\"Get the web URL for a ticket.\n\n    Args:\n        client: Odoo client\n        ticket_id: Ticket ID\n\n    Returns:\n        URL to view the ticket in Odoo web interface\n\n    Examples:\n        &gt;&gt;&gt; get_ticket_url(client, 42)\n        'https://odoo.example.com/web#id=42&amp;model=helpdesk.ticket&amp;view_type=form'\n\n    \"\"\"\n    return get_record_url(client, MODEL, ticket_id)\n</code></pre>"},{"location":"api/knowledge/","title":"Knowledge","text":"<p>Operations for the <code>knowledge.article</code> model (Odoo Enterprise).</p>"},{"location":"api/knowledge/#vodoo.knowledge","title":"knowledge","text":"<p>Knowledge article operations for Vodoo.</p>"},{"location":"api/knowledge/#vodoo.knowledge.list_articles","title":"list_articles","text":"<pre><code>list_articles(client: OdooClient, domain: list[Any] | None = None, limit: int | None = 50, fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List knowledge articles.</p> Source code in <code>src/vodoo/knowledge.py</code> <pre><code>def list_articles(\n    client: OdooClient,\n    domain: list[Any] | None = None,\n    limit: int | None = 50,\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List knowledge articles.\"\"\"\n    if fields is None:\n        fields = list(DEFAULT_LIST_FIELDS)\n    return list_records(client, MODEL, domain=domain, limit=limit, fields=fields)\n</code></pre>"},{"location":"api/knowledge/#vodoo.knowledge.display_articles","title":"display_articles","text":"<pre><code>display_articles(articles: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display knowledge articles in a table.</p> Source code in <code>src/vodoo/knowledge.py</code> <pre><code>def display_articles(articles: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display knowledge articles in a table.\"\"\"\n    from vodoo.base import display_records\n\n    display_records(articles, title=\"Knowledge Articles\")\n</code></pre>"},{"location":"api/knowledge/#vodoo.knowledge.get_article","title":"get_article","text":"<pre><code>get_article(client: OdooClient, article_id: int, fields: list[str] | None = None) -&gt; dict[str, Any]\n</code></pre> <p>Get a knowledge article.</p> Source code in <code>src/vodoo/knowledge.py</code> <pre><code>def get_article(\n    client: OdooClient, article_id: int, fields: list[str] | None = None\n) -&gt; dict[str, Any]:\n    \"\"\"Get a knowledge article.\"\"\"\n    if fields is None:\n        fields = list(DEFAULT_DETAIL_FIELDS)\n    return get_record(client, MODEL, article_id, fields=fields)\n</code></pre>"},{"location":"api/knowledge/#vodoo.knowledge.list_article_fields","title":"list_article_fields","text":"<pre><code>list_article_fields(client: OdooClient) -&gt; dict[str, Any]\n</code></pre> <p>List knowledge article fields.</p> Source code in <code>src/vodoo/knowledge.py</code> <pre><code>def list_article_fields(client: OdooClient) -&gt; dict[str, Any]:\n    \"\"\"List knowledge article fields.\"\"\"\n    return list_fields(client, MODEL)\n</code></pre>"},{"location":"api/knowledge/#vodoo.knowledge.set_article_fields","title":"set_article_fields","text":"<pre><code>set_article_fields(client: OdooClient, article_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Set knowledge article fields.</p> Source code in <code>src/vodoo/knowledge.py</code> <pre><code>def set_article_fields(client: OdooClient, article_id: int, values: dict[str, Any]) -&gt; bool:\n    \"\"\"Set knowledge article fields.\"\"\"\n    return set_record_fields(client, MODEL, article_id, values)\n</code></pre>"},{"location":"api/knowledge/#vodoo.knowledge.display_article_detail","title":"display_article_detail","text":"<pre><code>display_article_detail(article: dict[str, Any], show_html: bool = False) -&gt; None\n</code></pre> <p>Display detailed knowledge article information with body content.</p> Source code in <code>src/vodoo/knowledge.py</code> <pre><code>def display_article_detail(article: dict[str, Any], show_html: bool = False) -&gt; None:\n    \"\"\"Display detailed knowledge article information with body content.\"\"\"\n    if _is_simple_output():\n        print(f\"id: {article['id']}\")\n        print(f\"name: {article.get('icon', '')} {article['name']}\")\n        if article.get(\"parent_id\"):\n            print(f\"parent: {article['parent_id'][1]}\")\n        if article.get(\"category\"):\n            print(f\"category: {article['category']}\")\n        if article.get(\"body\"):\n            body = article[\"body\"] if show_html else _html_to_markdown(article[\"body\"])\n            print(f\"body: {body}\")\n    else:\n        console = _get_console()\n        console.print(f\"\\n[bold cyan]Article #{article['id']}[/bold cyan]\")\n        console.print(f\"[bold]Title:[/bold] {article.get('icon', '')} {article['name']}\")\n\n        if article.get(\"parent_id\"):\n            console.print(f\"[bold]Parent:[/bold] {article['parent_id'][1]}\")\n\n        if article.get(\"category\"):\n            console.print(f\"[bold]Category:[/bold] {article['category']}\")\n\n        if article.get(\"body\"):\n            body = article[\"body\"]\n            if show_html:\n                console.print(f\"\\n[bold]Content:[/bold]\\n{body}\")\n            else:\n                markdown_text = _html_to_markdown(body)\n                console.print(f\"\\n[bold]Content:[/bold]\\n{markdown_text}\")\n</code></pre>"},{"location":"api/knowledge/#vodoo.knowledge.add_comment","title":"add_comment","text":"<pre><code>add_comment(client: OdooClient, article_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a comment to a knowledge article.</p> Source code in <code>src/vodoo/knowledge.py</code> <pre><code>def add_comment(\n    client: OdooClient,\n    article_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a comment to a knowledge article.\"\"\"\n    return base_add_comment(client, MODEL, article_id, message, user_id=user_id, markdown=markdown)\n</code></pre>"},{"location":"api/knowledge/#vodoo.knowledge.add_note","title":"add_note","text":"<pre><code>add_note(client: OdooClient, article_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a note to a knowledge article.</p> Source code in <code>src/vodoo/knowledge.py</code> <pre><code>def add_note(\n    client: OdooClient,\n    article_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a note to a knowledge article.\"\"\"\n    return base_add_note(client, MODEL, article_id, message, user_id=user_id, markdown=markdown)\n</code></pre>"},{"location":"api/knowledge/#vodoo.knowledge.list_article_messages","title":"list_article_messages","text":"<pre><code>list_article_messages(client: OdooClient, article_id: int, limit: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List knowledge article messages.</p> Source code in <code>src/vodoo/knowledge.py</code> <pre><code>def list_article_messages(\n    client: OdooClient, article_id: int, limit: int | None = None\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List knowledge article messages.\"\"\"\n    return base_list_messages(client, MODEL, article_id, limit=limit)\n</code></pre>"},{"location":"api/knowledge/#vodoo.knowledge.list_article_attachments","title":"list_article_attachments","text":"<pre><code>list_article_attachments(client: OdooClient, article_id: int) -&gt; list[dict[str, Any]]\n</code></pre> <p>List knowledge article attachments.</p> Source code in <code>src/vodoo/knowledge.py</code> <pre><code>def list_article_attachments(client: OdooClient, article_id: int) -&gt; list[dict[str, Any]]:\n    \"\"\"List knowledge article attachments.\"\"\"\n    return base_list_attachments(client, MODEL, article_id)\n</code></pre>"},{"location":"api/knowledge/#vodoo.knowledge.create_article_attachment","title":"create_article_attachment","text":"<pre><code>create_article_attachment(client: OdooClient, article_id: int, file_path: Path | str, name: str | None = None) -&gt; int\n</code></pre> <p>Create a knowledge article attachment.</p> Source code in <code>src/vodoo/knowledge.py</code> <pre><code>def create_article_attachment(\n    client: OdooClient,\n    article_id: int,\n    file_path: Path | str,\n    name: str | None = None,\n) -&gt; int:\n    \"\"\"Create a knowledge article attachment.\"\"\"\n    return base_create_attachment(client, MODEL, article_id, file_path, name=name)\n</code></pre>"},{"location":"api/knowledge/#vodoo.knowledge.get_article_url","title":"get_article_url","text":"<pre><code>get_article_url(client: OdooClient, article_id: int) -&gt; str\n</code></pre> <p>Get the web URL for a knowledge article.</p> Source code in <code>src/vodoo/knowledge.py</code> <pre><code>def get_article_url(client: OdooClient, article_id: int) -&gt; str:\n    \"\"\"Get the web URL for a knowledge article.\"\"\"\n    article = get_article(client, article_id, fields=[\"article_url\"])\n    if article.get(\"article_url\"):\n        return str(article[\"article_url\"])\n    # Fallback to standard URL format\n    return get_record_url(client, MODEL, article_id)\n</code></pre>"},{"location":"api/project/","title":"Project Tasks","text":"<p>Operations for the <code>project.task</code> model.</p>"},{"location":"api/project/#vodoo.project","title":"project","text":"<p>Project task operations for Vodoo.</p>"},{"location":"api/project/#vodoo.project.create_task","title":"create_task","text":"<pre><code>create_task(client: OdooClient, name: str, project_id: int, description: str | None = None, user_ids: list[int] | None = None, tag_ids: list[int] | None = None, parent_id: int | None = None, **kwargs: Any) -&gt; int\n</code></pre> <p>Create a new project task.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>name</code> <p>Task name</p> <p> TYPE: <code>str</code> </p> <code>project_id</code> <p>Project ID (required)</p> <p> TYPE: <code>int</code> </p> <code>description</code> <p>Task description (HTML)</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> <code>user_ids</code> <p>List of assigned user IDs</p> <p> TYPE: <code>list[int] | None</code> DEFAULT: <code>None</code> </p> <code>tag_ids</code> <p>List of tag IDs</p> <p> TYPE: <code>list[int] | None</code> DEFAULT: <code>None</code> </p> <code>parent_id</code> <p>Parent task ID (for subtasks)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>**kwargs</code> <p>Additional field values</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>int</code> <p>ID of created task</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; create_task(client, \"Fix bug\", project_id=10)\n42\n&gt;&gt;&gt; create_task(client, \"Review PR\", project_id=10, user_ids=[5], tag_ids=[1, 2])\n43\n</code></pre> Source code in <code>src/vodoo/project.py</code> <pre><code>def create_task(\n    client: OdooClient,\n    name: str,\n    project_id: int,\n    description: str | None = None,\n    user_ids: list[int] | None = None,\n    tag_ids: list[int] | None = None,\n    parent_id: int | None = None,\n    **kwargs: Any,\n) -&gt; int:\n    \"\"\"Create a new project task.\n\n    Args:\n        client: Odoo client\n        name: Task name\n        project_id: Project ID (required)\n        description: Task description (HTML)\n        user_ids: List of assigned user IDs\n        tag_ids: List of tag IDs\n        parent_id: Parent task ID (for subtasks)\n        **kwargs: Additional field values\n\n    Returns:\n        ID of created task\n\n    Examples:\n        &gt;&gt;&gt; create_task(client, \"Fix bug\", project_id=10)\n        42\n        &gt;&gt;&gt; create_task(client, \"Review PR\", project_id=10, user_ids=[5], tag_ids=[1, 2])\n        43\n\n    \"\"\"\n    values, context = _build_task_values(\n        name, project_id, description, user_ids, tag_ids, parent_id, **kwargs\n    )\n    return client.create(MODEL, values, context=context)\n</code></pre>"},{"location":"api/project/#vodoo.project.list_tasks","title":"list_tasks","text":"<pre><code>list_tasks(client: OdooClient, domain: list[Any] | None = None, limit: int | None = 50, fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List project tasks.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>domain</code> <p>Search domain filters</p> <p> TYPE: <code>list[Any] | None</code> DEFAULT: <code>None</code> </p> <code>limit</code> <p>Maximum number of tasks</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>50</code> </p> <code>fields</code> <p>List of fields to fetch (None = default fields)</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of task dictionaries</p> Source code in <code>src/vodoo/project.py</code> <pre><code>def list_tasks(\n    client: OdooClient,\n    domain: list[Any] | None = None,\n    limit: int | None = 50,\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List project tasks.\n\n    Args:\n        client: Odoo client\n        domain: Search domain filters\n        limit: Maximum number of tasks\n        fields: List of fields to fetch (None = default fields)\n\n    Returns:\n        List of task dictionaries\n\n    \"\"\"\n    if fields is None:\n        fields = list(DEFAULT_LIST_FIELDS)\n\n    return list_records(client, MODEL, domain=domain, limit=limit, fields=fields)\n</code></pre>"},{"location":"api/project/#vodoo.project.display_tasks","title":"display_tasks","text":"<pre><code>display_tasks(tasks: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display tasks in a rich table.</p> PARAMETER DESCRIPTION <code>tasks</code> <p>List of task dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> Source code in <code>src/vodoo/project.py</code> <pre><code>def display_tasks(tasks: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display tasks in a rich table.\n\n    Args:\n        tasks: List of task dictionaries\n\n    \"\"\"\n    display_records(tasks, title=\"Project Tasks\")\n</code></pre>"},{"location":"api/project/#vodoo.project.get_task","title":"get_task","text":"<pre><code>get_task(client: OdooClient, task_id: int, fields: list[str] | None = None) -&gt; dict[str, Any]\n</code></pre> <p>Get detailed task information.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>task_id</code> <p>Task ID</p> <p> TYPE: <code>int</code> </p> <code>fields</code> <p>List of field names to read (None = all fields)</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>Task dictionary</p> RAISES DESCRIPTION <code>ValueError</code> <p>If task not found</p> Source code in <code>src/vodoo/project.py</code> <pre><code>def get_task(\n    client: OdooClient,\n    task_id: int,\n    fields: list[str] | None = None,\n) -&gt; dict[str, Any]:\n    \"\"\"Get detailed task information.\n\n    Args:\n        client: Odoo client\n        task_id: Task ID\n        fields: List of field names to read (None = all fields)\n\n    Returns:\n        Task dictionary\n\n    Raises:\n        ValueError: If task not found\n\n    \"\"\"\n    return get_record(client, MODEL, task_id, fields=fields)\n</code></pre>"},{"location":"api/project/#vodoo.project.list_task_fields","title":"list_task_fields","text":"<pre><code>list_task_fields(client: OdooClient) -&gt; dict[str, Any]\n</code></pre> <p>Get all available fields for project tasks.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>Dictionary of field definitions with field names as keys</p> Source code in <code>src/vodoo/project.py</code> <pre><code>def list_task_fields(client: OdooClient) -&gt; dict[str, Any]:\n    \"\"\"Get all available fields for project tasks.\n\n    Args:\n        client: Odoo client\n\n    Returns:\n        Dictionary of field definitions with field names as keys\n\n    \"\"\"\n    return list_fields(client, MODEL)\n</code></pre>"},{"location":"api/project/#vodoo.project.set_task_fields","title":"set_task_fields","text":"<pre><code>set_task_fields(client: OdooClient, task_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update fields on a task.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>task_id</code> <p>Task ID</p> <p> TYPE: <code>int</code> </p> <code>values</code> <p>Dictionary of field names and values to update</p> <p> TYPE: <code>dict[str, Any]</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; set_task_fields(client, 42, {\"name\": \"New title\", \"priority\": \"1\"})\n&gt;&gt;&gt; set_task_fields(client, 42, {\"user_ids\": [(6, 0, [5])], \"stage_id\": 3})\n</code></pre> Source code in <code>src/vodoo/project.py</code> <pre><code>def set_task_fields(\n    client: OdooClient,\n    task_id: int,\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update fields on a task.\n\n    Args:\n        client: Odoo client\n        task_id: Task ID\n        values: Dictionary of field names and values to update\n\n    Returns:\n        True if successful\n\n    Examples:\n        &gt;&gt;&gt; set_task_fields(client, 42, {\"name\": \"New title\", \"priority\": \"1\"})\n        &gt;&gt;&gt; set_task_fields(client, 42, {\"user_ids\": [(6, 0, [5])], \"stage_id\": 3})\n\n    \"\"\"\n    return set_record_fields(client, MODEL, task_id, values)\n</code></pre>"},{"location":"api/project/#vodoo.project.display_task_detail","title":"display_task_detail","text":"<pre><code>display_task_detail(task: dict[str, Any], show_html: bool = False) -&gt; None\n</code></pre> <p>Display detailed task information.</p> PARAMETER DESCRIPTION <code>task</code> <p>Task dictionary</p> <p> TYPE: <code>dict[str, Any]</code> </p> <code>show_html</code> <p>If True, show raw HTML description, else convert to markdown</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/vodoo/project.py</code> <pre><code>def display_task_detail(task: dict[str, Any], show_html: bool = False) -&gt; None:\n    \"\"\"Display detailed task information.\n\n    Args:\n        task: Task dictionary\n        show_html: If True, show raw HTML description, else convert to markdown\n\n    \"\"\"\n    display_record_detail(task, show_html=show_html, record_type=\"Task\")\n</code></pre>"},{"location":"api/project/#vodoo.project.add_comment","title":"add_comment","text":"<pre><code>add_comment(client: OdooClient, task_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a comment to a task (visible to followers).</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>task_id</code> <p>Task ID</p> <p> TYPE: <code>int</code> </p> <code>message</code> <p>Comment message (plain text or markdown)</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to post as (uses default if None)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>markdown</code> <p>If True, convert markdown to HTML</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/project.py</code> <pre><code>def add_comment(\n    client: OdooClient,\n    task_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a comment to a task (visible to followers).\n\n    Args:\n        client: Odoo client\n        task_id: Task ID\n        message: Comment message (plain text or markdown)\n        user_id: User ID to post as (uses default if None)\n        markdown: If True, convert markdown to HTML\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    return base_add_comment(client, MODEL, task_id, message, user_id=user_id, markdown=markdown)\n</code></pre>"},{"location":"api/project/#vodoo.project.add_note","title":"add_note","text":"<pre><code>add_note(client: OdooClient, task_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add an internal note to a task.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>task_id</code> <p>Task ID</p> <p> TYPE: <code>int</code> </p> <code>message</code> <p>Note message (plain text or markdown)</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to post as (uses default if None)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>markdown</code> <p>If True, convert markdown to HTML</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/project.py</code> <pre><code>def add_note(\n    client: OdooClient,\n    task_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add an internal note to a task.\n\n    Args:\n        client: Odoo client\n        task_id: Task ID\n        message: Note message (plain text or markdown)\n        user_id: User ID to post as (uses default if None)\n        markdown: If True, convert markdown to HTML\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    return base_add_note(client, MODEL, task_id, message, user_id=user_id, markdown=markdown)\n</code></pre>"},{"location":"api/project/#vodoo.project.list_task_tags","title":"list_task_tags","text":"<pre><code>list_task_tags(client: OdooClient) -&gt; list[dict[str, Any]]\n</code></pre> <p>List available project tags.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of tag dictionaries</p> Source code in <code>src/vodoo/project.py</code> <pre><code>def list_task_tags(client: OdooClient) -&gt; list[dict[str, Any]]:\n    \"\"\"List available project tags.\n\n    Args:\n        client: Odoo client\n\n    Returns:\n        List of tag dictionaries\n\n    \"\"\"\n    return list_tags(client, TAG_MODEL)\n</code></pre>"},{"location":"api/project/#vodoo.project.display_task_tags","title":"display_task_tags","text":"<pre><code>display_task_tags(tags: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display project tags in a rich table.</p> PARAMETER DESCRIPTION <code>tags</code> <p>List of tag dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> Source code in <code>src/vodoo/project.py</code> <pre><code>def display_task_tags(tags: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display project tags in a rich table.\n\n    Args:\n        tags: List of tag dictionaries\n\n    \"\"\"\n    display_tags(tags, title=\"Project Tags\")\n</code></pre>"},{"location":"api/project/#vodoo.project.add_tag_to_task","title":"add_tag_to_task","text":"<pre><code>add_tag_to_task(client: OdooClient, task_id: int, tag_id: int) -&gt; bool\n</code></pre> <p>Add a tag to a task.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>task_id</code> <p>Task ID</p> <p> TYPE: <code>int</code> </p> <code>tag_id</code> <p>Tag ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/project.py</code> <pre><code>def add_tag_to_task(\n    client: OdooClient,\n    task_id: int,\n    tag_id: int,\n) -&gt; bool:\n    \"\"\"Add a tag to a task.\n\n    Args:\n        client: Odoo client\n        task_id: Task ID\n        tag_id: Tag ID\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    return add_tag_to_record(client, MODEL, task_id, tag_id)\n</code></pre>"},{"location":"api/project/#vodoo.project.create_tag","title":"create_tag","text":"<pre><code>create_tag(client: OdooClient, name: str, color: int | None = None) -&gt; int\n</code></pre> <p>Create a new project tag.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>name</code> <p>Tag name</p> <p> TYPE: <code>str</code> </p> <code>color</code> <p>Tag color index (0-11, optional)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>int</code> <p>ID of created tag</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; create_tag(client, \"urgent\")\n42\n&gt;&gt;&gt; create_tag(client, \"bug\", color=1)\n43\n</code></pre> Source code in <code>src/vodoo/project.py</code> <pre><code>def create_tag(\n    client: OdooClient,\n    name: str,\n    color: int | None = None,\n) -&gt; int:\n    \"\"\"Create a new project tag.\n\n    Args:\n        client: Odoo client\n        name: Tag name\n        color: Tag color index (0-11, optional)\n\n    Returns:\n        ID of created tag\n\n    Examples:\n        &gt;&gt;&gt; create_tag(client, \"urgent\")\n        42\n        &gt;&gt;&gt; create_tag(client, \"bug\", color=1)\n        43\n\n    \"\"\"\n    values: dict[str, Any] = {\"name\": name}\n    if color is not None:\n        values[\"color\"] = color\n    return client.create(TAG_MODEL, values)\n</code></pre>"},{"location":"api/project/#vodoo.project.delete_tag","title":"delete_tag","text":"<pre><code>delete_tag(client: OdooClient, tag_id: int) -&gt; bool\n</code></pre> <p>Delete a project tag.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>tag_id</code> <p>Tag ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; delete_tag(client, 42)\nTrue\n</code></pre> Source code in <code>src/vodoo/project.py</code> <pre><code>def delete_tag(\n    client: OdooClient,\n    tag_id: int,\n) -&gt; bool:\n    \"\"\"Delete a project tag.\n\n    Args:\n        client: Odoo client\n        tag_id: Tag ID\n\n    Returns:\n        True if successful\n\n    Examples:\n        &gt;&gt;&gt; delete_tag(client, 42)\n        True\n\n    \"\"\"\n    return client.unlink(TAG_MODEL, [tag_id])\n</code></pre>"},{"location":"api/project/#vodoo.project.list_task_messages","title":"list_task_messages","text":"<pre><code>list_task_messages(client: OdooClient, task_id: int, limit: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List messages/chatter for a task.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>task_id</code> <p>Task ID</p> <p> TYPE: <code>int</code> </p> <code>limit</code> <p>Maximum number of messages (None = all)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of message dictionaries</p> Source code in <code>src/vodoo/project.py</code> <pre><code>def list_task_messages(\n    client: OdooClient,\n    task_id: int,\n    limit: int | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List messages/chatter for a task.\n\n    Args:\n        client: Odoo client\n        task_id: Task ID\n        limit: Maximum number of messages (None = all)\n\n    Returns:\n        List of message dictionaries\n\n    \"\"\"\n    return list_messages(client, MODEL, task_id, limit=limit)\n</code></pre>"},{"location":"api/project/#vodoo.project.list_task_attachments","title":"list_task_attachments","text":"<pre><code>list_task_attachments(client: OdooClient, task_id: int) -&gt; list[dict[str, Any]]\n</code></pre> <p>List attachments for a task.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>task_id</code> <p>Task ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of attachment dictionaries</p> Source code in <code>src/vodoo/project.py</code> <pre><code>def list_task_attachments(\n    client: OdooClient,\n    task_id: int,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List attachments for a task.\n\n    Args:\n        client: Odoo client\n        task_id: Task ID\n\n    Returns:\n        List of attachment dictionaries\n\n    \"\"\"\n    return list_attachments(client, MODEL, task_id)\n</code></pre>"},{"location":"api/project/#vodoo.project.download_task_attachments","title":"download_task_attachments","text":"<pre><code>download_task_attachments(client: OdooClient, task_id: int, output_dir: Path | None = None, extension: str | None = None) -&gt; list[Path]\n</code></pre> <p>Download all attachments from a task.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>task_id</code> <p>Task ID</p> <p> TYPE: <code>int</code> </p> <code>output_dir</code> <p>Output directory (defaults to current directory)</p> <p> TYPE: <code>Path | None</code> DEFAULT: <code>None</code> </p> <code>extension</code> <p>File extension filter (e.g., 'pdf', 'jpg')</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[Path]</code> <p>List of paths to downloaded files</p> Source code in <code>src/vodoo/project.py</code> <pre><code>def download_task_attachments(\n    client: OdooClient,\n    task_id: int,\n    output_dir: Path | None = None,\n    extension: str | None = None,\n) -&gt; list[Path]:\n    \"\"\"Download all attachments from a task.\n\n    Args:\n        client: Odoo client\n        task_id: Task ID\n        output_dir: Output directory (defaults to current directory)\n        extension: File extension filter (e.g., 'pdf', 'jpg')\n\n    Returns:\n        List of paths to downloaded files\n\n    \"\"\"\n    return download_record_attachments(client, MODEL, task_id, output_dir, extension=extension)\n</code></pre>"},{"location":"api/project/#vodoo.project.create_task_attachment","title":"create_task_attachment","text":"<pre><code>create_task_attachment(client: OdooClient, task_id: int, file_path: Path | str, name: str | None = None) -&gt; int\n</code></pre> <p>Create an attachment for a task.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>task_id</code> <p>Task ID</p> <p> TYPE: <code>int</code> </p> <code>file_path</code> <p>Path to file to attach</p> <p> TYPE: <code>Path | str</code> </p> <code>name</code> <p>Attachment name (defaults to filename)</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>int</code> <p>ID of created attachment</p> Source code in <code>src/vodoo/project.py</code> <pre><code>def create_task_attachment(\n    client: OdooClient,\n    task_id: int,\n    file_path: Path | str,\n    name: str | None = None,\n) -&gt; int:\n    \"\"\"Create an attachment for a task.\n\n    Args:\n        client: Odoo client\n        task_id: Task ID\n        file_path: Path to file to attach\n        name: Attachment name (defaults to filename)\n\n    Returns:\n        ID of created attachment\n\n    \"\"\"\n    return base_create_attachment(client, MODEL, task_id, file_path, name=name)\n</code></pre>"},{"location":"api/project/#vodoo.project.get_task_url","title":"get_task_url","text":"<pre><code>get_task_url(client: OdooClient, task_id: int) -&gt; str\n</code></pre> <p>Get the web URL for a task.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>task_id</code> <p>Task ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>str</code> <p>URL to view the task in Odoo web interface</p> Source code in <code>src/vodoo/project.py</code> <pre><code>def get_task_url(client: OdooClient, task_id: int) -&gt; str:\n    \"\"\"Get the web URL for a task.\n\n    Args:\n        client: Odoo client\n        task_id: Task ID\n\n    Returns:\n        URL to view the task in Odoo web interface\n\n    \"\"\"\n    return get_record_url(client, MODEL, task_id)\n</code></pre>"},{"location":"api/project_project/","title":"Projects","text":"<p>Operations for the <code>project.project</code> model.</p>"},{"location":"api/project_project/#vodoo.project_project","title":"project_project","text":"<p>Project (project.project) operations for Vodoo.</p>"},{"location":"api/project_project/#vodoo.project_project.list_projects","title":"list_projects","text":"<pre><code>list_projects(client: OdooClient, domain: list[Any] | None = None, limit: int | None = 50, fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List projects.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>domain</code> <p>Search domain filters</p> <p> TYPE: <code>list[Any] | None</code> DEFAULT: <code>None</code> </p> <code>limit</code> <p>Maximum number of projects</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>50</code> </p> <code>fields</code> <p>List of fields to fetch (None = default fields)</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of project dictionaries</p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def list_projects(\n    client: OdooClient,\n    domain: list[Any] | None = None,\n    limit: int | None = 50,\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List projects.\n\n    Args:\n        client: Odoo client\n        domain: Search domain filters\n        limit: Maximum number of projects\n        fields: List of fields to fetch (None = default fields)\n\n    Returns:\n        List of project dictionaries\n\n    \"\"\"\n    if fields is None:\n        fields = list(DEFAULT_LIST_FIELDS)\n\n    return list_records(client, MODEL, domain=domain, limit=limit, fields=fields)\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.display_projects","title":"display_projects","text":"<pre><code>display_projects(projects: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display projects in a rich table.</p> PARAMETER DESCRIPTION <code>projects</code> <p>List of project dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def display_projects(projects: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display projects in a rich table.\n\n    Args:\n        projects: List of project dictionaries\n\n    \"\"\"\n    display_records(projects, title=\"Projects\")\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.get_project","title":"get_project","text":"<pre><code>get_project(client: OdooClient, project_id: int, fields: list[str] | None = None) -&gt; dict[str, Any]\n</code></pre> <p>Get detailed project information.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>project_id</code> <p>Project ID</p> <p> TYPE: <code>int</code> </p> <code>fields</code> <p>List of field names to read (None = default detail fields)</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>Project dictionary</p> RAISES DESCRIPTION <code>ValueError</code> <p>If project not found</p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def get_project(\n    client: OdooClient,\n    project_id: int,\n    fields: list[str] | None = None,\n) -&gt; dict[str, Any]:\n    \"\"\"Get detailed project information.\n\n    Args:\n        client: Odoo client\n        project_id: Project ID\n        fields: List of field names to read (None = default detail fields)\n\n    Returns:\n        Project dictionary\n\n    Raises:\n        ValueError: If project not found\n\n    \"\"\"\n    if fields is None:\n        fields = list(DEFAULT_DETAIL_FIELDS)\n    return get_record(client, MODEL, project_id, fields=fields)\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.list_project_fields","title":"list_project_fields","text":"<pre><code>list_project_fields(client: OdooClient) -&gt; dict[str, Any]\n</code></pre> <p>Get all available fields for projects.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>Dictionary of field definitions with field names as keys</p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def list_project_fields(client: OdooClient) -&gt; dict[str, Any]:\n    \"\"\"Get all available fields for projects.\n\n    Args:\n        client: Odoo client\n\n    Returns:\n        Dictionary of field definitions with field names as keys\n\n    \"\"\"\n    return list_fields(client, MODEL)\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.set_project_fields","title":"set_project_fields","text":"<pre><code>set_project_fields(client: OdooClient, project_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update fields on a project.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>project_id</code> <p>Project ID</p> <p> TYPE: <code>int</code> </p> <code>values</code> <p>Dictionary of field names and values to update</p> <p> TYPE: <code>dict[str, Any]</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; set_project_fields(client, 42, {\"name\": \"New Project Name\"})\n&gt;&gt;&gt; set_project_fields(client, 42, {\"user_id\": 5})\n</code></pre> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def set_project_fields(\n    client: OdooClient,\n    project_id: int,\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update fields on a project.\n\n    Args:\n        client: Odoo client\n        project_id: Project ID\n        values: Dictionary of field names and values to update\n\n    Returns:\n        True if successful\n\n    Examples:\n        &gt;&gt;&gt; set_project_fields(client, 42, {\"name\": \"New Project Name\"})\n        &gt;&gt;&gt; set_project_fields(client, 42, {\"user_id\": 5})\n\n    \"\"\"\n    return set_record_fields(client, MODEL, project_id, values)\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.display_project_detail","title":"display_project_detail","text":"<pre><code>display_project_detail(project: dict[str, Any], show_html: bool = False) -&gt; None\n</code></pre> <p>Display detailed project information.</p> PARAMETER DESCRIPTION <code>project</code> <p>Project dictionary</p> <p> TYPE: <code>dict[str, Any]</code> </p> <code>show_html</code> <p>If True, show raw HTML description, else convert to markdown</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def display_project_detail(project: dict[str, Any], show_html: bool = False) -&gt; None:\n    \"\"\"Display detailed project information.\n\n    Args:\n        project: Project dictionary\n        show_html: If True, show raw HTML description, else convert to markdown\n\n    \"\"\"\n    display_record_detail(project, show_html=show_html, record_type=\"Project\")\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.add_comment","title":"add_comment","text":"<pre><code>add_comment(client: OdooClient, project_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a comment to a project (visible to followers).</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>project_id</code> <p>Project ID</p> <p> TYPE: <code>int</code> </p> <code>message</code> <p>Comment message (plain text or markdown)</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to post as (uses default if None)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>markdown</code> <p>If True, convert markdown to HTML</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def add_comment(\n    client: OdooClient,\n    project_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a comment to a project (visible to followers).\n\n    Args:\n        client: Odoo client\n        project_id: Project ID\n        message: Comment message (plain text or markdown)\n        user_id: User ID to post as (uses default if None)\n        markdown: If True, convert markdown to HTML\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    return base_add_comment(client, MODEL, project_id, message, user_id=user_id, markdown=markdown)\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.add_note","title":"add_note","text":"<pre><code>add_note(client: OdooClient, project_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add an internal note to a project.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>project_id</code> <p>Project ID</p> <p> TYPE: <code>int</code> </p> <code>message</code> <p>Note message (plain text or markdown)</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to post as (uses default if None)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>markdown</code> <p>If True, convert markdown to HTML</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def add_note(\n    client: OdooClient,\n    project_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add an internal note to a project.\n\n    Args:\n        client: Odoo client\n        project_id: Project ID\n        message: Note message (plain text or markdown)\n        user_id: User ID to post as (uses default if None)\n        markdown: If True, convert markdown to HTML\n\n    Returns:\n        True if successful\n\n    \"\"\"\n    return base_add_note(client, MODEL, project_id, message, user_id=user_id, markdown=markdown)\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.list_project_messages","title":"list_project_messages","text":"<pre><code>list_project_messages(client: OdooClient, project_id: int, limit: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List messages/chatter for a project.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>project_id</code> <p>Project ID</p> <p> TYPE: <code>int</code> </p> <code>limit</code> <p>Maximum number of messages (None = all)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of message dictionaries</p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def list_project_messages(\n    client: OdooClient,\n    project_id: int,\n    limit: int | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List messages/chatter for a project.\n\n    Args:\n        client: Odoo client\n        project_id: Project ID\n        limit: Maximum number of messages (None = all)\n\n    Returns:\n        List of message dictionaries\n\n    \"\"\"\n    return list_messages(client, MODEL, project_id, limit=limit)\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.list_project_attachments","title":"list_project_attachments","text":"<pre><code>list_project_attachments(client: OdooClient, project_id: int) -&gt; list[dict[str, Any]]\n</code></pre> <p>List attachments for a project.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>project_id</code> <p>Project ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of attachment dictionaries</p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def list_project_attachments(\n    client: OdooClient,\n    project_id: int,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List attachments for a project.\n\n    Args:\n        client: Odoo client\n        project_id: Project ID\n\n    Returns:\n        List of attachment dictionaries\n\n    \"\"\"\n    return list_attachments(client, MODEL, project_id)\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.create_project_attachment","title":"create_project_attachment","text":"<pre><code>create_project_attachment(client: OdooClient, project_id: int, file_path: Path | str, name: str | None = None) -&gt; int\n</code></pre> <p>Create an attachment for a project.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>project_id</code> <p>Project ID</p> <p> TYPE: <code>int</code> </p> <code>file_path</code> <p>Path to file to attach</p> <p> TYPE: <code>Path | str</code> </p> <code>name</code> <p>Attachment name (defaults to filename)</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>int</code> <p>ID of created attachment</p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def create_project_attachment(\n    client: OdooClient,\n    project_id: int,\n    file_path: Path | str,\n    name: str | None = None,\n) -&gt; int:\n    \"\"\"Create an attachment for a project.\n\n    Args:\n        client: Odoo client\n        project_id: Project ID\n        file_path: Path to file to attach\n        name: Attachment name (defaults to filename)\n\n    Returns:\n        ID of created attachment\n\n    \"\"\"\n    return base_create_attachment(client, MODEL, project_id, file_path, name=name)\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.get_project_url","title":"get_project_url","text":"<pre><code>get_project_url(client: OdooClient, project_id: int) -&gt; str\n</code></pre> <p>Get the web URL for a project.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>project_id</code> <p>Project ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>str</code> <p>URL to view the project in Odoo web interface</p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def get_project_url(client: OdooClient, project_id: int) -&gt; str:\n    \"\"\"Get the web URL for a project.\n\n    Args:\n        client: Odoo client\n        project_id: Project ID\n\n    Returns:\n        URL to view the project in Odoo web interface\n\n    \"\"\"\n    return get_record_url(client, MODEL, project_id)\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.list_stages","title":"list_stages","text":"<pre><code>list_stages(client: OdooClient, project_id: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List task stages, optionally filtered by project.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>project_id</code> <p>Project ID to filter stages (None = all stages)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of stage dictionaries with id, name, sequence, fold</p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def list_stages(\n    client: OdooClient,\n    project_id: int | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List task stages, optionally filtered by project.\n\n    Args:\n        client: Odoo client\n        project_id: Project ID to filter stages (None = all stages)\n\n    Returns:\n        List of stage dictionaries with id, name, sequence, fold\n\n    \"\"\"\n    domain: list[Any] = []\n    if project_id is not None:\n        domain.append((\"project_ids\", \"in\", [project_id]))\n\n    return client.search_read(\n        \"project.task.type\",\n        domain=domain,\n        fields=STAGE_FIELDS,\n        order=\"sequence\",\n    )\n</code></pre>"},{"location":"api/project_project/#vodoo.project_project.display_stages","title":"display_stages","text":"<pre><code>display_stages(stages: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display stages in a table or TSV format.</p> PARAMETER DESCRIPTION <code>stages</code> <p>List of stage dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> Source code in <code>src/vodoo/project_project.py</code> <pre><code>def display_stages(stages: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display stages in a table or TSV format.\n\n    Args:\n        stages: List of stage dictionaries\n\n    \"\"\"\n    from vodoo.base import _is_simple_output\n\n    if _is_simple_output():\n        print(\"id\\tname\\tsequence\\tfold\")\n        for stage in stages:\n            fold = \"true\" if stage.get(\"fold\") else \"false\"\n            print(f\"{stage['id']}\\t{stage['name']}\\t{stage.get('sequence', '')}\\t{fold}\")\n    else:\n        from rich.console import Console\n        from rich.table import Table\n\n        console = Console()\n        table = Table(show_header=True, header_style=\"bold magenta\")\n        table.add_column(\"ID\", style=\"cyan\", justify=\"right\")\n        table.add_column(\"Name\", style=\"green\")\n        table.add_column(\"Sequence\", justify=\"right\")\n        table.add_column(\"Folded\", justify=\"center\")\n\n        for stage in stages:\n            table.add_row(\n                str(stage[\"id\"]),\n                stage[\"name\"],\n                str(stage.get(\"sequence\", \"\")),\n                \"\u2713\" if stage.get(\"fold\") else \"\",\n            )\n\n        console.print(table)\n</code></pre>"},{"location":"api/security/","title":"Security","text":"<p>Security group management and service account utilities.</p>"},{"location":"api/security/#vodoo.security","title":"security","text":"<p>Security group utilities for Vodoo.</p>"},{"location":"api/security/#vodoo.security.AccessDefinition","title":"AccessDefinition  <code>dataclass</code>","text":"<pre><code>AccessDefinition(model: str, perm_read: bool, perm_write: bool, perm_create: bool, perm_unlink: bool)\n</code></pre> <p>Access control entry for a model.</p>"},{"location":"api/security/#vodoo.security.RuleDefinition","title":"RuleDefinition  <code>dataclass</code>","text":"<pre><code>RuleDefinition(model: str, domain: str, perm_read: bool, perm_write: bool, perm_create: bool, perm_unlink: bool)\n</code></pre> <p>Record rule definition for a model.</p>"},{"location":"api/security/#vodoo.security.GroupDefinition","title":"GroupDefinition  <code>dataclass</code>","text":"<pre><code>GroupDefinition(name: str, comment: str, access: tuple[AccessDefinition, ...], rules: tuple[RuleDefinition, ...] = ())\n</code></pre> <p>Security group definition.</p>"},{"location":"api/security/#vodoo.security.create_security_groups","title":"create_security_groups","text":"<pre><code>create_security_groups(client: OdooClient) -&gt; tuple[dict[str, int], list[str]]\n</code></pre> <p>Create (or reuse) all Vodoo security groups.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> RETURNS DESCRIPTION <code>tuple[dict[str, int], list[str]]</code> <p>Tuple of group name -&gt; group ID and a list of warnings.</p> Source code in <code>src/vodoo/security.py</code> <pre><code>def create_security_groups(client: OdooClient) -&gt; tuple[dict[str, int], list[str]]:\n    \"\"\"Create (or reuse) all Vodoo security groups.\n\n    Args:\n        client: Odoo client\n\n    Returns:\n        Tuple of group name -&gt; group ID and a list of warnings.\n\n    \"\"\"\n    warnings: list[str] = []\n    group_ids: dict[str, int] = {}\n\n    for group in GROUP_DEFINITIONS:\n        group_id = _ensure_group(client, group)\n        group_ids[group.name] = group_id\n\n        for access in group.access:\n            model_id = _get_model_id(client, access.model)\n            if model_id is None:\n                warnings.append(f\"Model '{access.model}' not found; skipping access\")\n                continue\n            _ensure_access(client, group_id, group.name, model_id, access)\n\n        for rule in group.rules:\n            model_id = _get_model_id(client, rule.model)\n            if model_id is None:\n                warnings.append(f\"Model '{rule.model}' not found; skipping rule\")\n                continue\n            _ensure_rule(client, group_id, group.name, model_id, rule)\n\n    return group_ids, warnings\n</code></pre>"},{"location":"api/security/#vodoo.security.get_group_ids","title":"get_group_ids","text":"<pre><code>get_group_ids(client: OdooClient, group_names: list[str]) -&gt; tuple[dict[str, int], list[str]]\n</code></pre> <p>Fetch group IDs for the provided names.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>group_names</code> <p>Group names to resolve</p> <p> TYPE: <code>list[str]</code> </p> RETURNS DESCRIPTION <code>tuple[dict[str, int], list[str]]</code> <p>Tuple of group name -&gt; group ID and a list of warnings.</p> Source code in <code>src/vodoo/security.py</code> <pre><code>def get_group_ids(\n    client: OdooClient,\n    group_names: list[str],\n) -&gt; tuple[dict[str, int], list[str]]:\n    \"\"\"Fetch group IDs for the provided names.\n\n    Args:\n        client: Odoo client\n        group_names: Group names to resolve\n\n    Returns:\n        Tuple of group name -&gt; group ID and a list of warnings.\n\n    \"\"\"\n    warnings: list[str] = []\n    group_ids: dict[str, int] = {}\n\n    for name in group_names:\n        ids = client.search(\"res.groups\", domain=[(\"name\", \"=\", name)], limit=1)\n        if ids:\n            group_ids[name] = ids[0]\n        else:\n            warnings.append(f\"Group '{name}' not found\")\n\n    return group_ids, warnings\n</code></pre>"},{"location":"api/security/#vodoo.security.assign_user_to_groups","title":"assign_user_to_groups","text":"<pre><code>assign_user_to_groups(client: OdooClient, user_id: int, group_ids: list[int], *, remove_default_groups: bool = True) -&gt; None\n</code></pre> <p>Assign a user to the provided groups.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>user_id</code> <p>User ID to update</p> <p> TYPE: <code>int</code> </p> <code>group_ids</code> <p>Group IDs to add</p> <p> TYPE: <code>list[int]</code> </p> <code>remove_default_groups</code> <p>If True, remove base.group_user and base.group_portal first</p> <p> TYPE: <code>bool</code> DEFAULT: <code>True</code> </p> Source code in <code>src/vodoo/security.py</code> <pre><code>def assign_user_to_groups(\n    client: OdooClient,\n    user_id: int,\n    group_ids: list[int],\n    *,\n    remove_default_groups: bool = True,\n) -&gt; None:\n    \"\"\"Assign a user to the provided groups.\n\n    Args:\n        client: Odoo client\n        user_id: User ID to update\n        group_ids: Group IDs to add\n        remove_default_groups: If True, remove base.group_user and base.group_portal first\n\n    \"\"\"\n    commands: list[tuple[int, int]] = []\n\n    if remove_default_groups:\n        for xmlid in (\"base.group_user\", \"base.group_portal\"):\n            group_id = _get_group_id_by_xmlid(client, xmlid)\n            if group_id is not None:\n                commands.append((3, group_id))\n\n    commands.extend((4, group_id) for group_id in group_ids)\n\n    client.write(\"res.users\", [user_id], {_groups_field(client): commands})\n</code></pre>"},{"location":"api/security/#vodoo.security.resolve_user_id","title":"resolve_user_id","text":"<pre><code>resolve_user_id(client: OdooClient, *, user_id: int | None, login: str | None) -&gt; int\n</code></pre> <p>Resolve a user ID from either an ID or login name.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>user_id</code> <p>Explicit user ID</p> <p> TYPE: <code>int | None</code> </p> <code>login</code> <p>User login/email</p> <p> TYPE: <code>str | None</code> </p> RETURNS DESCRIPTION <code>int</code> <p>User ID</p> RAISES DESCRIPTION <code>ValueError</code> <p>If user not found</p> Source code in <code>src/vodoo/security.py</code> <pre><code>def resolve_user_id(client: OdooClient, *, user_id: int | None, login: str | None) -&gt; int:\n    \"\"\"Resolve a user ID from either an ID or login name.\n\n    Args:\n        client: Odoo client\n        user_id: Explicit user ID\n        login: User login/email\n\n    Returns:\n        User ID\n\n    Raises:\n        ValueError: If user not found\n\n    \"\"\"\n    if user_id is not None:\n        return user_id\n    if not login:\n        raise ValueError(\"Provide --user-id or --login\")\n\n    ids = client.search(\"res.users\", domain=[(\"login\", \"=\", login)], limit=1)\n    if not ids:\n        raise ValueError(f\"User with login '{login}' not found\")\n    return ids[0]\n</code></pre>"},{"location":"api/security/#vodoo.security.create_user","title":"create_user","text":"<pre><code>create_user(client: OdooClient, name: str, login: str, password: str | None = None, email: str | None = None) -&gt; tuple[int, str]\n</code></pre> <p>Create a new user.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>name</code> <p>User's display name</p> <p> TYPE: <code>str</code> </p> <code>login</code> <p>User's login (usually email)</p> <p> TYPE: <code>str</code> </p> <code>password</code> <p>User's password (generated if not provided)</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> <code>email</code> <p>User's email (defaults to login if not provided)</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>tuple[int, str]</code> <p>Tuple of (user_id, password)</p> Source code in <code>src/vodoo/security.py</code> <pre><code>def create_user(\n    client: OdooClient,\n    name: str,\n    login: str,\n    password: str | None = None,\n    email: str | None = None,\n) -&gt; tuple[int, str]:\n    \"\"\"Create a new user.\n\n    Args:\n        client: Odoo client\n        name: User's display name\n        login: User's login (usually email)\n        password: User's password (generated if not provided)\n        email: User's email (defaults to login if not provided)\n\n    Returns:\n        Tuple of (user_id, password)\n\n    \"\"\"\n    # Generate password if not provided\n    if password is None:\n        password = _generate_password()\n\n    # Use login as email if not provided\n    if email is None:\n        email = login\n\n    # Create user with no groups (share user, not billed)\n    user_id = client.create(\n        \"res.users\",\n        {\n            \"name\": name,\n            \"login\": login,\n            \"email\": email,\n            \"password\": password,\n            _groups_field(client): [(6, 0, [])],  # Empty groups = share user\n        },\n    )\n\n    return user_id, password\n</code></pre>"},{"location":"api/security/#vodoo.security.set_user_password","title":"set_user_password","text":"<pre><code>set_user_password(client: OdooClient, user_id: int, password: str | None = None) -&gt; str\n</code></pre> <p>Set a user's password.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>user_id</code> <p>User ID</p> <p> TYPE: <code>int</code> </p> <code>password</code> <p>New password (generated if not provided)</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>str</code> <p>The password that was set</p> Source code in <code>src/vodoo/security.py</code> <pre><code>def set_user_password(\n    client: OdooClient,\n    user_id: int,\n    password: str | None = None,\n) -&gt; str:\n    \"\"\"Set a user's password.\n\n    Args:\n        client: Odoo client\n        user_id: User ID\n        password: New password (generated if not provided)\n\n    Returns:\n        The password that was set\n\n    \"\"\"\n    # Generate password if not provided\n    if password is None:\n        password = _generate_password()\n\n    client.write(\"res.users\", [user_id], {\"password\": password})\n    return password\n</code></pre>"},{"location":"api/security/#vodoo.security.get_user_info","title":"get_user_info","text":"<pre><code>get_user_info(client: OdooClient, user_id: int) -&gt; dict[str, Any]\n</code></pre> <p>Get user information.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client</p> <p> TYPE: <code>OdooClient</code> </p> <code>user_id</code> <p>User ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>User information dictionary</p> Source code in <code>src/vodoo/security.py</code> <pre><code>def get_user_info(client: OdooClient, user_id: int) -&gt; dict[str, Any]:\n    \"\"\"Get user information.\n\n    Args:\n        client: Odoo client\n        user_id: User ID\n\n    Returns:\n        User information dictionary\n\n    \"\"\"\n    users = client.search_read(\n        \"res.users\",\n        domain=[(\"id\", \"=\", user_id)],\n        fields=[\"name\", \"login\", \"email\", \"active\", \"share\", _groups_field(client), \"partner_id\"],\n        limit=1,\n    )\n    if not users:\n        raise ValueError(f\"User {user_id} not found\")\n    return users[0]\n</code></pre>"},{"location":"api/timer/","title":"Timers","text":"<p>Timer and timesheet management operations.</p>"},{"location":"api/timer/#vodoo.timer","title":"timer","text":"<p>Odoo timer (timesheet) operations.</p> <p>Supports starting/stopping timers on tasks, tickets, and timesheets. Handles version-specific differences: - Odoo 19+: timers live directly on account.analytic.line - Odoo 14-18: timers live in timer.timer; start/stop via source model</p>"},{"location":"api/timer/#vodoo.timer.TimerState","title":"TimerState","text":"<p>               Bases: <code>StrEnum</code></p> <p>Timer state.</p>"},{"location":"api/timer/#vodoo.timer.TimerSource","title":"TimerSource  <code>dataclass</code>","text":"<pre><code>TimerSource(kind: str, id: int, name: str)\n</code></pre> <p>Source of a timer (task, ticket, or standalone timesheet).</p>"},{"location":"api/timer/#vodoo.timer.Timesheet","title":"Timesheet  <code>dataclass</code>","text":"<pre><code>Timesheet(id: int, name: str, project_name: str | None, source: TimerSource, unit_amount: float, timer_start: datetime | None, date: str)\n</code></pre> <p>A timesheet entry from Odoo's account.analytic.line model.</p>"},{"location":"api/timer/#vodoo.timer.Timesheet.elapsed","title":"elapsed  <code>property</code>","text":"<pre><code>elapsed: timedelta\n</code></pre> <p>Calculate elapsed time including live running time.</p>"},{"location":"api/timer/#vodoo.timer.Timesheet.elapsed_formatted","title":"elapsed_formatted  <code>property</code>","text":"<pre><code>elapsed_formatted: str\n</code></pre> <p>Format elapsed time as H:MM.</p>"},{"location":"api/timer/#vodoo.timer.TimerBackend","title":"TimerBackend","text":"<p>               Bases: <code>ABC</code></p> <p>Version-specific timer behavior.</p>"},{"location":"api/timer/#vodoo.timer.TimerBackend.enrich_with_running_state","title":"enrich_with_running_state  <code>abstractmethod</code>","text":"<pre><code>enrich_with_running_state(timesheets: list[Timesheet], client: OdooClient, uid: int) -&gt; list[Timesheet]\n</code></pre> <p>Enrich timesheets with running timer state.</p> Source code in <code>src/vodoo/timer.py</code> <pre><code>@abstractmethod\ndef enrich_with_running_state(\n    self,\n    timesheets: list[Timesheet],\n    client: OdooClient,\n    uid: int,\n) -&gt; list[Timesheet]:\n    \"\"\"Enrich timesheets with running timer state.\"\"\"\n</code></pre>"},{"location":"api/timer/#vodoo.timer.TimerBackend.start_timer","title":"start_timer  <code>abstractmethod</code>","text":"<pre><code>start_timer(timesheet: Timesheet, client: OdooClient) -&gt; None\n</code></pre> <p>Start a timer on a timesheet.</p> Source code in <code>src/vodoo/timer.py</code> <pre><code>@abstractmethod\ndef start_timer(self, timesheet: Timesheet, client: OdooClient) -&gt; None:\n    \"\"\"Start a timer on a timesheet.\"\"\"\n</code></pre>"},{"location":"api/timer/#vodoo.timer.TimerBackend.stop_timer","title":"stop_timer  <code>abstractmethod</code>","text":"<pre><code>stop_timer(timesheet: Timesheet, client: OdooClient) -&gt; Any\n</code></pre> <p>Stop a timer on a timesheet. Returns wizard action dict if any.</p> Source code in <code>src/vodoo/timer.py</code> <pre><code>@abstractmethod\ndef stop_timer(self, timesheet: Timesheet, client: OdooClient) -&gt; Any:\n    \"\"\"Stop a timer on a timesheet. Returns wizard action dict if any.\"\"\"\n</code></pre>"},{"location":"api/timer/#vodoo.timer.Odoo19TimerBackend","title":"Odoo19TimerBackend","text":"<p>               Bases: <code>TimerBackend</code></p> <p>Odoo 19+: timers managed directly on account.analytic.line.</p>"},{"location":"api/timer/#vodoo.timer.LegacyTimerBackend","title":"LegacyTimerBackend","text":"<p>               Bases: <code>TimerBackend</code></p> <p>Odoo 14-18: running timer state lives in timer.timer model.</p>"},{"location":"api/timer/#vodoo.timer.get_timer_backend","title":"get_timer_backend","text":"<pre><code>get_timer_backend(client: OdooClient) -&gt; TimerBackend\n</code></pre> <p>Get the appropriate timer backend based on the Odoo version.</p> PARAMETER DESCRIPTION <code>client</code> <p>OdooClient instance</p> <p> TYPE: <code>OdooClient</code> </p> RETURNS DESCRIPTION <code>TimerBackend</code> <p>TimerBackend for the detected Odoo version</p> Source code in <code>src/vodoo/timer.py</code> <pre><code>def get_timer_backend(client: OdooClient) -&gt; TimerBackend:\n    \"\"\"Get the appropriate timer backend based on the Odoo version.\n\n    Args:\n        client: OdooClient instance\n\n    Returns:\n        TimerBackend for the detected Odoo version\n    \"\"\"\n    if client.is_json2:\n        return Odoo19TimerBackend()\n    return LegacyTimerBackend()\n</code></pre>"},{"location":"api/timer/#vodoo.timer.merge_running_timers","title":"merge_running_timers","text":"<pre><code>merge_running_timers(timesheets: list[Timesheet], running_timers: list[Timesheet]) -&gt; list[Timesheet]\n</code></pre> <p>Merge running timer info into existing timesheets.</p> <p>Shared by both sync and async legacy backends.</p> Source code in <code>src/vodoo/timer.py</code> <pre><code>def merge_running_timers(\n    timesheets: list[Timesheet],\n    running_timers: list[Timesheet],\n) -&gt; list[Timesheet]:\n    \"\"\"Merge running timer info into existing timesheets.\n\n    Shared by both sync and async legacy backends.\n    \"\"\"\n    result = list(timesheets)\n\n    for timer in running_timers:\n        source_id = timer.source.id\n        match_idx: int | None = None\n\n        for i, ts in enumerate(result):\n            if ts.source.kind == timer.source.kind and ts.source.id == source_id:\n                match_idx = i\n                break\n\n        if match_idx is not None:\n            existing = result[match_idx]\n            result[match_idx] = Timesheet(\n                id=existing.id,\n                name=existing.name,\n                project_name=existing.project_name,\n                source=existing.source,\n                unit_amount=existing.unit_amount,\n                timer_start=timer.timer_start,\n                date=existing.date,\n            )\n        else:\n            result.append(timer)\n\n    return result\n</code></pre>"},{"location":"api/timer/#vodoo.timer.build_running_timer","title":"build_running_timer","text":"<pre><code>build_running_timer(record: dict[str, Any], source: TimerSource, project_name: str | None, timer_start: datetime) -&gt; Timesheet\n</code></pre> <p>Build a Timesheet representing a running timer from timer.timer data.</p> Source code in <code>src/vodoo/timer.py</code> <pre><code>def build_running_timer(\n    record: dict[str, Any],\n    source: TimerSource,\n    project_name: str | None,\n    timer_start: datetime,\n) -&gt; Timesheet:\n    \"\"\"Build a Timesheet representing a running timer from timer.timer data.\"\"\"\n    timer_id = -(record.get(\"id\", source.id))\n    today = datetime.now(tz=UTC).strftime(\"%Y-%m-%d\")\n    return Timesheet(\n        id=timer_id,\n        name=\"\",\n        project_name=project_name,\n        source=source,\n        unit_amount=0,\n        timer_start=timer_start,\n        date=today,\n    )\n</code></pre>"},{"location":"api/timer/#vodoo.timer.fetch_today_timesheets","title":"fetch_today_timesheets","text":"<pre><code>fetch_today_timesheets(client: OdooClient) -&gt; list[Timesheet]\n</code></pre> <p>Fetch today's timesheets for the current user.</p> PARAMETER DESCRIPTION <code>client</code> <p>OdooClient instance</p> <p> TYPE: <code>OdooClient</code> </p> RETURNS DESCRIPTION <code>list[Timesheet]</code> <p>List of Timesheet objects for today</p> Source code in <code>src/vodoo/timer.py</code> <pre><code>def fetch_today_timesheets(client: OdooClient) -&gt; list[Timesheet]:\n    \"\"\"Fetch today's timesheets for the current user.\n\n    Args:\n        client: OdooClient instance\n\n    Returns:\n        List of Timesheet objects for today\n    \"\"\"\n    uid = client.uid\n    today = datetime.now(tz=UTC).strftime(\"%Y-%m-%d\")\n    fields = _get_fields(client)\n\n    records = client.search_read(\n        TIMESHEET_MODEL,\n        domain=[[\"user_id\", \"=\", uid], [\"date\", \"=\", today]],\n        fields=fields,\n    )\n\n    timesheets = [ts for r in records if (ts := _parse_timesheet(r)) is not None]\n\n    backend = get_timer_backend(client)\n    return backend.enrich_with_running_state(timesheets, client, uid)\n</code></pre>"},{"location":"api/timer/#vodoo.timer.fetch_active_timesheets","title":"fetch_active_timesheets","text":"<pre><code>fetch_active_timesheets(client: OdooClient) -&gt; list[Timesheet]\n</code></pre> <p>Fetch currently running timesheets.</p> PARAMETER DESCRIPTION <code>client</code> <p>OdooClient instance</p> <p> TYPE: <code>OdooClient</code> </p> RETURNS DESCRIPTION <code>list[Timesheet]</code> <p>List of running Timesheet objects</p> Source code in <code>src/vodoo/timer.py</code> <pre><code>def fetch_active_timesheets(client: OdooClient) -&gt; list[Timesheet]:\n    \"\"\"Fetch currently running timesheets.\n\n    Args:\n        client: OdooClient instance\n\n    Returns:\n        List of running Timesheet objects\n    \"\"\"\n    return [ts for ts in fetch_today_timesheets(client) if ts.timer_start is not None]\n</code></pre>"},{"location":"api/timer/#vodoo.timer.start_timer_on_task","title":"start_timer_on_task","text":"<pre><code>start_timer_on_task(client: OdooClient, task_id: int) -&gt; None\n</code></pre> <p>Start a timer on a project task.</p> PARAMETER DESCRIPTION <code>client</code> <p>OdooClient instance</p> <p> TYPE: <code>OdooClient</code> </p> <code>task_id</code> <p>Project task ID</p> <p> TYPE: <code>int</code> </p> Source code in <code>src/vodoo/timer.py</code> <pre><code>def start_timer_on_task(client: OdooClient, task_id: int) -&gt; None:\n    \"\"\"Start a timer on a project task.\n\n    Args:\n        client: OdooClient instance\n        task_id: Project task ID\n    \"\"\"\n    client.execute(\"project.task\", \"action_timer_start\", [task_id])\n</code></pre>"},{"location":"api/timer/#vodoo.timer.start_timer_on_ticket","title":"start_timer_on_ticket","text":"<pre><code>start_timer_on_ticket(client: OdooClient, ticket_id: int) -&gt; None\n</code></pre> <p>Start a timer on a helpdesk ticket.</p> PARAMETER DESCRIPTION <code>client</code> <p>OdooClient instance</p> <p> TYPE: <code>OdooClient</code> </p> <code>ticket_id</code> <p>Helpdesk ticket ID</p> <p> TYPE: <code>int</code> </p> Source code in <code>src/vodoo/timer.py</code> <pre><code>def start_timer_on_ticket(client: OdooClient, ticket_id: int) -&gt; None:\n    \"\"\"Start a timer on a helpdesk ticket.\n\n    Args:\n        client: OdooClient instance\n        ticket_id: Helpdesk ticket ID\n    \"\"\"\n    client.execute(\"helpdesk.ticket\", \"action_timer_start\", [ticket_id])\n</code></pre>"},{"location":"api/timer/#vodoo.timer.start_timer_on_timesheet","title":"start_timer_on_timesheet","text":"<pre><code>start_timer_on_timesheet(client: OdooClient, timesheet_id: int) -&gt; None\n</code></pre> <p>Start a timer on an existing timesheet.</p> PARAMETER DESCRIPTION <code>client</code> <p>OdooClient instance</p> <p> TYPE: <code>OdooClient</code> </p> <code>timesheet_id</code> <p>Timesheet ID (account.analytic.line)</p> <p> TYPE: <code>int</code> </p> Source code in <code>src/vodoo/timer.py</code> <pre><code>def start_timer_on_timesheet(client: OdooClient, timesheet_id: int) -&gt; None:\n    \"\"\"Start a timer on an existing timesheet.\n\n    Args:\n        client: OdooClient instance\n        timesheet_id: Timesheet ID (account.analytic.line)\n    \"\"\"\n    # Fetch the timesheet to determine source\n    fields = _get_fields(client)\n    records = client.search_read(\n        TIMESHEET_MODEL,\n        domain=[[\"id\", \"=\", timesheet_id]],\n        fields=fields,\n        limit=1,\n    )\n    if not records:\n        msg = f\"Timesheet {timesheet_id} not found\"\n        raise ValueError(msg)\n\n    ts = _parse_timesheet(records[0])\n    if ts is None:\n        msg = f\"Failed to parse timesheet {timesheet_id}\"\n        raise ValueError(msg)\n\n    backend = get_timer_backend(client)\n    backend.start_timer(ts, client)\n</code></pre>"},{"location":"api/timer/#vodoo.timer.stop_timer_on_timesheet","title":"stop_timer_on_timesheet","text":"<pre><code>stop_timer_on_timesheet(client: OdooClient, timesheet_id: int) -&gt; None\n</code></pre> <p>Stop a timer on an existing timesheet.</p> <p>Handles stop wizards automatically (Odoo 14-18 and 19).</p> PARAMETER DESCRIPTION <code>client</code> <p>OdooClient instance</p> <p> TYPE: <code>OdooClient</code> </p> <code>timesheet_id</code> <p>Timesheet ID (account.analytic.line)</p> <p> TYPE: <code>int</code> </p> Source code in <code>src/vodoo/timer.py</code> <pre><code>def stop_timer_on_timesheet(client: OdooClient, timesheet_id: int) -&gt; None:\n    \"\"\"Stop a timer on an existing timesheet.\n\n    Handles stop wizards automatically (Odoo 14-18 and 19).\n\n    Args:\n        client: OdooClient instance\n        timesheet_id: Timesheet ID (account.analytic.line)\n    \"\"\"\n    fields = _get_fields(client)\n    records = client.search_read(\n        TIMESHEET_MODEL,\n        domain=[[\"id\", \"=\", timesheet_id]],\n        fields=fields,\n        limit=1,\n    )\n    if not records:\n        msg = f\"Timesheet {timesheet_id} not found\"\n        raise ValueError(msg)\n\n    ts = _parse_timesheet(records[0])\n    if ts is None:\n        msg = f\"Failed to parse timesheet {timesheet_id}\"\n        raise ValueError(msg)\n\n    backend = get_timer_backend(client)\n    result = backend.stop_timer(ts, client)\n    _handle_stop_wizard(client, result)\n</code></pre>"},{"location":"api/timer/#vodoo.timer.stop_active_timers","title":"stop_active_timers","text":"<pre><code>stop_active_timers(client: OdooClient) -&gt; list[Timesheet]\n</code></pre> <p>Stop all currently running timers.</p> PARAMETER DESCRIPTION <code>client</code> <p>OdooClient instance</p> <p> TYPE: <code>OdooClient</code> </p> RETURNS DESCRIPTION <code>list[Timesheet]</code> <p>List of timesheets that were stopped</p> Source code in <code>src/vodoo/timer.py</code> <pre><code>def stop_active_timers(client: OdooClient) -&gt; list[Timesheet]:\n    \"\"\"Stop all currently running timers.\n\n    Args:\n        client: OdooClient instance\n\n    Returns:\n        List of timesheets that were stopped\n    \"\"\"\n    active = fetch_active_timesheets(client)\n    backend = get_timer_backend(client)\n\n    for ts in active:\n        result = backend.stop_timer(ts, client)\n        _handle_stop_wizard(client, result)\n\n    return active\n</code></pre>"},{"location":"api/transport/","title":"Transport","text":"<p>Transport abstraction for Odoo JSON-RPC and JSON-2 protocols.</p>"},{"location":"api/transport/#vodoo.transport","title":"transport","text":"<p>Odoo JSON-RPC transport abstraction.</p> <p>Provides two implementations: - LegacyTransport: Odoo 14-18 using POST /jsonrpc with service/method/args envelope - JSON2Transport: Odoo 19+ using POST /json/2// with bearer token auth"},{"location":"api/transport/#vodoo.transport.OdooTransport","title":"OdooTransport","text":"<pre><code>OdooTransport(url: str, database: str, username: str, password: str, *, timeout: int = 30, retry: RetryConfig | None = None)\n</code></pre> <p>               Bases: <code>ABC</code></p> <p>Abstract base for Odoo RPC transports.</p> <p>Each transport knows how to authenticate, call model methods, and perform CRUD operations. The public API is identical regardless of the underlying protocol (legacy JSON-RPC or JSON-2 REST).</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>def __init__(\n    self,\n    url: str,\n    database: str,\n    username: str,\n    password: str,\n    *,\n    timeout: int = 30,\n    retry: RetryConfig | None = None,\n) -&gt; None:\n    self.url = url.rstrip(\"/\")\n    self.database = database.strip()\n    self.username = username.strip()\n    self.password = password.strip()\n    self.timeout = timeout\n    self.retry = retry or DEFAULT_RETRY\n    self._uid: int | None = None\n    self._http = httpx.Client(timeout=timeout)\n</code></pre>"},{"location":"api/transport/#vodoo.transport.OdooTransport.uid","title":"uid  <code>property</code>","text":"<pre><code>uid: int\n</code></pre> <p>Get authenticated user ID, authenticating if needed.</p>"},{"location":"api/transport/#vodoo.transport.OdooTransport.authenticate","title":"authenticate  <code>abstractmethod</code>","text":"<pre><code>authenticate() -&gt; int\n</code></pre> <p>Authenticate and return the user ID.</p> RAISES DESCRIPTION <code>AuthenticationError</code> <p>If authentication fails.</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>@abstractmethod\ndef authenticate(self) -&gt; int:\n    \"\"\"Authenticate and return the user ID.\n\n    Raises:\n        AuthenticationError: If authentication fails.\n    \"\"\"\n</code></pre>"},{"location":"api/transport/#vodoo.transport.OdooTransport.execute_kw","title":"execute_kw  <code>abstractmethod</code>","text":"<pre><code>execute_kw(model: str, method: str, args: list[Any], kwargs: dict[str, Any] | None = None) -&gt; Any\n</code></pre> <p>Execute a method on an Odoo model (execute_kw equivalent).</p> PARAMETER DESCRIPTION <code>model</code> <p>Odoo model name (e.g., 'project.task')</p> <p> TYPE: <code>str</code> </p> <code>method</code> <p>Method name (e.g., 'search_read')</p> <p> TYPE: <code>str</code> </p> <code>args</code> <p>Positional arguments</p> <p> TYPE: <code>list[Any]</code> </p> <code>kwargs</code> <p>Keyword arguments</p> <p> TYPE: <code>dict[str, Any] | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>Any</code> <p>Method result</p> RAISES DESCRIPTION <code>TransportError</code> <p>On RPC/HTTP errors.</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>@abstractmethod\ndef execute_kw(\n    self,\n    model: str,\n    method: str,\n    args: list[Any],\n    kwargs: dict[str, Any] | None = None,\n) -&gt; Any:\n    \"\"\"Execute a method on an Odoo model (execute_kw equivalent).\n\n    Args:\n        model: Odoo model name (e.g., 'project.task')\n        method: Method name (e.g., 'search_read')\n        args: Positional arguments\n        kwargs: Keyword arguments\n\n    Returns:\n        Method result\n\n    Raises:\n        TransportError: On RPC/HTTP errors.\n    \"\"\"\n</code></pre>"},{"location":"api/transport/#vodoo.transport.OdooTransport.call_service","title":"call_service  <code>abstractmethod</code>","text":"<pre><code>call_service(service: str, method: str, args: list[Any]) -&gt; Any\n</code></pre> <p>Call a JSON-RPC service method (e.g. common/authenticate).</p> PARAMETER DESCRIPTION <code>service</code> <p>Service name ('common', 'object', 'db')</p> <p> TYPE: <code>str</code> </p> <code>method</code> <p>Method name</p> <p> TYPE: <code>str</code> </p> <code>args</code> <p>Arguments</p> <p> TYPE: <code>list[Any]</code> </p> RETURNS DESCRIPTION <code>Any</code> <p>Result</p> RAISES DESCRIPTION <code>TransportError</code> <p>On RPC/HTTP errors.</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>@abstractmethod\ndef call_service(\n    self,\n    service: str,\n    method: str,\n    args: list[Any],\n) -&gt; Any:\n    \"\"\"Call a JSON-RPC service method (e.g. common/authenticate).\n\n    Args:\n        service: Service name ('common', 'object', 'db')\n        method: Method name\n        args: Arguments\n\n    Returns:\n        Result\n\n    Raises:\n        TransportError: On RPC/HTTP errors.\n    \"\"\"\n</code></pre>"},{"location":"api/transport/#vodoo.transport.OdooTransport.close","title":"close","text":"<pre><code>close() -&gt; None\n</code></pre> <p>Close the underlying HTTP client.</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>def close(self) -&gt; None:\n    \"\"\"Close the underlying HTTP client.\"\"\"\n    self._http.close()\n</code></pre>"},{"location":"api/transport/#vodoo.transport.OdooTransport.search_read","title":"search_read","text":"<pre><code>search_read(model: str, domain: list[Any] | None = None, fields: list[str] | None = None, limit: int | None = None, offset: int = 0, order: str | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>Search and read records.</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>def search_read(\n    self,\n    model: str,\n    domain: list[Any] | None = None,\n    fields: list[str] | None = None,\n    limit: int | None = None,\n    offset: int = 0,\n    order: str | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"Search and read records.\"\"\"\n    kw: dict[str, Any] = {}\n    if fields is not None:\n        kw[\"fields\"] = fields\n    if limit is not None:\n        kw[\"limit\"] = limit\n    if offset &gt; 0:\n        kw[\"offset\"] = offset\n    if order is not None:\n        kw[\"order\"] = order\n    result: list[dict[str, Any]] = self.execute_kw(model, \"search_read\", [domain or []], kw)\n    return result\n</code></pre>"},{"location":"api/transport/#vodoo.transport.OdooTransport.search","title":"search","text":"<pre><code>search(model: str, domain: list[Any] | None = None, limit: int | None = None, offset: int = 0, order: str | None = None) -&gt; list[int]\n</code></pre> <p>Search for record IDs.</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>def search(\n    self,\n    model: str,\n    domain: list[Any] | None = None,\n    limit: int | None = None,\n    offset: int = 0,\n    order: str | None = None,\n) -&gt; list[int]:\n    \"\"\"Search for record IDs.\"\"\"\n    kw: dict[str, Any] = {}\n    if limit is not None:\n        kw[\"limit\"] = limit\n    if offset &gt; 0:\n        kw[\"offset\"] = offset\n    if order is not None:\n        kw[\"order\"] = order\n    result: list[int] = self.execute_kw(model, \"search\", [domain or []], kw)\n    return result\n</code></pre>"},{"location":"api/transport/#vodoo.transport.OdooTransport.read","title":"read","text":"<pre><code>read(model: str, ids: list[int], fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>Read records by IDs.</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>def read(\n    self,\n    model: str,\n    ids: list[int],\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"Read records by IDs.\"\"\"\n    if fields is not None:\n        result: list[dict[str, Any]] = self.execute_kw(model, \"read\", [ids, fields])\n    else:\n        result = self.execute_kw(model, \"read\", [ids])\n    return result\n</code></pre>"},{"location":"api/transport/#vodoo.transport.OdooTransport.create","title":"create","text":"<pre><code>create(model: str, values: dict[str, Any], context: dict[str, Any] | None = None) -&gt; int\n</code></pre> <p>Create a record and return its ID.</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>def create(\n    self,\n    model: str,\n    values: dict[str, Any],\n    context: dict[str, Any] | None = None,\n) -&gt; int:\n    \"\"\"Create a record and return its ID.\"\"\"\n    kw: dict[str, Any] = {}\n    if context:\n        kw[\"context\"] = context\n    result = self.execute_kw(model, \"create\", [values], kw if kw else None)\n    # JSON-2 returns a list of IDs (vals_list), unwrap single-record creates\n    if isinstance(result, list) and len(result) == 1:\n        return int(result[0])\n    return int(result)\n</code></pre>"},{"location":"api/transport/#vodoo.transport.OdooTransport.write","title":"write","text":"<pre><code>write(model: str, ids: list[int], values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update records.</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>def write(\n    self,\n    model: str,\n    ids: list[int],\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update records.\"\"\"\n    result: bool = self.execute_kw(model, \"write\", [ids, values])\n    return result\n</code></pre>"},{"location":"api/transport/#vodoo.transport.OdooTransport.unlink","title":"unlink","text":"<pre><code>unlink(model: str, ids: list[int]) -&gt; bool\n</code></pre> <p>Delete records.</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>def unlink(\n    self,\n    model: str,\n    ids: list[int],\n) -&gt; bool:\n    \"\"\"Delete records.\"\"\"\n    result: bool = self.execute_kw(model, \"unlink\", [ids])\n    return result\n</code></pre>"},{"location":"api/transport/#vodoo.transport.OdooTransport.name_search","title":"name_search","text":"<pre><code>name_search(model: str, name: str, domain: list[Any] | None = None, limit: int = 7) -&gt; list[tuple[int, str]]\n</code></pre> <p>Autocomplete search returning (id, display_name) pairs.</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>def name_search(\n    self,\n    model: str,\n    name: str,\n    domain: list[Any] | None = None,\n    limit: int = 7,\n) -&gt; list[tuple[int, str]]:\n    \"\"\"Autocomplete search returning (id, display_name) pairs.\"\"\"\n    result = self.execute_kw(\n        model,\n        \"name_search\",\n        [],\n        {\"name\": name, \"args\": domain or [], \"limit\": limit},\n    )\n    return _parse_name_search(result)\n</code></pre>"},{"location":"api/transport/#vodoo.transport.LegacyTransport","title":"LegacyTransport","text":"<pre><code>LegacyTransport(url: str, database: str, username: str, password: str, *, timeout: int = 30, retry: RetryConfig | None = None)\n</code></pre> <p>               Bases: <code>OdooTransport</code></p> <p>Odoo 14-18 legacy JSON-RPC transport.</p> <p>Uses POST /jsonrpc with service/method/args envelope.</p> Source code in <code>src/vodoo/transport.py</code> <pre><code>def __init__(\n    self,\n    url: str,\n    database: str,\n    username: str,\n    password: str,\n    *,\n    timeout: int = 30,\n    retry: RetryConfig | None = None,\n) -&gt; None:\n    self.url = url.rstrip(\"/\")\n    self.database = database.strip()\n    self.username = username.strip()\n    self.password = password.strip()\n    self.timeout = timeout\n    self.retry = retry or DEFAULT_RETRY\n    self._uid: int | None = None\n    self._http = httpx.Client(timeout=timeout)\n</code></pre>"},{"location":"api/transport/#vodoo.transport.JSON2Transport","title":"JSON2Transport","text":"<pre><code>JSON2Transport(url: str, database: str, username: str, password: str, *, timeout: int = 30, retry: RetryConfig | None = None)\n</code></pre> <p>               Bases: <code>OdooTransport</code></p> <p>Odoo 19+ JSON-2 API transport.</p> <p>Uses POST /json/2// with bearer token auth. Source code in <code>src/vodoo/transport.py</code> <pre><code>def __init__(\n    self,\n    url: str,\n    database: str,\n    username: str,\n    password: str,\n    *,\n    timeout: int = 30,\n    retry: RetryConfig | None = None,\n) -&gt; None:\n    self.url = url.rstrip(\"/\")\n    self.database = database.strip()\n    self.username = username.strip()\n    self.password = password.strip()\n    self.timeout = timeout\n    self.retry = retry or DEFAULT_RETRY\n    self._uid: int | None = None\n    self._http = httpx.Client(timeout=timeout)\n</code></pre>"},{"location":"api/aio/auth/","title":"Async Auth","text":"<p>Async authentication utilities and sudo operations.</p>"},{"location":"api/aio/auth/#vodoo.aio.auth","title":"auth","text":"<p>Async authentication utilities for Vodoo.</p> <p>Mirrors :mod:<code>vodoo.auth</code> with async methods.</p>"},{"location":"api/aio/auth/#vodoo.aio.auth.get_default_user_id","title":"get_default_user_id  <code>async</code>","text":"<pre><code>get_default_user_id(client: AsyncOdooClient, username: str | None = None) -&gt; int\n</code></pre> <p>Get the default user ID for sudo operations.</p> PARAMETER DESCRIPTION <code>client</code> <p>Async Odoo client</p> <p> TYPE: <code>AsyncOdooClient</code> </p> <code>username</code> <p>Username to search for (defaults to configured username)</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>int</code> <p>User ID</p> RAISES DESCRIPTION <code>RecordNotFoundError</code> <p>If user not found</p> Source code in <code>src/vodoo/aio/auth.py</code> <pre><code>async def get_default_user_id(client: AsyncOdooClient, username: str | None = None) -&gt; int:\n    \"\"\"Get the default user ID for sudo operations.\n\n    Args:\n        client: Async Odoo client\n        username: Username to search for (defaults to configured username)\n\n    Returns:\n        User ID\n\n    Raises:\n        RecordNotFoundError: If user not found\n    \"\"\"\n    search_username = username or client.username\n    user_ids = await client.search(\"res.users\", domain=[(\"login\", \"=\", search_username)], limit=1)\n    if not user_ids:\n        raise RecordNotFoundError(\"res.users\", 0)\n    return user_ids[0]\n</code></pre>"},{"location":"api/aio/auth/#vodoo.aio.auth.get_partner_id_from_user","title":"get_partner_id_from_user  <code>async</code>","text":"<pre><code>get_partner_id_from_user(client: AsyncOdooClient, user_id: int) -&gt; int\n</code></pre> <p>Get the partner ID associated with a user.</p> PARAMETER DESCRIPTION <code>client</code> <p>Async Odoo client</p> <p> TYPE: <code>AsyncOdooClient</code> </p> <code>user_id</code> <p>User ID (res.users)</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>int</code> <p>Partner ID (res.partner)</p> RAISES DESCRIPTION <code>RecordNotFoundError</code> <p>If user not found or has no partner</p> Source code in <code>src/vodoo/aio/auth.py</code> <pre><code>async def get_partner_id_from_user(client: AsyncOdooClient, user_id: int) -&gt; int:\n    \"\"\"Get the partner ID associated with a user.\n\n    Args:\n        client: Async Odoo client\n        user_id: User ID (res.users)\n\n    Returns:\n        Partner ID (res.partner)\n\n    Raises:\n        RecordNotFoundError: If user not found or has no partner\n    \"\"\"\n    users = await client.read(\"res.users\", [user_id], [\"partner_id\"])\n    if not users:\n        raise RecordNotFoundError(\"res.users\", user_id)\n\n    partner_id = users[0].get(\"partner_id\")\n    if not partner_id:\n        raise RecordNotFoundError(\"res.partner\", 0)\n\n    if isinstance(partner_id, list):\n        result: int = partner_id[0]\n        return result\n    return int(partner_id)\n</code></pre>"},{"location":"api/aio/auth/#vodoo.aio.auth.message_post_sudo","title":"message_post_sudo  <code>async</code>","text":"<pre><code>message_post_sudo(client: AsyncOdooClient, model: str, res_id: int, body: str, user_id: int | None = None, message_type: str = 'comment', is_note: bool = False, **kwargs: Any) -&gt; bool\n</code></pre> <p>Post a message or note as a specific user using sudo.</p> PARAMETER DESCRIPTION <code>client</code> <p>Async Odoo client</p> <p> TYPE: <code>AsyncOdooClient</code> </p> <code>model</code> <p>Model name (e.g., 'helpdesk.ticket')</p> <p> TYPE: <code>str</code> </p> <code>res_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>body</code> <p>Message body (HTML)</p> <p> TYPE: <code>str</code> </p> <code>user_id</code> <p>User ID to post as (uses default if None)</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>None</code> </p> <code>message_type</code> <p>Type of message ('comment' or 'notification')</p> <p> TYPE: <code>str</code> DEFAULT: <code>'comment'</code> </p> <code>is_note</code> <p>If True, creates an internal note</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>**kwargs</code> <p>Additional arguments for message_post</p> <p> TYPE: <code>Any</code> DEFAULT: <code>{}</code> </p> RETURNS DESCRIPTION <code>bool</code> <p>True if successful</p> RAISES DESCRIPTION <code>ConfigurationError</code> <p>If no default user configured</p> Source code in <code>src/vodoo/aio/auth.py</code> <pre><code>async def message_post_sudo(\n    client: AsyncOdooClient,\n    model: str,\n    res_id: int,\n    body: str,\n    user_id: int | None = None,\n    message_type: str = \"comment\",\n    is_note: bool = False,\n    **kwargs: Any,\n) -&gt; bool:\n    \"\"\"Post a message or note as a specific user using sudo.\n\n    Args:\n        client: Async Odoo client\n        model: Model name (e.g., 'helpdesk.ticket')\n        res_id: Record ID\n        body: Message body (HTML)\n        user_id: User ID to post as (uses default if None)\n        message_type: Type of message ('comment' or 'notification')\n        is_note: If True, creates an internal note\n        **kwargs: Additional arguments for message_post\n\n    Returns:\n        True if successful\n\n    Raises:\n        ConfigurationError: If no default user configured\n    \"\"\"\n    if user_id is None:\n        if client.config.default_user_id is None:\n            msg = \"No default user ID configured\"\n            raise ConfigurationError(msg)\n        user_id = client.config.default_user_id\n\n    partner_id = await get_partner_id_from_user(client, user_id)\n\n    subtype_name = \"Note\" if is_note else \"Discussions\"\n    subtype_ids = await client.search(\n        \"mail.message.subtype\", domain=[(\"name\", \"=\", subtype_name)], limit=1\n    )\n\n    effective_message_type = \"notification\" if is_note else message_type\n\n    message_vals = {\n        \"model\": model,\n        \"res_id\": res_id,\n        \"body\": body,\n        \"message_type\": effective_message_type,\n        \"subtype_id\": subtype_ids[0] if subtype_ids else False,\n        \"author_id\": partner_id,\n        **kwargs,\n    }\n\n    message_id = await client.create(\"mail.message\", message_vals)\n    return bool(message_id)\n</code></pre>"},{"location":"api/aio/base/","title":"Async Base Operations","text":"<p>Async shared CRUD, messaging, attachment helpers used by all async domain modules.</p>"},{"location":"api/aio/base/#vodoo.aio.base","title":"base","text":"<p>Async base operations for Odoo models.</p> <p>Provides async versions of I/O functions from :mod:<code>vodoo.base</code>. Pure display/formatting functions are re-exported unchanged.</p>"},{"location":"api/aio/base/#vodoo.aio.base.configure_output","title":"configure_output","text":"<pre><code>configure_output(*, console: Console | None = None, simple: bool = False) -&gt; None\n</code></pre> <p>Configure the output console and mode.</p> <p>Called by the CLI layer.  Library users may call this to customise display behaviour, or simply ignore it (sensible defaults apply).</p> <p>Requires the <code>cli</code> extra (<code>rich</code>) when console is provided or simple is <code>False</code> and display functions are subsequently called.</p> PARAMETER DESCRIPTION <code>console</code> <p>Rich Console instance to use for output.</p> <p> TYPE: <code>Console | None</code> DEFAULT: <code>None</code> </p> <code>simple</code> <p>If <code>True</code>, display functions emit plain TSV instead of rich tables.</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/vodoo/base.py</code> <pre><code>def configure_output(*, console: Console | None = None, simple: bool = False) -&gt; None:\n    \"\"\"Configure the output console and mode.\n\n    Called by the CLI layer.  Library users may call this to customise\n    display behaviour, or simply ignore it (sensible defaults apply).\n\n    Requires the ``cli`` extra (``rich``) when *console* is provided or\n    *simple* is ``False`` and display functions are subsequently called.\n\n    Args:\n        console: Rich Console instance to use for output.\n        simple: If ``True``, display functions emit plain TSV instead of\n            rich tables.\n\n    \"\"\"\n    global _output_console, _output_simple  # noqa: PLW0603\n    if console is not None:\n        _output_console = console\n    _output_simple = simple\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.display_attachments","title":"display_attachments","text":"<pre><code>display_attachments(attachments: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display attachments in a table or TSV format.</p> PARAMETER DESCRIPTION <code>attachments</code> <p>List of attachment dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> Source code in <code>src/vodoo/base.py</code> <pre><code>def display_attachments(attachments: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display attachments in a table or TSV format.\n\n    Args:\n        attachments: List of attachment dictionaries\n\n    \"\"\"\n    if _is_simple_output():\n        print(\"id\\tname\\tsize_kb\\tmimetype\\tcreate_date\")\n        for att in attachments:\n            size = att.get(\"file_size\", 0)\n            size_kb = f\"{size / 1024:.1f}\" if size else \"\"\n            name = att.get(\"name\", \"\")\n            mime = att.get(\"mimetype\", \"\")\n            created = att.get(\"create_date\", \"\")\n            print(f\"{att['id']}\\t{name}\\t{size_kb}\\t{mime}\\t{created}\")\n    else:\n        from rich.table import Table\n\n        console = _get_console()\n        table = Table(title=\"Attachments\")\n        table.add_column(\"ID\", style=\"cyan\")\n        table.add_column(\"Name\", style=\"green\")\n        table.add_column(\"Size\", style=\"yellow\")\n        table.add_column(\"Type\", style=\"blue\")\n        table.add_column(\"Created\", style=\"magenta\")\n\n        for att in attachments:\n            size = att.get(\"file_size\", 0)\n            size_str = f\"{size / 1024:.1f} KB\" if size else \"N/A\"\n\n            table.add_row(\n                str(att[\"id\"]),\n                att.get(\"name\", \"N/A\"),\n                size_str,\n                att.get(\"mimetype\", \"N/A\"),\n                str(att.get(\"create_date\", \"N/A\")),\n            )\n\n        console.print(table)\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.display_messages","title":"display_messages","text":"<pre><code>display_messages(messages: list[dict[str, Any]], show_html: bool = False) -&gt; None\n</code></pre> <p>Display messages in a formatted list or simple format.</p> PARAMETER DESCRIPTION <code>messages</code> <p>List of message dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> <code>show_html</code> <p>Whether to show raw HTML body</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> Source code in <code>src/vodoo/base.py</code> <pre><code>def display_messages(messages: list[dict[str, Any]], show_html: bool = False) -&gt; None:  # noqa: PLR0912\n    \"\"\"Display messages in a formatted list or simple format.\n\n    Args:\n        messages: List of message dictionaries\n        show_html: Whether to show raw HTML body\n\n    \"\"\"\n    from html import unescape\n    from html.parser import HTMLParser\n\n    class HTMLToText(HTMLParser):\n        \"\"\"Simple HTML to text converter.\"\"\"\n\n        def __init__(self) -&gt; None:\n            super().__init__()\n            self.text: list[str] = []\n\n        def handle_data(self, data: str) -&gt; None:\n            self.text.append(data)\n\n        def get_text(self) -&gt; str:\n            return \"\".join(self.text).strip()\n\n    def get_body_text(body: str) -&gt; str:\n        if show_html:\n            return body\n        parser = HTMLToText()\n        parser.feed(unescape(body))\n        return parser.get_text()\n\n    if not messages:\n        print(\"No messages found\") if _is_simple_output() else _get_console().print(\n            \"[yellow]No messages found[/yellow]\"\n        )\n        return\n\n    if _is_simple_output():\n        # Simple format: date, author, type, body (one line per message)\n        print(\"date\\tauthor\\ttype\\tbody\")\n        for msg in messages:\n            date = msg.get(\"date\", \"\")\n            author = msg.get(\"author_id\")\n            author_name = (\n                author[1] if author and isinstance(author, list) else msg.get(\"email_from\", \"\")\n            )\n            subtype = msg.get(\"subtype_id\")\n            if subtype and isinstance(subtype, list):\n                subtype_name = subtype[1]\n            else:\n                subtype_name = msg.get(\"message_type\", \"\")\n            body = get_body_text(msg.get(\"body\", \"\")).replace(\"\\t\", \" \").replace(\"\\n\", \" \")\n            print(f\"{date}\\t{author_name}\\t{subtype_name}\\t{body}\")\n    else:\n        console = _get_console()\n        console.print(f\"\\n[bold cyan]Message History ({len(messages)} messages)[/bold cyan]\\n\")\n\n        for i, msg in enumerate(messages, 1):\n            date = msg.get(\"date\", \"N/A\")\n            author = msg.get(\"author_id\")\n            if author and isinstance(author, list):\n                author_name = author[1]\n            else:\n                author_name = msg.get(\"email_from\", \"Unknown\")\n\n            message_type = msg.get(\"message_type\", \"comment\")\n            subtype = msg.get(\"subtype_id\")\n            subtype_name = subtype[1] if subtype and isinstance(subtype, list) else message_type\n\n            console.print(f\"[bold]Message #{i}[/bold] [dim]({date})[/dim]\")\n            console.print(f\"[cyan]From:[/cyan] {author_name}\")\n            console.print(f\"[cyan]Type:[/cyan] {subtype_name}\")\n\n            if msg.get(\"subject\"):\n                console.print(f\"[cyan]Subject:[/cyan] {msg['subject']}\")\n\n            body = msg.get(\"body\", \"\")\n            if body:\n                text = get_body_text(body)\n                if text:\n                    console.print(f\"\\n{text}\\n\")\n\n            if i &lt; len(messages):\n                console.print(\"[dim]\" + \"\u2500\" * 80 + \"[/dim]\\n\")\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.display_record_detail","title":"display_record_detail","text":"<pre><code>display_record_detail(record: dict[str, Any], *, show_html: bool = False, record_type: str = 'Record') -&gt; None\n</code></pre> <p>Display detailed record information.</p> PARAMETER DESCRIPTION <code>record</code> <p>Record dictionary</p> <p> TYPE: <code>dict[str, Any]</code> </p> <code>show_html</code> <p>If True, show raw HTML description, else convert to markdown</p> <p> TYPE: <code>bool</code> DEFAULT: <code>False</code> </p> <code>record_type</code> <p>Human-readable record type (e.g., \"Ticket\", \"Task\")</p> <p> TYPE: <code>str</code> DEFAULT: <code>'Record'</code> </p> Source code in <code>src/vodoo/base.py</code> <pre><code>def display_record_detail(  # noqa: PLR0912\n    record: dict[str, Any],\n    *,\n    show_html: bool = False,\n    record_type: str = \"Record\",\n) -&gt; None:\n    \"\"\"Display detailed record information.\n\n    Args:\n        record: Record dictionary\n        show_html: If True, show raw HTML description, else convert to markdown\n        record_type: Human-readable record type (e.g., \"Ticket\", \"Task\")\n\n    \"\"\"\n    if _is_simple_output():\n        # Simple key: value format\n        print(f\"id: {record['id']}\")\n        print(f\"name: {record['name']}\")\n        if record.get(\"partner_id\"):\n            print(f\"partner: {record['partner_id'][1]}\")\n        if record.get(\"stage_id\"):\n            print(f\"stage: {record['stage_id'][1]}\")\n        if record.get(\"user_id\"):\n            print(f\"assigned_to: {record['user_id'][1]}\")\n        if record.get(\"project_id\"):\n            print(f\"project: {record['project_id'][1]}\")\n        if \"priority\" in record:\n            print(f\"priority: {record.get('priority', '0')}\")\n        if record.get(\"description\"):\n            desc = record[\"description\"]\n            if not show_html:\n                desc = _html_to_markdown(desc)\n            print(f\"description: {desc}\")\n        if record.get(\"tag_ids\"):\n            print(f\"tags: {','.join(map(str, record['tag_ids']))}\")\n    else:\n        console = _get_console()\n        console.print(f\"\\n[bold cyan]{record_type} #{record['id']}[/bold cyan]\")\n        console.print(f\"[bold]Name:[/bold] {record['name']}\")\n\n        if record.get(\"partner_id\"):\n            console.print(f\"[bold]Partner:[/bold] {record['partner_id'][1]}\")\n\n        if record.get(\"stage_id\"):\n            console.print(f\"[bold]Stage:[/bold] {record['stage_id'][1]}\")\n\n        if record.get(\"user_id\"):\n            console.print(f\"[bold]Assigned To:[/bold] {record['user_id'][1]}\")\n\n        if record.get(\"project_id\"):\n            console.print(f\"[bold]Project:[/bold] {record['project_id'][1]}\")\n\n        if \"priority\" in record:\n            console.print(f\"[bold]Priority:[/bold] {record.get('priority', '0')}\")\n\n        if record.get(\"description\"):\n            description = record[\"description\"]\n            if show_html:\n                console.print(f\"\\n[bold]Description:[/bold]\\n{description}\")\n            else:\n                markdown_text = _html_to_markdown(description)\n                console.print(f\"\\n[bold]Description:[/bold]\\n{markdown_text}\")\n\n        if record.get(\"tag_ids\"):\n            console.print(f\"\\n[bold]Tags:[/bold] {', '.join(map(str, record['tag_ids']))}\")\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.display_records","title":"display_records","text":"<pre><code>display_records(records: list[dict[str, Any]], title: str = 'Records') -&gt; None\n</code></pre> <p>Display records in a table or TSV format.</p> PARAMETER DESCRIPTION <code>records</code> <p>List of record dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> <code>title</code> <p>Table title</p> <p> TYPE: <code>str</code> DEFAULT: <code>'Records'</code> </p> Source code in <code>src/vodoo/base.py</code> <pre><code>def display_records(records: list[dict[str, Any]], title: str = \"Records\") -&gt; None:\n    \"\"\"Display records in a table or TSV format.\n\n    Args:\n        records: List of record dictionaries\n        title: Table title\n\n    \"\"\"\n    if not records:\n        if _is_simple_output():\n            print(\"No records found\")\n        else:\n            _get_console().print(\"[yellow]No records found[/yellow]\")\n        return\n\n    field_names = list(records[0].keys())\n\n    if _is_simple_output():\n        # Simple TSV output for LLMs\n        print(\"\\t\".join(field_names))\n        for record in records:\n            row = [_format_field_value(record.get(f)) for f in field_names]\n            print(\"\\t\".join(row))\n    else:\n        # Rich table output\n        from rich.table import Table\n\n        console = _get_console()\n        table = Table(title=title)\n\n        field_styles = {\n            \"id\": \"cyan\",\n            \"name\": \"green\",\n            \"partner_id\": \"yellow\",\n            \"stage_id\": \"blue\",\n            \"user_id\": \"magenta\",\n            \"priority\": \"red\",\n            \"project_id\": \"blue\",\n        }\n\n        for field_name in field_names:\n            style = field_styles.get(field_name, \"white\")\n            table.add_column(field_name, style=style)\n\n        for record in records:\n            row_values = [_format_field_value(record.get(f)) or \"N/A\" for f in field_names]\n            table.add_row(*row_values)\n\n        console.print(table)\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.display_tags","title":"display_tags","text":"<pre><code>display_tags(tags: list[dict[str, Any]], title: str = 'Tags') -&gt; None\n</code></pre> <p>Display tags in a table or TSV format.</p> PARAMETER DESCRIPTION <code>tags</code> <p>List of tag dictionaries</p> <p> TYPE: <code>list[dict[str, Any]]</code> </p> <code>title</code> <p>Table title</p> <p> TYPE: <code>str</code> DEFAULT: <code>'Tags'</code> </p> Source code in <code>src/vodoo/base.py</code> <pre><code>def display_tags(tags: list[dict[str, Any]], title: str = \"Tags\") -&gt; None:\n    \"\"\"Display tags in a table or TSV format.\n\n    Args:\n        tags: List of tag dictionaries\n        title: Table title\n\n    \"\"\"\n    if _is_simple_output():\n        print(\"id\\tname\\tcolor\")\n        for tag in tags:\n            print(f\"{tag['id']}\\t{tag['name']}\\t{tag.get('color', '')}\")\n    else:\n        from rich.table import Table\n\n        console = _get_console()\n        table = Table(title=title)\n        table.add_column(\"ID\", style=\"cyan\")\n        table.add_column(\"Name\", style=\"green\")\n        table.add_column(\"Color\", style=\"yellow\")\n\n        for tag in tags:\n            table.add_row(\n                str(tag[\"id\"]),\n                tag[\"name\"],\n                str(tag.get(\"color\", \"N/A\")),\n            )\n\n        console.print(table)\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.get_record_url","title":"get_record_url","text":"<pre><code>get_record_url(client: OdooClient | Any, model: str, record_id: int) -&gt; str\n</code></pre> <p>Get the web URL for a record.</p> <p>Works with both sync <code>OdooClient</code> and async <code>AsyncOdooClient</code> \u2014 only <code>client.config.url</code> is accessed.</p> PARAMETER DESCRIPTION <code>client</code> <p>Odoo client (sync or async)</p> <p> TYPE: <code>OdooClient | Any</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>str</code> <p>URL to view the record in Odoo web interface</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; get_record_url(client, \"helpdesk.ticket\", 42)\n'https://odoo.example.com/web#id=42&amp;model=helpdesk.ticket&amp;view_type=form'\n</code></pre> Source code in <code>src/vodoo/base.py</code> <pre><code>def get_record_url(client: OdooClient | Any, model: str, record_id: int) -&gt; str:\n    \"\"\"Get the web URL for a record.\n\n    Works with both sync ``OdooClient`` and async ``AsyncOdooClient`` \u2014\n    only ``client.config.url`` is accessed.\n\n    Args:\n        client: Odoo client (sync or async)\n        model: Model name\n        record_id: Record ID\n\n    Returns:\n        URL to view the record in Odoo web interface\n\n    Examples:\n        &gt;&gt;&gt; get_record_url(client, \"helpdesk.ticket\", 42)\n        'https://odoo.example.com/web#id=42&amp;model=helpdesk.ticket&amp;view_type=form'\n\n    \"\"\"\n    base_url = client.config.url.rstrip(\"/\")\n    return f\"{base_url}/web#id={record_id}&amp;model={model}&amp;view_type=form\"\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.list_records","title":"list_records  <code>async</code>","text":"<pre><code>list_records(client: AsyncOdooClient, model: str, domain: list[Any] | None = None, limit: int | None = 50, fields: list[str] | None = None, order: str = 'create_date desc') -&gt; list[dict[str, Any]]\n</code></pre> <p>List records from a model.</p> PARAMETER DESCRIPTION <code>client</code> <p>Async Odoo client</p> <p> TYPE: <code>AsyncOdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>domain</code> <p>Search domain filters</p> <p> TYPE: <code>list[Any] | None</code> DEFAULT: <code>None</code> </p> <code>limit</code> <p>Maximum number of records</p> <p> TYPE: <code>int | None</code> DEFAULT: <code>50</code> </p> <code>fields</code> <p>List of fields to fetch</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> <code>order</code> <p>Sort order</p> <p> TYPE: <code>str</code> DEFAULT: <code>'create_date desc'</code> </p> RETURNS DESCRIPTION <code>list[dict[str, Any]]</code> <p>List of record dictionaries</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def list_records(\n    client: AsyncOdooClient,\n    model: str,\n    domain: list[Any] | None = None,\n    limit: int | None = 50,\n    fields: list[str] | None = None,\n    order: str = \"create_date desc\",\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List records from a model.\n\n    Args:\n        client: Async Odoo client\n        model: Model name\n        domain: Search domain filters\n        limit: Maximum number of records\n        fields: List of fields to fetch\n        order: Sort order\n\n    Returns:\n        List of record dictionaries\n    \"\"\"\n    return await client.search_read(\n        model,\n        domain=domain,\n        fields=fields,\n        limit=limit,\n        order=order,\n    )\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.get_record","title":"get_record  <code>async</code>","text":"<pre><code>get_record(client: AsyncOdooClient, model: str, record_id: int, fields: list[str] | None = None) -&gt; dict[str, Any]\n</code></pre> <p>Get detailed record information.</p> PARAMETER DESCRIPTION <code>client</code> <p>Async Odoo client</p> <p> TYPE: <code>AsyncOdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>fields</code> <p>List of field names to read</p> <p> TYPE: <code>list[str] | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>Record dictionary</p> RAISES DESCRIPTION <code>RecordNotFoundError</code> <p>If record not found</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def get_record(\n    client: AsyncOdooClient,\n    model: str,\n    record_id: int,\n    fields: list[str] | None = None,\n) -&gt; dict[str, Any]:\n    \"\"\"Get detailed record information.\n\n    Args:\n        client: Async Odoo client\n        model: Model name\n        record_id: Record ID\n        fields: List of field names to read\n\n    Returns:\n        Record dictionary\n\n    Raises:\n        RecordNotFoundError: If record not found\n    \"\"\"\n    records = await client.read(model, [record_id], fields=fields)\n    if not records:\n        raise RecordNotFoundError(model, record_id)\n    return records[0]\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.list_fields","title":"list_fields  <code>async</code>","text":"<pre><code>list_fields(client: AsyncOdooClient, model: str) -&gt; dict[str, Any]\n</code></pre> <p>Get all available fields for a model.</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def list_fields(client: AsyncOdooClient, model: str) -&gt; dict[str, Any]:\n    \"\"\"Get all available fields for a model.\"\"\"\n    result: dict[str, Any] = await client.execute(model, \"fields_get\")\n    return result\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.set_record_fields","title":"set_record_fields  <code>async</code>","text":"<pre><code>set_record_fields(client: AsyncOdooClient, model: str, record_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update fields on a record.</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def set_record_fields(\n    client: AsyncOdooClient,\n    model: str,\n    record_id: int,\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update fields on a record.\"\"\"\n    return await client.write(model, [record_id], values)\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.add_comment","title":"add_comment  <code>async</code>","text":"<pre><code>add_comment(client: AsyncOdooClient, model: str, record_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a comment to a record (visible to customers).</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def add_comment(\n    client: AsyncOdooClient,\n    model: str,\n    record_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a comment to a record (visible to customers).\"\"\"\n    body = _convert_to_html(message, markdown)\n    return await message_post_sudo(\n        client,\n        model,\n        record_id,\n        body,\n        user_id=user_id,\n        is_note=False,\n    )\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.add_note","title":"add_note  <code>async</code>","text":"<pre><code>add_note(client: AsyncOdooClient, model: str, record_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add an internal note to a record (not visible to customers).</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def add_note(\n    client: AsyncOdooClient,\n    model: str,\n    record_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add an internal note to a record (not visible to customers).\"\"\"\n    body = _convert_to_html(message, markdown)\n    return await message_post_sudo(\n        client,\n        model,\n        record_id,\n        body,\n        user_id=user_id,\n        is_note=True,\n    )\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.list_tags","title":"list_tags  <code>async</code>","text":"<pre><code>list_tags(client: AsyncOdooClient, model: str) -&gt; list[dict[str, Any]]\n</code></pre> <p>List available tags for a model.</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def list_tags(client: AsyncOdooClient, model: str) -&gt; list[dict[str, Any]]:\n    \"\"\"List available tags for a model.\"\"\"\n    fields = _TAG_FIELDS\n    return await client.search_read(model, fields=fields, order=\"name\")\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.add_tag_to_record","title":"add_tag_to_record  <code>async</code>","text":"<pre><code>add_tag_to_record(client: AsyncOdooClient, model: str, record_id: int, tag_id: int) -&gt; bool\n</code></pre> <p>Add a tag to a record.</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def add_tag_to_record(\n    client: AsyncOdooClient,\n    model: str,\n    record_id: int,\n    tag_id: int,\n) -&gt; bool:\n    \"\"\"Add a tag to a record.\"\"\"\n    record = await get_record(client, model, record_id, fields=[\"tag_ids\"])\n    current_tags = record.get(\"tag_ids\", [])\n    if tag_id not in current_tags:\n        current_tags.append(tag_id)\n        return await client.write(\n            model,\n            [record_id],\n            {\"tag_ids\": [(6, 0, current_tags)]},\n        )\n    return True\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.list_messages","title":"list_messages  <code>async</code>","text":"<pre><code>list_messages(client: AsyncOdooClient, model: str, record_id: int, limit: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List messages/chatter for a record.</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def list_messages(\n    client: AsyncOdooClient,\n    model: str,\n    record_id: int,\n    limit: int | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List messages/chatter for a record.\"\"\"\n    domain: list[Any] = [\n        (\"model\", \"=\", model),\n        (\"res_id\", \"=\", record_id),\n    ]\n    fields = _MESSAGE_FIELDS\n    return await client.search_read(\n        \"mail.message\",\n        domain=domain,\n        fields=fields,\n        order=\"date desc\",\n        limit=limit,\n    )\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.list_attachments","title":"list_attachments  <code>async</code>","text":"<pre><code>list_attachments(client: AsyncOdooClient, model: str, record_id: int) -&gt; list[dict[str, Any]]\n</code></pre> <p>List attachments for a record.</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def list_attachments(\n    client: AsyncOdooClient,\n    model: str,\n    record_id: int,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List attachments for a record.\"\"\"\n    domain: list[Any] = [\n        (\"res_model\", \"=\", model),\n        (\"res_id\", \"=\", record_id),\n    ]\n    fields = _ATTACHMENT_LIST_FIELDS\n    return await client.search_read(\"ir.attachment\", domain=domain, fields=fields)\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.download_attachment","title":"download_attachment  <code>async</code>","text":"<pre><code>download_attachment(client: AsyncOdooClient, attachment_id: int, output_path: Path | None = None) -&gt; Path\n</code></pre> <p>Download an attachment.</p> PARAMETER DESCRIPTION <code>client</code> <p>Async Odoo client</p> <p> TYPE: <code>AsyncOdooClient</code> </p> <code>attachment_id</code> <p>Attachment ID</p> <p> TYPE: <code>int</code> </p> <code>output_path</code> <p>Output file path</p> <p> TYPE: <code>Path | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>Path</code> <p>Path to downloaded file</p> RAISES DESCRIPTION <code>RecordNotFoundError</code> <p>If attachment not found</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def download_attachment(\n    client: AsyncOdooClient,\n    attachment_id: int,\n    output_path: Path | None = None,\n) -&gt; Path:\n    \"\"\"Download an attachment.\n\n    Args:\n        client: Async Odoo client\n        attachment_id: Attachment ID\n        output_path: Output file path\n\n    Returns:\n        Path to downloaded file\n\n    Raises:\n        RecordNotFoundError: If attachment not found\n    \"\"\"\n    attachments = await client.read(\"ir.attachment\", [attachment_id], _ATTACHMENT_READ_FIELDS)\n    if not attachments:\n        raise RecordNotFoundError(\"ir.attachment\", attachment_id)\n\n    attachment = attachments[0]\n    filename = attachment.get(\"name\", f\"attachment_{attachment_id}\")\n\n    if output_path is None:\n        output_path = Path.cwd() / filename\n    elif output_path.is_dir():\n        output_path = output_path / filename\n\n    if attachment.get(\"datas\"):\n        data = base64.b64decode(attachment[\"datas\"])\n        output_path.write_bytes(data)\n    else:\n        raise RecordNotFoundError(\"ir.attachment\", attachment_id)\n\n    return output_path\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.download_record_attachments","title":"download_record_attachments  <code>async</code>","text":"<pre><code>download_record_attachments(client: AsyncOdooClient, model: str, record_id: int, output_dir: Path | None = None, extension: str | None = None) -&gt; list[Path]\n</code></pre> <p>Download all attachments for a record.</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def download_record_attachments(\n    client: AsyncOdooClient,\n    model: str,\n    record_id: int,\n    output_dir: Path | None = None,\n    extension: str | None = None,\n) -&gt; list[Path]:\n    \"\"\"Download all attachments for a record.\"\"\"\n    if output_dir is None:\n        output_dir = Path.cwd()\n    elif not output_dir.exists():\n        output_dir.mkdir(parents=True, exist_ok=True)\n\n    attachments = await list_attachments(client, model, record_id)\n\n    if extension:\n        ext = extension.lower().lstrip(\".\")\n        attachments = [\n            att for att in attachments if att.get(\"name\", \"\").lower().endswith(f\".{ext}\")\n        ]\n\n    downloaded_files: list[Path] = []\n\n    for attachment in attachments:\n        filename = attachment.get(\"name\", f\"attachment_{attachment['id']}\")\n        try:\n            att_data = await client.read(\n                \"ir.attachment\", [attachment[\"id\"]], _ATTACHMENT_READ_FIELDS\n            )\n            if not att_data:\n                continue\n\n            att = att_data[0]\n            filename = att.get(\"name\", f\"attachment_{attachment['id']}\")\n            output_path = output_dir / filename\n\n            if att.get(\"datas\"):\n                data = base64.b64decode(att[\"datas\"])\n                output_path.write_bytes(data)\n                downloaded_files.append(output_path)\n        except Exception as e:\n            import logging\n\n            logging.getLogger(\"vodoo\").warning(\"Failed to download %s: %s\", filename, e)\n            continue\n\n    return downloaded_files\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.create_attachment","title":"create_attachment  <code>async</code>","text":"<pre><code>create_attachment(client: AsyncOdooClient, model: str, record_id: int, file_path: Path | str, name: str | None = None) -&gt; int\n</code></pre> <p>Create an attachment for a record.</p> PARAMETER DESCRIPTION <code>client</code> <p>Async Odoo client</p> <p> TYPE: <code>AsyncOdooClient</code> </p> <code>model</code> <p>Model name</p> <p> TYPE: <code>str</code> </p> <code>record_id</code> <p>Record ID</p> <p> TYPE: <code>int</code> </p> <code>file_path</code> <p>Path to file to attach</p> <p> TYPE: <code>Path | str</code> </p> <code>name</code> <p>Attachment name (defaults to filename)</p> <p> TYPE: <code>str | None</code> DEFAULT: <code>None</code> </p> RETURNS DESCRIPTION <code>int</code> <p>ID of created attachment</p> RAISES DESCRIPTION <code>FileNotFoundError</code> <p>If file path is invalid</p> <code>ValueError</code> <p>If path is not a file</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def create_attachment(\n    client: AsyncOdooClient,\n    model: str,\n    record_id: int,\n    file_path: Path | str,\n    name: str | None = None,\n) -&gt; int:\n    \"\"\"Create an attachment for a record.\n\n    Args:\n        client: Async Odoo client\n        model: Model name\n        record_id: Record ID\n        file_path: Path to file to attach\n        name: Attachment name (defaults to filename)\n\n    Returns:\n        ID of created attachment\n\n    Raises:\n        FileNotFoundError: If file path is invalid\n        ValueError: If path is not a file\n    \"\"\"\n    file_path = Path(file_path)\n\n    if not file_path.exists():\n        msg = f\"File not found: {file_path}\"\n        raise FileNotFoundError(msg)\n\n    if not file_path.is_file():\n        msg = f\"Path is not a file: {file_path}\"\n        raise ValueError(msg)\n\n    file_data = file_path.read_bytes()\n    encoded_data = base64.b64encode(file_data).decode(\"utf-8\")\n    attachment_name = name or file_path.name\n\n    values = {\n        \"name\": attachment_name,\n        \"datas\": encoded_data,\n        \"res_model\": model,\n        \"res_id\": record_id,\n    }\n\n    return await client.create(\"ir.attachment\", values)\n</code></pre>"},{"location":"api/aio/base/#vodoo.aio.base.parse_field_assignment","title":"parse_field_assignment  <code>async</code>","text":"<pre><code>parse_field_assignment(client: AsyncOdooClient, model: str, record_id: int, field_assignment: str, no_markdown: bool = False) -&gt; tuple[str, Any]\n</code></pre> <p>Parse a field assignment and return field name and computed value. HTML fields automatically get markdown conversion unless no_markdown=True.</p> Source code in <code>src/vodoo/aio/base.py</code> <pre><code>async def parse_field_assignment(\n    client: AsyncOdooClient,\n    model: str,\n    record_id: int,\n    field_assignment: str,\n    no_markdown: bool = False,\n) -&gt; tuple[str, Any]:\n    \"\"\"Parse a field assignment and return field name and computed value.\n    HTML fields automatically get markdown conversion unless no_markdown=True.\n    \"\"\"\n    field, operator, value = _match_field_assignment(field_assignment)\n    parsed_value = _parse_raw_value(field, value)\n\n    # Auto-convert markdown to HTML for HTML fields\n    if isinstance(parsed_value, str) and not no_markdown:\n        fields_info = await list_fields(client, model)\n        if field in fields_info and fields_info[field].get(\"type\") == \"html\":\n            parsed_value = _convert_to_html(parsed_value, use_markdown=True)\n    # Handle operators that require current value\n    if operator in (\"+=\", \"-=\", \"*=\", \"/=\"):\n        record = await get_record(client, model, record_id, fields=[field])\n        current_value = record.get(field)\n        parsed_value = _apply_operator(field, operator, parsed_value, current_value)\n\n    return field, parsed_value\n</code></pre>"},{"location":"api/aio/crm/","title":"Async CRM","text":"<p>Async operations for the <code>crm.lead</code> model (leads and opportunities).</p>"},{"location":"api/aio/crm/#vodoo.aio.crm","title":"crm","text":"<p>Async CRM lead/opportunity operations for Vodoo.</p>"},{"location":"api/aio/crm/#vodoo.aio.crm.list_leads","title":"list_leads  <code>async</code>","text":"<pre><code>list_leads(client: AsyncOdooClient, domain: list[Any] | None = None, limit: int | None = 50, fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List CRM leads/opportunities.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>async def list_leads(\n    client: AsyncOdooClient,\n    domain: list[Any] | None = None,\n    limit: int | None = 50,\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List CRM leads/opportunities.\"\"\"\n    if fields is None:\n        fields = list(DEFAULT_LIST_FIELDS)\n    return await list_records(client, MODEL, domain=domain, limit=limit, fields=fields)\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.display_leads","title":"display_leads","text":"<pre><code>display_leads(leads: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display leads in a rich table.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>def display_leads(leads: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display leads in a rich table.\"\"\"\n    display_records(leads, title=\"CRM Leads/Opportunities\")\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.get_lead","title":"get_lead  <code>async</code>","text":"<pre><code>get_lead(client: AsyncOdooClient, lead_id: int, fields: list[str] | None = None) -&gt; dict[str, Any]\n</code></pre> <p>Get detailed lead information.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>async def get_lead(\n    client: AsyncOdooClient,\n    lead_id: int,\n    fields: list[str] | None = None,\n) -&gt; dict[str, Any]:\n    \"\"\"Get detailed lead information.\"\"\"\n    return await get_record(client, MODEL, lead_id, fields=fields)\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.list_lead_fields","title":"list_lead_fields  <code>async</code>","text":"<pre><code>list_lead_fields(client: AsyncOdooClient) -&gt; dict[str, Any]\n</code></pre> <p>Get all available fields for CRM leads.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>async def list_lead_fields(client: AsyncOdooClient) -&gt; dict[str, Any]:\n    \"\"\"Get all available fields for CRM leads.\"\"\"\n    return await list_fields(client, MODEL)\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.set_lead_fields","title":"set_lead_fields  <code>async</code>","text":"<pre><code>set_lead_fields(client: AsyncOdooClient, lead_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update fields on a lead.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>async def set_lead_fields(\n    client: AsyncOdooClient,\n    lead_id: int,\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update fields on a lead.\"\"\"\n    return await set_record_fields(client, MODEL, lead_id, values)\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.display_lead_detail","title":"display_lead_detail","text":"<pre><code>display_lead_detail(lead: dict[str, Any], show_html: bool = False) -&gt; None\n</code></pre> <p>Display detailed lead information.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>def display_lead_detail(lead: dict[str, Any], show_html: bool = False) -&gt; None:\n    \"\"\"Display detailed lead information.\"\"\"\n    display_record_detail(lead, show_html=show_html, record_type=\"Lead\")\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.add_comment","title":"add_comment  <code>async</code>","text":"<pre><code>add_comment(client: AsyncOdooClient, lead_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a comment to a lead (visible to followers).</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>async def add_comment(\n    client: AsyncOdooClient,\n    lead_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a comment to a lead (visible to followers).\"\"\"\n    return await base_add_comment(\n        client, MODEL, lead_id, message, user_id=user_id, markdown=markdown\n    )\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.add_note","title":"add_note  <code>async</code>","text":"<pre><code>add_note(client: AsyncOdooClient, lead_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add an internal note to a lead.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>async def add_note(\n    client: AsyncOdooClient,\n    lead_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add an internal note to a lead.\"\"\"\n    return await base_add_note(client, MODEL, lead_id, message, user_id=user_id, markdown=markdown)\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.list_tags","title":"list_tags  <code>async</code>","text":"<pre><code>list_tags(client: AsyncOdooClient) -&gt; list[dict[str, Any]]\n</code></pre> <p>List available CRM tags.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>async def list_tags(client: AsyncOdooClient) -&gt; list[dict[str, Any]]:\n    \"\"\"List available CRM tags.\"\"\"\n    return await base_list_tags(client, TAG_MODEL)\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.display_tags","title":"display_tags","text":"<pre><code>display_tags(tags: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display tags in a rich table.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>def display_tags(tags: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display tags in a rich table.\"\"\"\n    base_display_tags(tags, title=\"CRM Tags\")\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.add_tag_to_lead","title":"add_tag_to_lead  <code>async</code>","text":"<pre><code>add_tag_to_lead(client: AsyncOdooClient, lead_id: int, tag_id: int) -&gt; bool\n</code></pre> <p>Add a tag to a lead.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>async def add_tag_to_lead(\n    client: AsyncOdooClient,\n    lead_id: int,\n    tag_id: int,\n) -&gt; bool:\n    \"\"\"Add a tag to a lead.\"\"\"\n    return await add_tag_to_record(client, MODEL, lead_id, tag_id)\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.list_lead_messages","title":"list_lead_messages  <code>async</code>","text":"<pre><code>list_lead_messages(client: AsyncOdooClient, lead_id: int, limit: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List messages/chatter for a lead.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>async def list_lead_messages(\n    client: AsyncOdooClient,\n    lead_id: int,\n    limit: int | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List messages/chatter for a lead.\"\"\"\n    return await base_list_messages(client, MODEL, lead_id, limit=limit)\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.list_lead_attachments","title":"list_lead_attachments  <code>async</code>","text":"<pre><code>list_lead_attachments(client: AsyncOdooClient, lead_id: int) -&gt; list[dict[str, Any]]\n</code></pre> <p>List attachments for a lead.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>async def list_lead_attachments(\n    client: AsyncOdooClient,\n    lead_id: int,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List attachments for a lead.\"\"\"\n    return await base_list_attachments(client, MODEL, lead_id)\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.download_lead_attachments","title":"download_lead_attachments  <code>async</code>","text":"<pre><code>download_lead_attachments(client: AsyncOdooClient, lead_id: int, output_dir: Path | None = None, extension: str | None = None) -&gt; list[Path]\n</code></pre> <p>Download all attachments from a lead.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>async def download_lead_attachments(\n    client: AsyncOdooClient,\n    lead_id: int,\n    output_dir: Path | None = None,\n    extension: str | None = None,\n) -&gt; list[Path]:\n    \"\"\"Download all attachments from a lead.\"\"\"\n    return await download_record_attachments(\n        client, MODEL, lead_id, output_dir, extension=extension\n    )\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.create_lead_attachment","title":"create_lead_attachment  <code>async</code>","text":"<pre><code>create_lead_attachment(client: AsyncOdooClient, lead_id: int, file_path: Path | str, name: str | None = None) -&gt; int\n</code></pre> <p>Create an attachment for a lead.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>async def create_lead_attachment(\n    client: AsyncOdooClient,\n    lead_id: int,\n    file_path: Path | str,\n    name: str | None = None,\n) -&gt; int:\n    \"\"\"Create an attachment for a lead.\"\"\"\n    return await base_create_attachment(client, MODEL, lead_id, file_path, name=name)\n</code></pre>"},{"location":"api/aio/crm/#vodoo.aio.crm.get_lead_url","title":"get_lead_url","text":"<pre><code>get_lead_url(client: AsyncOdooClient, lead_id: int) -&gt; str\n</code></pre> <p>Get the web URL for a lead.</p> Source code in <code>src/vodoo/aio/crm.py</code> <pre><code>def get_lead_url(client: AsyncOdooClient, lead_id: int) -&gt; str:\n    \"\"\"Get the web URL for a lead.\"\"\"\n    return get_record_url(client, MODEL, lead_id)\n</code></pre>"},{"location":"api/aio/generic/","title":"Async Generic CRUD","text":"<p>Async generic model operations that work with any Odoo model.</p>"},{"location":"api/aio/generic/#vodoo.aio.generic","title":"generic","text":"<p>Async generic Odoo model operations.</p>"},{"location":"api/aio/generic/#vodoo.aio.generic.create_record","title":"create_record  <code>async</code>","text":"<pre><code>create_record(client: AsyncOdooClient, model: str, values: dict[str, Any]) -&gt; int\n</code></pre> <p>Create a new record.</p> Source code in <code>src/vodoo/aio/generic.py</code> <pre><code>async def create_record(\n    client: AsyncOdooClient,\n    model: str,\n    values: dict[str, Any],\n) -&gt; int:\n    \"\"\"Create a new record.\"\"\"\n    return await client.create(model, values)\n</code></pre>"},{"location":"api/aio/generic/#vodoo.aio.generic.update_record","title":"update_record  <code>async</code>","text":"<pre><code>update_record(client: AsyncOdooClient, model: str, record_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update a record.</p> Source code in <code>src/vodoo/aio/generic.py</code> <pre><code>async def update_record(\n    client: AsyncOdooClient,\n    model: str,\n    record_id: int,\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update a record.\"\"\"\n    return await client.write(model, [record_id], values)\n</code></pre>"},{"location":"api/aio/generic/#vodoo.aio.generic.delete_record","title":"delete_record  <code>async</code>","text":"<pre><code>delete_record(client: AsyncOdooClient, model: str, record_id: int) -&gt; bool\n</code></pre> <p>Delete a record.</p> Source code in <code>src/vodoo/aio/generic.py</code> <pre><code>async def delete_record(\n    client: AsyncOdooClient,\n    model: str,\n    record_id: int,\n) -&gt; bool:\n    \"\"\"Delete a record.\"\"\"\n    return await client.unlink(model, [record_id])\n</code></pre>"},{"location":"api/aio/generic/#vodoo.aio.generic.search_records","title":"search_records  <code>async</code>","text":"<pre><code>search_records(client: AsyncOdooClient, model: str, domain: list[Any] | None = None, fields: list[str] | None = None, limit: int | None = None, offset: int = 0, order: str | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>Search and read records.</p> Source code in <code>src/vodoo/aio/generic.py</code> <pre><code>async def search_records(\n    client: AsyncOdooClient,\n    model: str,\n    domain: list[Any] | None = None,\n    fields: list[str] | None = None,\n    limit: int | None = None,\n    offset: int = 0,\n    order: str | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"Search and read records.\"\"\"\n    return await client.search_read(\n        model,\n        domain=domain,\n        fields=fields,\n        limit=limit,\n        offset=offset,\n        order=order,\n    )\n</code></pre>"},{"location":"api/aio/generic/#vodoo.aio.generic.call_method","title":"call_method  <code>async</code>","text":"<pre><code>call_method(client: AsyncOdooClient, model: str, method: str, args: list[Any] | None = None, kwargs: dict[str, Any] | None = None) -&gt; Any\n</code></pre> <p>Call a custom method on a model.</p> Source code in <code>src/vodoo/aio/generic.py</code> <pre><code>async def call_method(\n    client: AsyncOdooClient,\n    model: str,\n    method: str,\n    args: list[Any] | None = None,\n    kwargs: dict[str, Any] | None = None,\n) -&gt; Any:\n    \"\"\"Call a custom method on a model.\"\"\"\n    args = args or []\n    kwargs = kwargs or {}\n    return await client.execute(model, method, *args, **kwargs)\n</code></pre>"},{"location":"api/aio/helpdesk/","title":"Async Helpdesk","text":"<p>Async operations for the <code>helpdesk.ticket</code> model (Odoo Enterprise).</p>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk","title":"helpdesk","text":"<p>Async helpdesk operations for Vodoo.</p>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.list_tickets","title":"list_tickets  <code>async</code>","text":"<pre><code>list_tickets(client: AsyncOdooClient, domain: list[Any] | None = None, limit: int | None = 50, fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List helpdesk tickets.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>async def list_tickets(\n    client: AsyncOdooClient,\n    domain: list[Any] | None = None,\n    limit: int | None = 50,\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List helpdesk tickets.\"\"\"\n    if fields is None:\n        fields = list(DEFAULT_LIST_FIELDS)\n    return await list_records(client, MODEL, domain=domain, limit=limit, fields=fields)\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.display_tickets","title":"display_tickets","text":"<pre><code>display_tickets(tickets: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display tickets in a rich table.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>def display_tickets(tickets: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display tickets in a rich table.\"\"\"\n    display_records(tickets, title=\"Helpdesk Tickets\")\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.get_ticket","title":"get_ticket  <code>async</code>","text":"<pre><code>get_ticket(client: AsyncOdooClient, ticket_id: int, fields: list[str] | None = None) -&gt; dict[str, Any]\n</code></pre> <p>Get detailed ticket information.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>async def get_ticket(\n    client: AsyncOdooClient,\n    ticket_id: int,\n    fields: list[str] | None = None,\n) -&gt; dict[str, Any]:\n    \"\"\"Get detailed ticket information.\"\"\"\n    return await get_record(client, MODEL, ticket_id, fields=fields)\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.list_ticket_fields","title":"list_ticket_fields  <code>async</code>","text":"<pre><code>list_ticket_fields(client: AsyncOdooClient) -&gt; dict[str, Any]\n</code></pre> <p>Get all available fields for helpdesk tickets.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>async def list_ticket_fields(client: AsyncOdooClient) -&gt; dict[str, Any]:\n    \"\"\"Get all available fields for helpdesk tickets.\"\"\"\n    return await list_fields(client, MODEL)\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.set_ticket_fields","title":"set_ticket_fields  <code>async</code>","text":"<pre><code>set_ticket_fields(client: AsyncOdooClient, ticket_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update fields on a ticket.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>async def set_ticket_fields(\n    client: AsyncOdooClient,\n    ticket_id: int,\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update fields on a ticket.\"\"\"\n    return await set_record_fields(client, MODEL, ticket_id, values)\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.display_ticket_detail","title":"display_ticket_detail","text":"<pre><code>display_ticket_detail(ticket: dict[str, Any], show_html: bool = False) -&gt; None\n</code></pre> <p>Display detailed ticket information.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>def display_ticket_detail(ticket: dict[str, Any], show_html: bool = False) -&gt; None:\n    \"\"\"Display detailed ticket information.\"\"\"\n    display_record_detail(ticket, show_html=show_html, record_type=\"Ticket\")\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.add_comment","title":"add_comment  <code>async</code>","text":"<pre><code>add_comment(client: AsyncOdooClient, ticket_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a comment to a ticket (visible to customers).</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>async def add_comment(\n    client: AsyncOdooClient,\n    ticket_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a comment to a ticket (visible to customers).\"\"\"\n    return await base_add_comment(\n        client, MODEL, ticket_id, message, user_id=user_id, markdown=markdown\n    )\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.add_note","title":"add_note  <code>async</code>","text":"<pre><code>add_note(client: AsyncOdooClient, ticket_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add an internal note to a ticket (not visible to customers).</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>async def add_note(\n    client: AsyncOdooClient,\n    ticket_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add an internal note to a ticket (not visible to customers).\"\"\"\n    return await base_add_note(\n        client, MODEL, ticket_id, message, user_id=user_id, markdown=markdown\n    )\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.list_tags","title":"list_tags  <code>async</code>","text":"<pre><code>list_tags(client: AsyncOdooClient) -&gt; list[dict[str, Any]]\n</code></pre> <p>List available helpdesk tags.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>async def list_tags(client: AsyncOdooClient) -&gt; list[dict[str, Any]]:\n    \"\"\"List available helpdesk tags.\"\"\"\n    return await base_list_tags(client, TAG_MODEL)\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.display_tags","title":"display_tags","text":"<pre><code>display_tags(tags: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display tags in a rich table.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>def display_tags(tags: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display tags in a rich table.\"\"\"\n    base_display_tags(tags, title=\"Helpdesk Tags\")\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.add_tag_to_ticket","title":"add_tag_to_ticket  <code>async</code>","text":"<pre><code>add_tag_to_ticket(client: AsyncOdooClient, ticket_id: int, tag_id: int) -&gt; bool\n</code></pre> <p>Add a tag to a ticket.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>async def add_tag_to_ticket(\n    client: AsyncOdooClient,\n    ticket_id: int,\n    tag_id: int,\n) -&gt; bool:\n    \"\"\"Add a tag to a ticket.\"\"\"\n    return await add_tag_to_record(client, MODEL, ticket_id, tag_id)\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.list_messages","title":"list_messages  <code>async</code>","text":"<pre><code>list_messages(client: AsyncOdooClient, ticket_id: int, limit: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List messages/chatter for a ticket.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>async def list_messages(\n    client: AsyncOdooClient,\n    ticket_id: int,\n    limit: int | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List messages/chatter for a ticket.\"\"\"\n    return await base_list_messages(client, MODEL, ticket_id, limit=limit)\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.list_attachments","title":"list_attachments  <code>async</code>","text":"<pre><code>list_attachments(client: AsyncOdooClient, ticket_id: int) -&gt; list[dict[str, Any]]\n</code></pre> <p>List attachments for a ticket.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>async def list_attachments(\n    client: AsyncOdooClient,\n    ticket_id: int,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List attachments for a ticket.\"\"\"\n    return await base_list_attachments(client, MODEL, ticket_id)\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.download_ticket_attachments","title":"download_ticket_attachments  <code>async</code>","text":"<pre><code>download_ticket_attachments(client: AsyncOdooClient, ticket_id: int, output_dir: Path | None = None, extension: str | None = None) -&gt; list[Path]\n</code></pre> <p>Download all attachments from a ticket.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>async def download_ticket_attachments(\n    client: AsyncOdooClient,\n    ticket_id: int,\n    output_dir: Path | None = None,\n    extension: str | None = None,\n) -&gt; list[Path]:\n    \"\"\"Download all attachments from a ticket.\"\"\"\n    return await download_record_attachments(\n        client, MODEL, ticket_id, output_dir, extension=extension\n    )\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.create_attachment","title":"create_attachment  <code>async</code>","text":"<pre><code>create_attachment(client: AsyncOdooClient, ticket_id: int, file_path: Path | str, name: str | None = None) -&gt; int\n</code></pre> <p>Create an attachment for a ticket.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>async def create_attachment(\n    client: AsyncOdooClient,\n    ticket_id: int,\n    file_path: Path | str,\n    name: str | None = None,\n) -&gt; int:\n    \"\"\"Create an attachment for a ticket.\"\"\"\n    return await base_create_attachment(client, MODEL, ticket_id, file_path, name=name)\n</code></pre>"},{"location":"api/aio/helpdesk/#vodoo.aio.helpdesk.get_ticket_url","title":"get_ticket_url","text":"<pre><code>get_ticket_url(client: AsyncOdooClient, ticket_id: int) -&gt; str\n</code></pre> <p>Get the web URL for a ticket.</p> Source code in <code>src/vodoo/aio/helpdesk.py</code> <pre><code>def get_ticket_url(client: AsyncOdooClient, ticket_id: int) -&gt; str:\n    \"\"\"Get the web URL for a ticket.\"\"\"\n    return get_record_url(client, MODEL, ticket_id)\n</code></pre>"},{"location":"api/aio/knowledge/","title":"Async Knowledge","text":"<p>Async operations for the <code>knowledge.article</code> model (Odoo Enterprise).</p>"},{"location":"api/aio/knowledge/#vodoo.aio.knowledge","title":"knowledge","text":"<p>Async knowledge article operations for Vodoo.</p>"},{"location":"api/aio/knowledge/#vodoo.aio.knowledge.list_articles","title":"list_articles  <code>async</code>","text":"<pre><code>list_articles(client: AsyncOdooClient, domain: list[Any] | None = None, limit: int | None = 50, fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List knowledge articles.</p> Source code in <code>src/vodoo/aio/knowledge.py</code> <pre><code>async def list_articles(\n    client: AsyncOdooClient,\n    domain: list[Any] | None = None,\n    limit: int | None = 50,\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List knowledge articles.\"\"\"\n    if fields is None:\n        fields = list(DEFAULT_LIST_FIELDS)\n    return await list_records(client, MODEL, domain=domain, limit=limit, fields=fields)\n</code></pre>"},{"location":"api/aio/knowledge/#vodoo.aio.knowledge.display_articles","title":"display_articles","text":"<pre><code>display_articles(articles: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display knowledge articles in a table.</p> Source code in <code>src/vodoo/aio/knowledge.py</code> <pre><code>def display_articles(articles: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display knowledge articles in a table.\"\"\"\n    display_records(articles, title=\"Knowledge Articles\")\n</code></pre>"},{"location":"api/aio/knowledge/#vodoo.aio.knowledge.get_article","title":"get_article  <code>async</code>","text":"<pre><code>get_article(client: AsyncOdooClient, article_id: int, fields: list[str] | None = None) -&gt; dict[str, Any]\n</code></pre> <p>Get a knowledge article.</p> Source code in <code>src/vodoo/aio/knowledge.py</code> <pre><code>async def get_article(\n    client: AsyncOdooClient, article_id: int, fields: list[str] | None = None\n) -&gt; dict[str, Any]:\n    \"\"\"Get a knowledge article.\"\"\"\n    if fields is None:\n        fields = list(DEFAULT_DETAIL_FIELDS)\n    return await get_record(client, MODEL, article_id, fields=fields)\n</code></pre>"},{"location":"api/aio/knowledge/#vodoo.aio.knowledge.list_article_fields","title":"list_article_fields  <code>async</code>","text":"<pre><code>list_article_fields(client: AsyncOdooClient) -&gt; dict[str, Any]\n</code></pre> <p>List knowledge article fields.</p> Source code in <code>src/vodoo/aio/knowledge.py</code> <pre><code>async def list_article_fields(client: AsyncOdooClient) -&gt; dict[str, Any]:\n    \"\"\"List knowledge article fields.\"\"\"\n    return await list_fields(client, MODEL)\n</code></pre>"},{"location":"api/aio/knowledge/#vodoo.aio.knowledge.set_article_fields","title":"set_article_fields  <code>async</code>","text":"<pre><code>set_article_fields(client: AsyncOdooClient, article_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Set knowledge article fields.</p> Source code in <code>src/vodoo/aio/knowledge.py</code> <pre><code>async def set_article_fields(\n    client: AsyncOdooClient, article_id: int, values: dict[str, Any]\n) -&gt; bool:\n    \"\"\"Set knowledge article fields.\"\"\"\n    return await set_record_fields(client, MODEL, article_id, values)\n</code></pre>"},{"location":"api/aio/knowledge/#vodoo.aio.knowledge.add_comment","title":"add_comment  <code>async</code>","text":"<pre><code>add_comment(client: AsyncOdooClient, article_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a comment to a knowledge article.</p> Source code in <code>src/vodoo/aio/knowledge.py</code> <pre><code>async def add_comment(\n    client: AsyncOdooClient,\n    article_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a comment to a knowledge article.\"\"\"\n    return await base_add_comment(\n        client, MODEL, article_id, message, user_id=user_id, markdown=markdown\n    )\n</code></pre>"},{"location":"api/aio/knowledge/#vodoo.aio.knowledge.add_note","title":"add_note  <code>async</code>","text":"<pre><code>add_note(client: AsyncOdooClient, article_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a note to a knowledge article.</p> Source code in <code>src/vodoo/aio/knowledge.py</code> <pre><code>async def add_note(\n    client: AsyncOdooClient,\n    article_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a note to a knowledge article.\"\"\"\n    return await base_add_note(\n        client, MODEL, article_id, message, user_id=user_id, markdown=markdown\n    )\n</code></pre>"},{"location":"api/aio/knowledge/#vodoo.aio.knowledge.list_article_messages","title":"list_article_messages  <code>async</code>","text":"<pre><code>list_article_messages(client: AsyncOdooClient, article_id: int, limit: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List knowledge article messages.</p> Source code in <code>src/vodoo/aio/knowledge.py</code> <pre><code>async def list_article_messages(\n    client: AsyncOdooClient, article_id: int, limit: int | None = None\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List knowledge article messages.\"\"\"\n    return await base_list_messages(client, MODEL, article_id, limit=limit)\n</code></pre>"},{"location":"api/aio/knowledge/#vodoo.aio.knowledge.list_article_attachments","title":"list_article_attachments  <code>async</code>","text":"<pre><code>list_article_attachments(client: AsyncOdooClient, article_id: int) -&gt; list[dict[str, Any]]\n</code></pre> <p>List knowledge article attachments.</p> Source code in <code>src/vodoo/aio/knowledge.py</code> <pre><code>async def list_article_attachments(\n    client: AsyncOdooClient, article_id: int\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List knowledge article attachments.\"\"\"\n    return await base_list_attachments(client, MODEL, article_id)\n</code></pre>"},{"location":"api/aio/knowledge/#vodoo.aio.knowledge.create_article_attachment","title":"create_article_attachment  <code>async</code>","text":"<pre><code>create_article_attachment(client: AsyncOdooClient, article_id: int, file_path: Path | str, name: str | None = None) -&gt; int\n</code></pre> <p>Create a knowledge article attachment.</p> Source code in <code>src/vodoo/aio/knowledge.py</code> <pre><code>async def create_article_attachment(\n    client: AsyncOdooClient,\n    article_id: int,\n    file_path: Path | str,\n    name: str | None = None,\n) -&gt; int:\n    \"\"\"Create a knowledge article attachment.\"\"\"\n    return await base_create_attachment(client, MODEL, article_id, file_path, name=name)\n</code></pre>"},{"location":"api/aio/knowledge/#vodoo.aio.knowledge.get_article_url","title":"get_article_url  <code>async</code>","text":"<pre><code>get_article_url(client: AsyncOdooClient, article_id: int) -&gt; str\n</code></pre> <p>Get the web URL for a knowledge article.</p> Source code in <code>src/vodoo/aio/knowledge.py</code> <pre><code>async def get_article_url(client: AsyncOdooClient, article_id: int) -&gt; str:\n    \"\"\"Get the web URL for a knowledge article.\"\"\"\n    article = await get_article(client, article_id, fields=[\"article_url\"])\n    if article.get(\"article_url\"):\n        return str(article[\"article_url\"])\n    return get_record_url(client, MODEL, article_id)\n</code></pre>"},{"location":"api/aio/project/","title":"Async Project Tasks","text":"<p>Async operations for the <code>project.task</code> model.</p>"},{"location":"api/aio/project/#vodoo.aio.project","title":"project","text":"<p>Async project task operations for Vodoo.</p>"},{"location":"api/aio/project/#vodoo.aio.project.create_task","title":"create_task  <code>async</code>","text":"<pre><code>create_task(client: AsyncOdooClient, name: str, project_id: int, description: str | None = None, user_ids: list[int] | None = None, tag_ids: list[int] | None = None, parent_id: int | None = None, **kwargs: Any) -&gt; int\n</code></pre> <p>Create a new project task.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def create_task(\n    client: AsyncOdooClient,\n    name: str,\n    project_id: int,\n    description: str | None = None,\n    user_ids: list[int] | None = None,\n    tag_ids: list[int] | None = None,\n    parent_id: int | None = None,\n    **kwargs: Any,\n) -&gt; int:\n    \"\"\"Create a new project task.\"\"\"\n    values, context = _build_task_values(\n        name, project_id, description, user_ids, tag_ids, parent_id, **kwargs\n    )\n    return await client.create(MODEL, values, context=context)\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.list_tasks","title":"list_tasks  <code>async</code>","text":"<pre><code>list_tasks(client: AsyncOdooClient, domain: list[Any] | None = None, limit: int | None = 50, fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List project tasks.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def list_tasks(\n    client: AsyncOdooClient,\n    domain: list[Any] | None = None,\n    limit: int | None = 50,\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List project tasks.\"\"\"\n    if fields is None:\n        fields = list(DEFAULT_LIST_FIELDS)\n    return await list_records(client, MODEL, domain=domain, limit=limit, fields=fields)\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.display_tasks","title":"display_tasks","text":"<pre><code>display_tasks(tasks: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display tasks in a rich table.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>def display_tasks(tasks: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display tasks in a rich table.\"\"\"\n    display_records(tasks, title=\"Project Tasks\")\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.get_task","title":"get_task  <code>async</code>","text":"<pre><code>get_task(client: AsyncOdooClient, task_id: int, fields: list[str] | None = None) -&gt; dict[str, Any]\n</code></pre> <p>Get detailed task information.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def get_task(\n    client: AsyncOdooClient,\n    task_id: int,\n    fields: list[str] | None = None,\n) -&gt; dict[str, Any]:\n    \"\"\"Get detailed task information.\"\"\"\n    return await get_record(client, MODEL, task_id, fields=fields)\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.list_task_fields","title":"list_task_fields  <code>async</code>","text":"<pre><code>list_task_fields(client: AsyncOdooClient) -&gt; dict[str, Any]\n</code></pre> <p>Get all available fields for project tasks.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def list_task_fields(client: AsyncOdooClient) -&gt; dict[str, Any]:\n    \"\"\"Get all available fields for project tasks.\"\"\"\n    return await list_fields(client, MODEL)\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.set_task_fields","title":"set_task_fields  <code>async</code>","text":"<pre><code>set_task_fields(client: AsyncOdooClient, task_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update fields on a task.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def set_task_fields(\n    client: AsyncOdooClient,\n    task_id: int,\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update fields on a task.\"\"\"\n    return await set_record_fields(client, MODEL, task_id, values)\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.display_task_detail","title":"display_task_detail","text":"<pre><code>display_task_detail(task: dict[str, Any], show_html: bool = False) -&gt; None\n</code></pre> <p>Display detailed task information.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>def display_task_detail(task: dict[str, Any], show_html: bool = False) -&gt; None:\n    \"\"\"Display detailed task information.\"\"\"\n    display_record_detail(task, show_html=show_html, record_type=\"Task\")\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.add_comment","title":"add_comment  <code>async</code>","text":"<pre><code>add_comment(client: AsyncOdooClient, task_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a comment to a task (visible to followers).</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def add_comment(\n    client: AsyncOdooClient,\n    task_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a comment to a task (visible to followers).\"\"\"\n    return await base_add_comment(\n        client, MODEL, task_id, message, user_id=user_id, markdown=markdown\n    )\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.add_note","title":"add_note  <code>async</code>","text":"<pre><code>add_note(client: AsyncOdooClient, task_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add an internal note to a task.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def add_note(\n    client: AsyncOdooClient,\n    task_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add an internal note to a task.\"\"\"\n    return await base_add_note(client, MODEL, task_id, message, user_id=user_id, markdown=markdown)\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.list_task_tags","title":"list_task_tags  <code>async</code>","text":"<pre><code>list_task_tags(client: AsyncOdooClient) -&gt; list[dict[str, Any]]\n</code></pre> <p>List available project tags.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def list_task_tags(client: AsyncOdooClient) -&gt; list[dict[str, Any]]:\n    \"\"\"List available project tags.\"\"\"\n    return await base_list_tags(client, TAG_MODEL)\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.display_task_tags","title":"display_task_tags","text":"<pre><code>display_task_tags(tags: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display project tags in a rich table.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>def display_task_tags(tags: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display project tags in a rich table.\"\"\"\n    display_tags(tags, title=\"Project Tags\")\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.add_tag_to_task","title":"add_tag_to_task  <code>async</code>","text":"<pre><code>add_tag_to_task(client: AsyncOdooClient, task_id: int, tag_id: int) -&gt; bool\n</code></pre> <p>Add a tag to a task.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def add_tag_to_task(\n    client: AsyncOdooClient,\n    task_id: int,\n    tag_id: int,\n) -&gt; bool:\n    \"\"\"Add a tag to a task.\"\"\"\n    return await add_tag_to_record(client, MODEL, task_id, tag_id)\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.create_tag","title":"create_tag  <code>async</code>","text":"<pre><code>create_tag(client: AsyncOdooClient, name: str, color: int | None = None) -&gt; int\n</code></pre> <p>Create a new project tag.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def create_tag(\n    client: AsyncOdooClient,\n    name: str,\n    color: int | None = None,\n) -&gt; int:\n    \"\"\"Create a new project tag.\"\"\"\n    values: dict[str, Any] = {\"name\": name}\n    if color is not None:\n        values[\"color\"] = color\n    return await client.create(TAG_MODEL, values)\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.delete_tag","title":"delete_tag  <code>async</code>","text":"<pre><code>delete_tag(client: AsyncOdooClient, tag_id: int) -&gt; bool\n</code></pre> <p>Delete a project tag.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def delete_tag(\n    client: AsyncOdooClient,\n    tag_id: int,\n) -&gt; bool:\n    \"\"\"Delete a project tag.\"\"\"\n    return await client.unlink(TAG_MODEL, [tag_id])\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.list_task_messages","title":"list_task_messages  <code>async</code>","text":"<pre><code>list_task_messages(client: AsyncOdooClient, task_id: int, limit: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List messages/chatter for a task.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def list_task_messages(\n    client: AsyncOdooClient,\n    task_id: int,\n    limit: int | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List messages/chatter for a task.\"\"\"\n    return await list_messages(client, MODEL, task_id, limit=limit)\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.list_task_attachments","title":"list_task_attachments  <code>async</code>","text":"<pre><code>list_task_attachments(client: AsyncOdooClient, task_id: int) -&gt; list[dict[str, Any]]\n</code></pre> <p>List attachments for a task.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def list_task_attachments(\n    client: AsyncOdooClient,\n    task_id: int,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List attachments for a task.\"\"\"\n    return await list_attachments(client, MODEL, task_id)\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.download_task_attachments","title":"download_task_attachments  <code>async</code>","text":"<pre><code>download_task_attachments(client: AsyncOdooClient, task_id: int, output_dir: Path | None = None, extension: str | None = None) -&gt; list[Path]\n</code></pre> <p>Download all attachments from a task.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def download_task_attachments(\n    client: AsyncOdooClient,\n    task_id: int,\n    output_dir: Path | None = None,\n    extension: str | None = None,\n) -&gt; list[Path]:\n    \"\"\"Download all attachments from a task.\"\"\"\n    return await download_record_attachments(\n        client, MODEL, task_id, output_dir, extension=extension\n    )\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.create_task_attachment","title":"create_task_attachment  <code>async</code>","text":"<pre><code>create_task_attachment(client: AsyncOdooClient, task_id: int, file_path: Path | str, name: str | None = None) -&gt; int\n</code></pre> <p>Create an attachment for a task.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>async def create_task_attachment(\n    client: AsyncOdooClient,\n    task_id: int,\n    file_path: Path | str,\n    name: str | None = None,\n) -&gt; int:\n    \"\"\"Create an attachment for a task.\"\"\"\n    return await base_create_attachment(client, MODEL, task_id, file_path, name=name)\n</code></pre>"},{"location":"api/aio/project/#vodoo.aio.project.get_task_url","title":"get_task_url","text":"<pre><code>get_task_url(client: AsyncOdooClient, task_id: int) -&gt; str\n</code></pre> <p>Get the web URL for a task.</p> Source code in <code>src/vodoo/aio/project.py</code> <pre><code>def get_task_url(client: AsyncOdooClient, task_id: int) -&gt; str:\n    \"\"\"Get the web URL for a task.\"\"\"\n    return get_record_url(client, MODEL, task_id)\n</code></pre>"},{"location":"api/aio/project_project/","title":"Async Projects","text":"<p>Async operations for the <code>project.project</code> model.</p>"},{"location":"api/aio/project_project/#vodoo.aio.project_project","title":"project_project","text":"<p>Async project (project.project) operations for Vodoo.</p>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.list_projects","title":"list_projects  <code>async</code>","text":"<pre><code>list_projects(client: AsyncOdooClient, domain: list[Any] | None = None, limit: int | None = 50, fields: list[str] | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List projects.</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>async def list_projects(\n    client: AsyncOdooClient,\n    domain: list[Any] | None = None,\n    limit: int | None = 50,\n    fields: list[str] | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List projects.\"\"\"\n    if fields is None:\n        fields = list(DEFAULT_LIST_FIELDS)\n    return await list_records(client, MODEL, domain=domain, limit=limit, fields=fields)\n</code></pre>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.display_projects","title":"display_projects","text":"<pre><code>display_projects(projects: list[dict[str, Any]]) -&gt; None\n</code></pre> <p>Display projects in a rich table.</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>def display_projects(projects: list[dict[str, Any]]) -&gt; None:\n    \"\"\"Display projects in a rich table.\"\"\"\n    display_records(projects, title=\"Projects\")\n</code></pre>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.get_project","title":"get_project  <code>async</code>","text":"<pre><code>get_project(client: AsyncOdooClient, project_id: int, fields: list[str] | None = None) -&gt; dict[str, Any]\n</code></pre> <p>Get detailed project information.</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>async def get_project(\n    client: AsyncOdooClient,\n    project_id: int,\n    fields: list[str] | None = None,\n) -&gt; dict[str, Any]:\n    \"\"\"Get detailed project information.\"\"\"\n    if fields is None:\n        fields = list(DEFAULT_DETAIL_FIELDS)\n    return await get_record(client, MODEL, project_id, fields=fields)\n</code></pre>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.list_project_fields","title":"list_project_fields  <code>async</code>","text":"<pre><code>list_project_fields(client: AsyncOdooClient) -&gt; dict[str, Any]\n</code></pre> <p>Get all available fields for projects.</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>async def list_project_fields(client: AsyncOdooClient) -&gt; dict[str, Any]:\n    \"\"\"Get all available fields for projects.\"\"\"\n    return await list_fields(client, MODEL)\n</code></pre>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.set_project_fields","title":"set_project_fields  <code>async</code>","text":"<pre><code>set_project_fields(client: AsyncOdooClient, project_id: int, values: dict[str, Any]) -&gt; bool\n</code></pre> <p>Update fields on a project.</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>async def set_project_fields(\n    client: AsyncOdooClient,\n    project_id: int,\n    values: dict[str, Any],\n) -&gt; bool:\n    \"\"\"Update fields on a project.\"\"\"\n    return await set_record_fields(client, MODEL, project_id, values)\n</code></pre>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.display_project_detail","title":"display_project_detail","text":"<pre><code>display_project_detail(project: dict[str, Any], show_html: bool = False) -&gt; None\n</code></pre> <p>Display detailed project information.</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>def display_project_detail(project: dict[str, Any], show_html: bool = False) -&gt; None:\n    \"\"\"Display detailed project information.\"\"\"\n    display_record_detail(project, show_html=show_html, record_type=\"Project\")\n</code></pre>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.add_comment","title":"add_comment  <code>async</code>","text":"<pre><code>add_comment(client: AsyncOdooClient, project_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add a comment to a project (visible to followers).</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>async def add_comment(\n    client: AsyncOdooClient,\n    project_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add a comment to a project (visible to followers).\"\"\"\n    return await base_add_comment(\n        client, MODEL, project_id, message, user_id=user_id, markdown=markdown\n    )\n</code></pre>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.add_note","title":"add_note  <code>async</code>","text":"<pre><code>add_note(client: AsyncOdooClient, project_id: int, message: str, user_id: int | None = None, markdown: bool = True) -&gt; bool\n</code></pre> <p>Add an internal note to a project.</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>async def add_note(\n    client: AsyncOdooClient,\n    project_id: int,\n    message: str,\n    user_id: int | None = None,\n    markdown: bool = True,\n) -&gt; bool:\n    \"\"\"Add an internal note to a project.\"\"\"\n    return await base_add_note(\n        client, MODEL, project_id, message, user_id=user_id, markdown=markdown\n    )\n</code></pre>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.list_project_messages","title":"list_project_messages  <code>async</code>","text":"<pre><code>list_project_messages(client: AsyncOdooClient, project_id: int, limit: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List messages/chatter for a project.</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>async def list_project_messages(\n    client: AsyncOdooClient,\n    project_id: int,\n    limit: int | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List messages/chatter for a project.\"\"\"\n    return await list_messages(client, MODEL, project_id, limit=limit)\n</code></pre>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.list_project_attachments","title":"list_project_attachments  <code>async</code>","text":"<pre><code>list_project_attachments(client: AsyncOdooClient, project_id: int) -&gt; list[dict[str, Any]]\n</code></pre> <p>List attachments for a project.</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>async def list_project_attachments(\n    client: AsyncOdooClient,\n    project_id: int,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List attachments for a project.\"\"\"\n    return await list_attachments(client, MODEL, project_id)\n</code></pre>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.create_project_attachment","title":"create_project_attachment  <code>async</code>","text":"<pre><code>create_project_attachment(client: AsyncOdooClient, project_id: int, file_path: Path | str, name: str | None = None) -&gt; int\n</code></pre> <p>Create an attachment for a project.</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>async def create_project_attachment(\n    client: AsyncOdooClient,\n    project_id: int,\n    file_path: Path | str,\n    name: str | None = None,\n) -&gt; int:\n    \"\"\"Create an attachment for a project.\"\"\"\n    return await base_create_attachment(client, MODEL, project_id, file_path, name=name)\n</code></pre>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.get_project_url","title":"get_project_url","text":"<pre><code>get_project_url(client: AsyncOdooClient, project_id: int) -&gt; str\n</code></pre> <p>Get the web URL for a project.</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>def get_project_url(client: AsyncOdooClient, project_id: int) -&gt; str:\n    \"\"\"Get the web URL for a project.\"\"\"\n    return get_record_url(client, MODEL, project_id)\n</code></pre>"},{"location":"api/aio/project_project/#vodoo.aio.project_project.list_stages","title":"list_stages  <code>async</code>","text":"<pre><code>list_stages(client: AsyncOdooClient, project_id: int | None = None) -&gt; list[dict[str, Any]]\n</code></pre> <p>List task stages, optionally filtered by project.</p> Source code in <code>src/vodoo/aio/project_project.py</code> <pre><code>async def list_stages(\n    client: AsyncOdooClient,\n    project_id: int | None = None,\n) -&gt; list[dict[str, Any]]:\n    \"\"\"List task stages, optionally filtered by project.\"\"\"\n    domain: list[Any] = []\n    if project_id is not None:\n        domain.append((\"project_ids\", \"in\", [project_id]))\n\n    return await client.search_read(\n        \"project.task.type\",\n        domain=domain,\n        fields=STAGE_FIELDS,\n        order=\"sequence\",\n    )\n</code></pre>"},{"location":"api/aio/security/","title":"Async Security","text":"<p>Async security group management and service account utilities.</p>"},{"location":"api/aio/security/#vodoo.aio.security","title":"security","text":"<p>Async security group utilities for Vodoo.</p>"},{"location":"api/aio/security/#vodoo.aio.security.create_security_groups","title":"create_security_groups  <code>async</code>","text":"<pre><code>create_security_groups(client: AsyncOdooClient) -&gt; tuple[dict[str, int], list[str]]\n</code></pre> <p>Create (or reuse) all Vodoo security groups.</p> Source code in <code>src/vodoo/aio/security.py</code> <pre><code>async def create_security_groups(\n    client: AsyncOdooClient,\n) -&gt; tuple[dict[str, int], list[str]]:\n    \"\"\"Create (or reuse) all Vodoo security groups.\"\"\"\n    warnings: list[str] = []\n    group_ids: dict[str, int] = {}\n\n    for group in GROUP_DEFINITIONS:\n        group_id = await _ensure_group(client, group)\n        group_ids[group.name] = group_id\n\n        for access in group.access:\n            model_id = await _get_model_id(client, access.model)\n            if model_id is None:\n                warnings.append(f\"Model '{access.model}' not found; skipping access\")\n                continue\n            await _ensure_access(client, group_id, group.name, model_id, access)\n\n        for rule in group.rules:\n            model_id = await _get_model_id(client, rule.model)\n            if model_id is None:\n                warnings.append(f\"Model '{rule.model}' not found; skipping rule\")\n                continue\n            await _ensure_rule(client, group_id, group.name, model_id, rule)\n\n    return group_ids, warnings\n</code></pre>"},{"location":"api/aio/security/#vodoo.aio.security.get_group_ids","title":"get_group_ids  <code>async</code>","text":"<pre><code>get_group_ids(client: AsyncOdooClient, group_names: list[str]) -&gt; tuple[dict[str, int], list[str]]\n</code></pre> <p>Fetch group IDs for the provided names.</p> Source code in <code>src/vodoo/aio/security.py</code> <pre><code>async def get_group_ids(\n    client: AsyncOdooClient,\n    group_names: list[str],\n) -&gt; tuple[dict[str, int], list[str]]:\n    \"\"\"Fetch group IDs for the provided names.\"\"\"\n    warnings: list[str] = []\n    group_ids: dict[str, int] = {}\n\n    for name in group_names:\n        ids = await client.search(\"res.groups\", domain=[(\"name\", \"=\", name)], limit=1)\n        if ids:\n            group_ids[name] = ids[0]\n        else:\n            warnings.append(f\"Group '{name}' not found\")\n\n    return group_ids, warnings\n</code></pre>"},{"location":"api/aio/security/#vodoo.aio.security.assign_user_to_groups","title":"assign_user_to_groups  <code>async</code>","text":"<pre><code>assign_user_to_groups(client: AsyncOdooClient, user_id: int, group_ids: list[int], *, remove_default_groups: bool = True) -&gt; None\n</code></pre> <p>Assign a user to the provided groups.</p> Source code in <code>src/vodoo/aio/security.py</code> <pre><code>async def assign_user_to_groups(\n    client: AsyncOdooClient,\n    user_id: int,\n    group_ids: list[int],\n    *,\n    remove_default_groups: bool = True,\n) -&gt; None:\n    \"\"\"Assign a user to the provided groups.\"\"\"\n    commands: list[tuple[int, int]] = []\n\n    if remove_default_groups:\n        for xmlid in (\"base.group_user\", \"base.group_portal\"):\n            gid = await _get_group_id_by_xmlid(client, xmlid)\n            if gid is not None:\n                commands.append((3, gid))\n\n    commands.extend((4, gid) for gid in group_ids)\n\n    field = await _groups_field(client)\n    await client.write(\"res.users\", [user_id], {field: commands})\n</code></pre>"},{"location":"api/aio/security/#vodoo.aio.security.resolve_user_id","title":"resolve_user_id  <code>async</code>","text":"<pre><code>resolve_user_id(client: AsyncOdooClient, *, user_id: int | None, login: str | None) -&gt; int\n</code></pre> <p>Resolve a user ID from either an ID or login name.</p> Source code in <code>src/vodoo/aio/security.py</code> <pre><code>async def resolve_user_id(\n    client: AsyncOdooClient, *, user_id: int | None, login: str | None\n) -&gt; int:\n    \"\"\"Resolve a user ID from either an ID or login name.\"\"\"\n    if user_id is not None:\n        return user_id\n    if not login:\n        raise ValueError(\"Provide --user-id or --login\")\n\n    ids = await client.search(\"res.users\", domain=[(\"login\", \"=\", login)], limit=1)\n    if not ids:\n        raise ValueError(f\"User with login '{login}' not found\")\n    return ids[0]\n</code></pre>"},{"location":"api/aio/security/#vodoo.aio.security.create_user","title":"create_user  <code>async</code>","text":"<pre><code>create_user(client: AsyncOdooClient, name: str, login: str, password: str | None = None, email: str | None = None) -&gt; tuple[int, str]\n</code></pre> <p>Create a new user.</p> Source code in <code>src/vodoo/aio/security.py</code> <pre><code>async def create_user(\n    client: AsyncOdooClient,\n    name: str,\n    login: str,\n    password: str | None = None,\n    email: str | None = None,\n) -&gt; tuple[int, str]:\n    \"\"\"Create a new user.\"\"\"\n    if password is None:\n        password = _generate_password()\n\n    if email is None:\n        email = login\n\n    field = await _groups_field(client)\n    user_id = await client.create(\n        \"res.users\",\n        {\n            \"name\": name,\n            \"login\": login,\n            \"email\": email,\n            \"password\": password,\n            field: [(6, 0, [])],\n        },\n    )\n\n    return user_id, password\n</code></pre>"},{"location":"api/aio/security/#vodoo.aio.security.set_user_password","title":"set_user_password  <code>async</code>","text":"<pre><code>set_user_password(client: AsyncOdooClient, user_id: int, password: str | None = None) -&gt; str\n</code></pre> <p>Set a user's password.</p> Source code in <code>src/vodoo/aio/security.py</code> <pre><code>async def set_user_password(\n    client: AsyncOdooClient,\n    user_id: int,\n    password: str | None = None,\n) -&gt; str:\n    \"\"\"Set a user's password.\"\"\"\n    if password is None:\n        password = _generate_password()\n\n    await client.write(\"res.users\", [user_id], {\"password\": password})\n    return password\n</code></pre>"},{"location":"api/aio/security/#vodoo.aio.security.get_user_info","title":"get_user_info  <code>async</code>","text":"<pre><code>get_user_info(client: AsyncOdooClient, user_id: int) -&gt; dict[str, Any]\n</code></pre> <p>Get user information.</p> Source code in <code>src/vodoo/aio/security.py</code> <pre><code>async def get_user_info(client: AsyncOdooClient, user_id: int) -&gt; dict[str, Any]:\n    \"\"\"Get user information.\"\"\"\n    field = await _groups_field(client)\n    users = await client.search_read(\n        \"res.users\",\n        domain=[(\"id\", \"=\", user_id)],\n        fields=[\"name\", \"login\", \"email\", \"active\", \"share\", field, \"partner_id\"],\n        limit=1,\n    )\n    if not users:\n        raise ValueError(f\"User {user_id} not found\")\n    return users[0]\n</code></pre>"},{"location":"api/aio/timer/","title":"Async Timers","text":"<p>Async timer and timesheet management operations.</p>"},{"location":"api/aio/timer/#vodoo.aio.timer","title":"timer","text":"<p>Async Odoo timer (timesheet) operations.</p> <p>Mirrors :mod:<code>vodoo.timer</code> with async methods. Reuses all data classes and parsing logic from the sync module.</p>"},{"location":"api/aio/timer/#vodoo.aio.timer.AsyncTimerBackend","title":"AsyncTimerBackend","text":"<p>               Bases: <code>ABC</code></p> <p>Version-specific async timer behavior.</p>"},{"location":"api/aio/timer/#vodoo.aio.timer.AsyncTimerBackend.enrich_with_running_state","title":"enrich_with_running_state  <code>abstractmethod</code> <code>async</code>","text":"<pre><code>enrich_with_running_state(timesheets: list[Timesheet], client: AsyncOdooClient, uid: int) -&gt; list[Timesheet]\n</code></pre> <p>Enrich timesheets with running timer state.</p> Source code in <code>src/vodoo/aio/timer.py</code> <pre><code>@abstractmethod\nasync def enrich_with_running_state(\n    self,\n    timesheets: list[Timesheet],\n    client: AsyncOdooClient,\n    uid: int,\n) -&gt; list[Timesheet]:\n    \"\"\"Enrich timesheets with running timer state.\"\"\"\n</code></pre>"},{"location":"api/aio/timer/#vodoo.aio.timer.AsyncTimerBackend.start_timer","title":"start_timer  <code>abstractmethod</code> <code>async</code>","text":"<pre><code>start_timer(timesheet: Timesheet, client: AsyncOdooClient) -&gt; None\n</code></pre> <p>Start a timer on a timesheet.</p> Source code in <code>src/vodoo/aio/timer.py</code> <pre><code>@abstractmethod\nasync def start_timer(self, timesheet: Timesheet, client: AsyncOdooClient) -&gt; None:\n    \"\"\"Start a timer on a timesheet.\"\"\"\n</code></pre>"},{"location":"api/aio/timer/#vodoo.aio.timer.AsyncTimerBackend.stop_timer","title":"stop_timer  <code>abstractmethod</code> <code>async</code>","text":"<pre><code>stop_timer(timesheet: Timesheet, client: AsyncOdooClient) -&gt; Any\n</code></pre> <p>Stop a timer on a timesheet.</p> Source code in <code>src/vodoo/aio/timer.py</code> <pre><code>@abstractmethod\nasync def stop_timer(self, timesheet: Timesheet, client: AsyncOdooClient) -&gt; Any:\n    \"\"\"Stop a timer on a timesheet.\"\"\"\n</code></pre>"},{"location":"api/aio/timer/#vodoo.aio.timer.AsyncOdoo19TimerBackend","title":"AsyncOdoo19TimerBackend","text":"<p>               Bases: <code>AsyncTimerBackend</code></p> <p>Async Odoo 19+: timers managed directly on account.analytic.line.</p>"},{"location":"api/aio/timer/#vodoo.aio.timer.AsyncLegacyTimerBackend","title":"AsyncLegacyTimerBackend","text":"<p>               Bases: <code>AsyncTimerBackend</code></p> <p>Async Odoo 14-18: running timer state lives in timer.timer model.</p>"},{"location":"api/aio/timer/#vodoo.aio.timer.get_timer_backend","title":"get_timer_backend","text":"<pre><code>get_timer_backend(client: AsyncOdooClient) -&gt; AsyncTimerBackend\n</code></pre> <p>Get the appropriate async timer backend based on the Odoo version.</p> Source code in <code>src/vodoo/aio/timer.py</code> <pre><code>def get_timer_backend(client: AsyncOdooClient) -&gt; AsyncTimerBackend:\n    \"\"\"Get the appropriate async timer backend based on the Odoo version.\"\"\"\n    if client.is_json2:\n        return AsyncOdoo19TimerBackend()\n    return AsyncLegacyTimerBackend()\n</code></pre>"},{"location":"api/aio/timer/#vodoo.aio.timer.fetch_today_timesheets","title":"fetch_today_timesheets  <code>async</code>","text":"<pre><code>fetch_today_timesheets(client: AsyncOdooClient) -&gt; list[Timesheet]\n</code></pre> <p>Fetch today's timesheets for the current user.</p> Source code in <code>src/vodoo/aio/timer.py</code> <pre><code>async def fetch_today_timesheets(client: AsyncOdooClient) -&gt; list[Timesheet]:\n    \"\"\"Fetch today's timesheets for the current user.\"\"\"\n    uid = await client.get_uid()\n    today = datetime.now(tz=UTC).strftime(\"%Y-%m-%d\")\n    fields = await _get_fields(client)\n\n    records = await client.search_read(\n        TIMESHEET_MODEL,\n        domain=[[\"user_id\", \"=\", uid], [\"date\", \"=\", today]],\n        fields=fields,\n    )\n\n    timesheets = [ts for r in records if (ts := _parse_timesheet(r)) is not None]\n\n    backend = get_timer_backend(client)\n    return await backend.enrich_with_running_state(timesheets, client, uid)\n</code></pre>"},{"location":"api/aio/timer/#vodoo.aio.timer.fetch_active_timesheets","title":"fetch_active_timesheets  <code>async</code>","text":"<pre><code>fetch_active_timesheets(client: AsyncOdooClient) -&gt; list[Timesheet]\n</code></pre> <p>Fetch currently running timesheets.</p> Source code in <code>src/vodoo/aio/timer.py</code> <pre><code>async def fetch_active_timesheets(client: AsyncOdooClient) -&gt; list[Timesheet]:\n    \"\"\"Fetch currently running timesheets.\"\"\"\n    return [ts for ts in await fetch_today_timesheets(client) if ts.timer_start is not None]\n</code></pre>"},{"location":"api/aio/timer/#vodoo.aio.timer.start_timer_on_task","title":"start_timer_on_task  <code>async</code>","text":"<pre><code>start_timer_on_task(client: AsyncOdooClient, task_id: int) -&gt; None\n</code></pre> <p>Start a timer on a project task.</p> Source code in <code>src/vodoo/aio/timer.py</code> <pre><code>async def start_timer_on_task(client: AsyncOdooClient, task_id: int) -&gt; None:\n    \"\"\"Start a timer on a project task.\"\"\"\n    await client.execute(\"project.task\", \"action_timer_start\", [task_id])\n</code></pre>"},{"location":"api/aio/timer/#vodoo.aio.timer.start_timer_on_ticket","title":"start_timer_on_ticket  <code>async</code>","text":"<pre><code>start_timer_on_ticket(client: AsyncOdooClient, ticket_id: int) -&gt; None\n</code></pre> <p>Start a timer on a helpdesk ticket.</p> Source code in <code>src/vodoo/aio/timer.py</code> <pre><code>async def start_timer_on_ticket(client: AsyncOdooClient, ticket_id: int) -&gt; None:\n    \"\"\"Start a timer on a helpdesk ticket.\"\"\"\n    await client.execute(\"helpdesk.ticket\", \"action_timer_start\", [ticket_id])\n</code></pre>"},{"location":"api/aio/timer/#vodoo.aio.timer.start_timer_on_timesheet","title":"start_timer_on_timesheet  <code>async</code>","text":"<pre><code>start_timer_on_timesheet(client: AsyncOdooClient, timesheet_id: int) -&gt; None\n</code></pre> <p>Start a timer on an existing timesheet.</p> Source code in <code>src/vodoo/aio/timer.py</code> <pre><code>async def start_timer_on_timesheet(client: AsyncOdooClient, timesheet_id: int) -&gt; None:\n    \"\"\"Start a timer on an existing timesheet.\"\"\"\n    fields = await _get_fields(client)\n    records = await client.search_read(\n        TIMESHEET_MODEL,\n        domain=[[\"id\", \"=\", timesheet_id]],\n        fields=fields,\n        limit=1,\n    )\n    if not records:\n        msg = f\"Timesheet {timesheet_id} not found\"\n        raise ValueError(msg)\n\n    ts = _parse_timesheet(records[0])\n    if ts is None:\n        msg = f\"Failed to parse timesheet {timesheet_id}\"\n        raise ValueError(msg)\n\n    backend = get_timer_backend(client)\n    await backend.start_timer(ts, client)\n</code></pre>"},{"location":"api/aio/timer/#vodoo.aio.timer.stop_timer_on_timesheet","title":"stop_timer_on_timesheet  <code>async</code>","text":"<pre><code>stop_timer_on_timesheet(client: AsyncOdooClient, timesheet_id: int) -&gt; None\n</code></pre> <p>Stop a timer on an existing timesheet.</p> Source code in <code>src/vodoo/aio/timer.py</code> <pre><code>async def stop_timer_on_timesheet(client: AsyncOdooClient, timesheet_id: int) -&gt; None:\n    \"\"\"Stop a timer on an existing timesheet.\"\"\"\n    fields = await _get_fields(client)\n    records = await client.search_read(\n        TIMESHEET_MODEL,\n        domain=[[\"id\", \"=\", timesheet_id]],\n        fields=fields,\n        limit=1,\n    )\n    if not records:\n        msg = f\"Timesheet {timesheet_id} not found\"\n        raise ValueError(msg)\n\n    ts = _parse_timesheet(records[0])\n    if ts is None:\n        msg = f\"Failed to parse timesheet {timesheet_id}\"\n        raise ValueError(msg)\n\n    backend = get_timer_backend(client)\n    result = await backend.stop_timer(ts, client)\n    await _handle_stop_wizard(client, result)\n</code></pre>"},{"location":"api/aio/timer/#vodoo.aio.timer.stop_active_timers","title":"stop_active_timers  <code>async</code>","text":"<pre><code>stop_active_timers(client: AsyncOdooClient) -&gt; list[Timesheet]\n</code></pre> <p>Stop all currently running timers.</p> Source code in <code>src/vodoo/aio/timer.py</code> <pre><code>async def stop_active_timers(client: AsyncOdooClient) -&gt; list[Timesheet]:\n    \"\"\"Stop all currently running timers.\"\"\"\n    active = await fetch_active_timesheets(client)\n    backend = get_timer_backend(client)\n\n    for ts in active:\n        result = await backend.stop_timer(ts, client)\n        await _handle_stop_wizard(client, result)\n\n    return active\n</code></pre>"},{"location":"cli/","title":"CLI Reference","text":"<p>Vodoo provides a Typer-based CLI with the following subcommands:</p> Command Description <code>helpdesk</code> Helpdesk ticket operations <code>project-task</code> Project task operations <code>project</code> Project operations <code>knowledge</code> Knowledge article operations <code>model</code> Generic model operations (create, read, update, delete) <code>crm</code> CRM lead/opportunity operations <code>security</code> Security group utilities <code>timer</code> Timer / timesheet operations (start, stop, status)"},{"location":"cli/#global-options","title":"Global Options","text":"<pre><code>vodoo --help\nvodoo &lt;command&gt; --help\n</code></pre>"},{"location":"cli/#output-modes","title":"Output Modes","text":"<p>By default, Vodoo uses Rich tables for colorful terminal output. Use <code>--simple</code> on list commands for plain TSV output suitable for piping:</p> <pre><code>vodoo helpdesk list --simple | cut -f1,2\n</code></pre>"},{"location":"cli/#common-patterns","title":"Common Patterns","text":"<p>All domain subcommands (<code>helpdesk</code>, <code>project-task</code>, <code>project</code>, <code>crm</code>) share a consistent interface:</p> Action Command List records <code>vodoo &lt;cmd&gt; list [--stage ...] [--search ...] [--limit N]</code> Show details <code>vodoo &lt;cmd&gt; show &lt;ID&gt;</code> Add comment <code>vodoo &lt;cmd&gt; comment &lt;ID&gt; \"message\"</code> Add note <code>vodoo &lt;cmd&gt; note &lt;ID&gt; \"message\"</code> Update fields <code>vodoo &lt;cmd&gt; set &lt;ID&gt; field=value ...</code> List fields <code>vodoo &lt;cmd&gt; fields</code> List tags <code>vodoo &lt;cmd&gt; tags</code> Add tag <code>vodoo &lt;cmd&gt; tag &lt;ID&gt; &lt;TAG_ID&gt;</code> Message history <code>vodoo &lt;cmd&gt; chatter &lt;ID&gt;</code> List attachments <code>vodoo &lt;cmd&gt; attachments &lt;ID&gt;</code> Upload file <code>vodoo &lt;cmd&gt; attach &lt;ID&gt; &lt;FILE&gt;</code> Download one <code>vodoo &lt;cmd&gt; download &lt;ATTACHMENT_ID&gt;</code> Download all <code>vodoo &lt;cmd&gt; download-all &lt;ID&gt;</code> Get URL <code>vodoo &lt;cmd&gt; url &lt;ID&gt;</code>"},{"location":"cli/crm/","title":"vodoo crm","text":"<p>Manage Odoo CRM leads and opportunities.</p>"},{"location":"cli/crm/#commands","title":"Commands","text":""},{"location":"cli/crm/#list","title":"list","text":"<p>List CRM leads/opportunities.</p> <p>Options:</p> Option Type Description <code>--search</code> / <code>-s</code> TEXT Search in name, email, phone, description <code>--stage</code> TEXT Filter by stage name <code>--team</code> TEXT Filter by sales team name <code>--user</code> TEXT Filter by salesperson name <code>--partner</code> TEXT Filter by partner/customer name <code>--type</code> TEXT Filter by type: 'lead' or 'opportunity' <code>--limit</code> INT Maximum number of leads (default: 50) <code>--field</code> / <code>-f</code> TEXT Specific fields to fetch"},{"location":"cli/crm/#show","title":"show","text":"<p>Show detailed lead/opportunity information.</p> <p>Arguments:</p> Argument Type Description <code>lead_id</code> INT Lead/Opportunity ID <p>Options:</p> Option Type Description <code>--field</code> / <code>-f</code> TEXT Specific fields to fetch <code>--html</code> BOOL Show raw HTML description"},{"location":"cli/crm/#comment","title":"comment","text":"<p>Add a comment to a lead (visible to followers).</p> <p>Arguments:</p> Argument Type Description <code>lead_id</code> INT Lead/Opportunity ID <code>message</code> TEXT Comment message <p>Options:</p> Option Type Description <code>--author</code> / <code>-a</code> INT User ID to post as <code>--no-markdown</code> BOOL Disable markdown conversion"},{"location":"cli/crm/#note","title":"note","text":"<p>Add an internal note to a lead (not visible to followers).</p> <p>Arguments:</p> Argument Type Description <code>lead_id</code> INT Lead/Opportunity ID <code>message</code> TEXT Note message <p>Options:</p> Option Type Description <code>--author</code> / <code>-a</code> INT User ID to post as <code>--no-markdown</code> BOOL Disable markdown conversion"},{"location":"cli/crm/#tags","title":"tags","text":"<p>List available CRM tags.</p>"},{"location":"cli/crm/#tag","title":"tag","text":"<p>Add a tag to a lead.</p> <p>Arguments:</p> Argument Type Description <code>lead_id</code> INT Lead/Opportunity ID <code>tag_id</code> INT Tag ID"},{"location":"cli/crm/#chatter","title":"chatter","text":"<p>Show message history/chatter for a lead.</p> <p>Arguments:</p> Argument Type Description <code>lead_id</code> INT Lead/Opportunity ID <p>Options:</p> Option Type Description <code>--limit</code> INT Max messages to show <code>--html</code> BOOL Show raw HTML"},{"location":"cli/crm/#attachments","title":"attachments","text":"<p>List attachments for a lead.</p> <p>Arguments:</p> Argument Type Description <code>lead_id</code> INT Lead/Opportunity ID"},{"location":"cli/crm/#download","title":"download","text":"<p>Download a single attachment by ID.</p> <p>Arguments:</p> Argument Type Description <code>attachment_id</code> INT Attachment ID <p>Options:</p> Option Type Description <code>--output</code> PATH Output file path"},{"location":"cli/crm/#download-all","title":"download-all","text":"<p>Download all attachments from a lead.</p> <p>Arguments:</p> Argument Type Description <code>lead_id</code> INT Lead/Opportunity ID <p>Options:</p> Option Type Description <code>--output</code> / <code>-o</code> PATH Output directory (defaults to current directory) <code>--extension</code> / <code>--ext</code> TEXT Filter by file extension (e.g., pdf, jpg, png)"},{"location":"cli/crm/#fields","title":"fields","text":"<p>List available fields or show field values for a specific lead.</p> <p>Arguments:</p> Argument Type Description <code>lead_id</code> INT Lead ID (optional) <p>Options:</p> Option Type Description <code>--field-name</code> TEXT Show specific field"},{"location":"cli/crm/#set","title":"set","text":"<p>Set field values on a lead.</p> <p>HTML fields automatically convert markdown to HTML.</p> <p>Arguments:</p> Argument Type Description <code>lead_id</code> INT Lead/Opportunity ID <code>fields</code> TEXT Field assignments (field=value) <p>Options:</p> Option Type Description <code>--no-markdown</code> BOOL Disable markdown to HTML conversion for HTML fields"},{"location":"cli/crm/#attach","title":"attach","text":"<p>Attach a file to a lead.</p> <p>Arguments:</p> Argument Type Description <code>lead_id</code> INT Lead/Opportunity ID <code>file_path</code> PATH Path to file to attach <p>Options:</p> Option Type Description <code>--name</code> / <code>-n</code> TEXT Custom name"},{"location":"cli/crm/#url","title":"url","text":"<p>Get the web URL for a lead.</p> <p>Arguments:</p> Argument Type Description <code>lead_id</code> INT Lead/Opportunity ID"},{"location":"cli/helpdesk/","title":"vodoo helpdesk","text":"<p>Manage Odoo Helpdesk tickets (requires Odoo Enterprise).</p>"},{"location":"cli/helpdesk/#commands","title":"Commands","text":""},{"location":"cli/helpdesk/#list","title":"list","text":"<p>List helpdesk tickets.</p> <p>Options:</p> Option Type Description <code>--stage</code> TEXT Filter by stage name <code>--partner</code> TEXT Filter by partner name <code>--assigned-to</code> TEXT Filter by assigned user name <code>--limit</code> INT Maximum number of tickets (default: 50) <code>--field</code> / <code>-f</code> TEXT Specific fields to fetch (can be used multiple times)"},{"location":"cli/helpdesk/#show","title":"show","text":"<p>Show detailed ticket information.</p> <p>Arguments:</p> Argument Type Description <code>ticket_id</code> INT Ticket ID <p>Options:</p> Option Type Description <code>--field</code> / <code>-f</code> TEXT Specific fields to fetch (can be used multiple times) <code>--html</code> BOOL Show raw HTML description instead of markdown"},{"location":"cli/helpdesk/#comment","title":"comment","text":"<p>Add a comment to a ticket (visible to customers).</p> <p>Arguments:</p> Argument Type Description <code>ticket_id</code> INT Ticket ID <code>message</code> TEXT Comment message <p>Options:</p> Option Type Description <code>--author</code> / <code>-a</code> INT User ID to post as <code>--no-markdown</code> BOOL Disable markdown to HTML conversion"},{"location":"cli/helpdesk/#note","title":"note","text":"<p>Add an internal note to a ticket (not visible to customers).</p> <p>Arguments:</p> Argument Type Description <code>ticket_id</code> INT Ticket ID <code>message</code> TEXT Note message <p>Options:</p> Option Type Description <code>--author</code> / <code>-a</code> INT User ID to post as <code>--no-markdown</code> BOOL Disable markdown to HTML conversion"},{"location":"cli/helpdesk/#tags","title":"tags","text":"<p>List available helpdesk tags.</p>"},{"location":"cli/helpdesk/#tag","title":"tag","text":"<p>Add a tag to a ticket.</p> <p>Arguments:</p> Argument Type Description <code>ticket_id</code> INT Ticket ID <code>tag_id</code> INT Tag ID"},{"location":"cli/helpdesk/#chatter","title":"chatter","text":"<p>Show message history/chatter for a ticket.</p> <p>Arguments:</p> Argument Type Description <code>ticket_id</code> INT Ticket ID <p>Options:</p> Option Type Description <code>--limit</code> INT Maximum number of messages to show <code>--html</code> BOOL Show raw HTML body instead of plain text"},{"location":"cli/helpdesk/#attachments","title":"attachments","text":"<p>List attachments for a ticket.</p> <p>Arguments:</p> Argument Type Description <code>ticket_id</code> INT Ticket ID"},{"location":"cli/helpdesk/#download","title":"download","text":"<p>Download a single attachment by ID.</p> <p>Arguments:</p> Argument Type Description <code>attachment_id</code> INT Attachment ID <p>Options:</p> Option Type Description <code>--output</code> PATH Output file path (defaults to attachment name)"},{"location":"cli/helpdesk/#download-all","title":"download-all","text":"<p>Download all attachments from a ticket.</p> <p>Arguments:</p> Argument Type Description <code>ticket_id</code> INT Ticket ID <p>Options:</p> Option Type Description <code>--output</code> / <code>-o</code> PATH Output directory (defaults to current directory) <code>--extension</code> / <code>--ext</code> TEXT Filter by file extension (e.g., pdf, jpg, png)"},{"location":"cli/helpdesk/#fields","title":"fields","text":"<p>List available fields or show field values for a specific ticket.</p> <p>Arguments:</p> Argument Type Description <code>ticket_id</code> INT Ticket ID (optional) <p>Options:</p> Option Type Description <code>--field-name</code> TEXT Show details for a specific field"},{"location":"cli/helpdesk/#set","title":"set","text":"<p>Set field values on a ticket.</p> <pre><code>Supports operators: =, +=, -=, *=, /=\nHTML fields (like description) automatically convert markdown to HTML.\n\nExamples:\n    vodoo helpdesk set 42 priority=2 name=\"New Title\"\n    vodoo helpdesk set 42 user_id=5 stage_id=3\n    vodoo helpdesk set 42 priority+=1\n    vodoo helpdesk set 42 'tag_ids=json:[[6,0,[1,2,3]]]'\n    vodoo helpdesk set 42 'description=# Heading\n</code></pre> <p>Paragraph text'</p> <p>Arguments:</p> Argument Type Description <code>ticket_id</code> INT Ticket ID <code>fields</code> TEXT Field assignments in format 'field=value' or 'field+=amount' <p>Options:</p> Option Type Description <code>--no-markdown</code> BOOL Disable markdown to HTML conversion for HTML fields"},{"location":"cli/helpdesk/#attach","title":"attach","text":"<p>Attach a file to a ticket.</p> <p>Arguments:</p> Argument Type Description <code>ticket_id</code> INT Ticket ID <code>file_path</code> PATH Path to file to attach <p>Options:</p> Option Type Description <code>--name</code> / <code>-n</code> TEXT Custom attachment name (defaults to filename)"},{"location":"cli/helpdesk/#url","title":"url","text":"<p>Get the web URL for a ticket.</p> <p>Arguments:</p> Argument Type Description <code>ticket_id</code> INT Ticket ID"},{"location":"cli/knowledge/","title":"vodoo knowledge","text":"<p>Manage Odoo Knowledge articles (requires Odoo Enterprise).</p>"},{"location":"cli/knowledge/#commands","title":"Commands","text":""},{"location":"cli/knowledge/#list","title":"list","text":"<p>List knowledge articles.</p> <p>Options:</p> Option Type Description <code>--name</code> TEXT Filter by article name <code>--parent</code> TEXT Filter by parent article name <code>--category</code> TEXT Filter by category (workspace, private, shared) <code>--limit</code> INT Maximum number of articles (default: 50)"},{"location":"cli/knowledge/#show","title":"show","text":"<p>Show detailed article information.</p> <p>Arguments:</p> Argument Type Description <code>article_id</code> INT Article ID <p>Options:</p> Option Type Description <code>--html</code> BOOL Show raw HTML content instead of markdown"},{"location":"cli/knowledge/#comment","title":"comment","text":"<p>Add a comment to an article (visible to followers).</p> <p>Arguments:</p> Argument Type Description <code>article_id</code> INT Article ID <code>message</code> TEXT Comment message <p>Options:</p> Option Type Description <code>--author</code> / <code>-a</code> INT User ID to post as <code>--no-markdown</code> BOOL Disable markdown to HTML conversion"},{"location":"cli/knowledge/#note","title":"note","text":"<p>Add an internal note to an article.</p> <p>Arguments:</p> Argument Type Description <code>article_id</code> INT Article ID <code>message</code> TEXT Note message <p>Options:</p> Option Type Description <code>--author</code> / <code>-a</code> INT User ID to post as <code>--no-markdown</code> BOOL Disable markdown to HTML conversion"},{"location":"cli/knowledge/#chatter","title":"chatter","text":"<p>Show message history/chatter for an article.</p> <p>Arguments:</p> Argument Type Description <code>article_id</code> INT Article ID <p>Options:</p> Option Type Description <code>--limit</code> INT Maximum number of messages <code>--html</code> BOOL Show raw HTML body instead of plain text"},{"location":"cli/knowledge/#attachments","title":"attachments","text":"<p>List attachments for an article.</p> <p>Arguments:</p> Argument Type Description <code>article_id</code> INT Article ID"},{"location":"cli/knowledge/#url","title":"url","text":"<p>Get the web URL for an article.</p> <p>Arguments:</p> Argument Type Description <code>article_id</code> INT Article ID"},{"location":"cli/model/","title":"vodoo model","text":"<p>Generic CRUD operations for any Odoo model. Useful for ad-hoc queries and models not covered by the domain-specific commands.</p>"},{"location":"cli/model/#commands","title":"Commands","text":""},{"location":"cli/model/#create","title":"create","text":"<p>Create a new record in any model.</p> <p>Examples:     vodoo model create product.template name=\"My Product\" list_price=29.99</p> <pre><code>vodoo model create res.partner name=\"John Doe\" email=john@example.com\n\nvodoo model create project.task name=\"New Task\" project_id=10\n</code></pre> <p>Arguments:</p> Argument Type Description <code>model</code> TEXT Model name (e.g., product.template) <code>fields</code> TEXT Field assignments in format 'field=value'"},{"location":"cli/model/#read","title":"read","text":"<p>Read record(s) from any model.</p> <p>Examples:     # Read specific record     vodoo model read product.template 42</p> <pre><code># Search records\nvodoo model read product.template --domain='[[\"list_price\",\"&gt;\",\"20.00\"]]'\n\n# With specific fields\nvodoo model read res.partner --field name --field email --limit 10\n</code></pre> <p>Arguments:</p> Argument Type Description <code>model</code> TEXT Model name <code>record_id</code> INT Record ID (optional) <p>Options:</p> Option Type Description <code>--domain</code> TEXT Search domain as JSON string <code>--field</code> / <code>-f</code> TEXT Fields to fetch <code>--limit</code> INT Maximum number of records (default: 50)"},{"location":"cli/model/#update","title":"update","text":"<p>Update a record in any model.</p> <p>HTML fields automatically convert markdown to HTML.</p> <p>Examples:     vodoo model update product.template 42 list_price=39.99 active=true</p> <pre><code>vodoo model update res.partner 123 name=\"Jane Doe\" phone=\"+1234567890\"\n</code></pre> <p>Arguments:</p> Argument Type Description <code>model</code> TEXT Model name <code>record_id</code> INT Record ID <code>fields</code> TEXT Field assignments in format 'field=value' <p>Options:</p> Option Type Description <code>--no-markdown</code> BOOL Disable markdown to HTML conversion for HTML fields"},{"location":"cli/model/#delete","title":"delete","text":"<p>Delete a record from any model.</p> <p>Examples:     vodoo model delete product.template 42</p> <p>Arguments:</p> Argument Type Description <code>model</code> TEXT Model name <code>record_id</code> INT Record ID"},{"location":"cli/model/#call","title":"call","text":"<p>Call a method on a model.</p> <p>Examples:     vodoo model call res.partner name_search --args '[\"John\"]'     vodoo model call res.partner search --kwargs '{\"domain\": [[\"name\", \"ilike\", \"acme\"]]}'</p> <p>Arguments:</p> Argument Type Description <code>model</code> TEXT Model name <code>method</code> TEXT Method to call <p>Options:</p> Option Type Description <code>--args</code> TEXT JSON array of arguments (default: []) <code>--kwargs</code> TEXT JSON object of kwargs (default: {})"},{"location":"cli/project-task/","title":"vodoo project-task","text":"<p>Manage Odoo Project Tasks.</p>"},{"location":"cli/project-task/#commands","title":"Commands","text":""},{"location":"cli/project-task/#list","title":"list","text":"<p>List project tasks.</p> <p>Options:</p> Option Type Description <code>--project</code> TEXT Filter by project name <code>--stage</code> TEXT Filter by stage name <code>--assigned-to</code> TEXT Filter by assigned user name <code>--limit</code> INT Maximum number of tasks (default: 50) <code>--field</code> / <code>-f</code> TEXT Specific fields to fetch (can be used multiple times)"},{"location":"cli/project-task/#create","title":"create","text":"<p>Create a new project task.</p> <p>Examples:     vodoo project-task create \"Fix login bug\" --project 10     vodoo project-task create \"Review PR\" -p 10 --user 5 --tag 1 --tag 2     vodoo project-task create \"Subtask\" -p 10 --parent 42</p> <p>Arguments:</p> Argument Type Description <code>name</code> TEXT Task name <p>Options:</p> Option Type Description <code>--project</code> / <code>-p</code> INT Project ID (required) <code>--desc</code> / <code>-d</code> TEXT Task description <code>--user</code> / <code>-u</code> INT Assigned user ID (can repeat) <code>--tag</code> / <code>-t</code> INT Tag ID (can repeat) <code>--parent</code> INT Parent task ID for subtask"},{"location":"cli/project-task/#show","title":"show","text":"<p>Show detailed task information.</p> <p>Arguments:</p> Argument Type Description <code>task_id</code> INT Task ID <p>Options:</p> Option Type Description <code>--field</code> / <code>-f</code> TEXT Specific fields to fetch (can be used multiple times) <code>--html</code> BOOL Show raw HTML description instead of markdown"},{"location":"cli/project-task/#comment","title":"comment","text":"<p>Add a comment to a task (visible to followers).</p> <p>Arguments:</p> Argument Type Description <code>task_id</code> INT Task ID <code>message</code> TEXT Comment message <p>Options:</p> Option Type Description <code>--author</code> / <code>-a</code> INT User ID to post as <code>--no-markdown</code> BOOL Disable markdown to HTML conversion"},{"location":"cli/project-task/#note","title":"note","text":"<p>Add an internal note to a task.</p> <p>Arguments:</p> Argument Type Description <code>task_id</code> INT Task ID <code>message</code> TEXT Note message <p>Options:</p> Option Type Description <code>--author</code> / <code>-a</code> INT User ID to post as <code>--no-markdown</code> BOOL Disable markdown to HTML conversion"},{"location":"cli/project-task/#tags","title":"tags","text":"<p>List available project tags.</p>"},{"location":"cli/project-task/#tag","title":"tag","text":"<p>Add a tag to a task.</p> <p>Arguments:</p> Argument Type Description <code>task_id</code> INT Task ID <code>tag_id</code> INT Tag ID"},{"location":"cli/project-task/#tag-create","title":"tag-create","text":"<p>Create a new project tag.</p> <p>Arguments:</p> Argument Type Description <code>name</code> TEXT Tag name <p>Options:</p> Option Type Description <code>--color</code> INT Tag color index (0-11)"},{"location":"cli/project-task/#tag-delete","title":"tag-delete","text":"<p>Delete a project tag.</p> <p>Arguments:</p> Argument Type Description <code>tag_id</code> INT Tag ID to delete <p>Options:</p> Option Type Description <code>--confirm</code> BOOL Confirm deletion"},{"location":"cli/project-task/#chatter","title":"chatter","text":"<p>Show message history/chatter for a task.</p> <p>Arguments:</p> Argument Type Description <code>task_id</code> INT Task ID <p>Options:</p> Option Type Description <code>--limit</code> INT Maximum number of messages to show <code>--html</code> BOOL Show raw HTML body instead of plain text"},{"location":"cli/project-task/#attachments","title":"attachments","text":"<p>List attachments for a task.</p> <p>Arguments:</p> Argument Type Description <code>task_id</code> INT Task ID"},{"location":"cli/project-task/#download","title":"download","text":"<p>Download a single attachment by ID.</p> <p>Arguments:</p> Argument Type Description <code>attachment_id</code> INT Attachment ID <p>Options:</p> Option Type Description <code>--output</code> PATH Output file path (defaults to attachment name)"},{"location":"cli/project-task/#download-all","title":"download-all","text":"<p>Download all attachments from a task.</p> <p>Arguments:</p> Argument Type Description <code>task_id</code> INT Task ID <p>Options:</p> Option Type Description <code>--output</code> / <code>-o</code> PATH Output directory (defaults to current directory) <code>--extension</code> / <code>--ext</code> TEXT Filter by file extension (e.g., pdf, jpg, png)"},{"location":"cli/project-task/#fields","title":"fields","text":"<p>List available fields or show field values for a specific task.</p> <p>Arguments:</p> Argument Type Description <code>task_id</code> INT Task ID (optional) <p>Options:</p> Option Type Description <code>--field-name</code> TEXT Show details for a specific field"},{"location":"cli/project-task/#set","title":"set","text":"<p>Set field values on a task.</p> <pre><code>Supports operators: =, +=, -=, *=, /=\nHTML fields (like description) automatically convert markdown to HTML.\n\nExamples:\n    vodoo project-task set 42 priority=1 name=\"New Task Title\"\n    vodoo project-task set 42 'user_ids=json:[[6,0,[5]]]' stage_id=3\n    vodoo project-task set 42 project_id=10\n    vodoo project-task set 42 priority+=1\n    vodoo project-task set 42 'description=# Task Details\n</code></pre> <ul> <li>Item 1</li> <li>Item 2'</li> </ul> <p>Arguments:</p> Argument Type Description <code>task_id</code> INT Task ID <code>fields</code> TEXT Field assignments in format 'field=value' or 'field+=amount' <p>Options:</p> Option Type Description <code>--no-markdown</code> BOOL Disable markdown to HTML conversion for HTML fields"},{"location":"cli/project-task/#attach","title":"attach","text":"<p>Attach a file to a task.</p> <p>Arguments:</p> Argument Type Description <code>task_id</code> INT Task ID <code>file_path</code> PATH Path to file to attach <p>Options:</p> Option Type Description <code>--name</code> / <code>-n</code> TEXT Custom attachment name (defaults to filename)"},{"location":"cli/project-task/#url","title":"url","text":"<p>Get the web URL for a task.</p> <p>Arguments:</p> Argument Type Description <code>task_id</code> INT Task ID"},{"location":"cli/project/","title":"vodoo project","text":"<p>Manage Odoo Projects (<code>project.project</code>).</p>"},{"location":"cli/project/#commands","title":"Commands","text":""},{"location":"cli/project/#list","title":"list","text":"<p>List projects.</p> <p>Options:</p> Option Type Description <code>--name</code> TEXT Filter by project name <code>--user</code> TEXT Filter by project manager name <code>--partner</code> TEXT Filter by partner name <code>--limit</code> INT Maximum number of projects (default: 50) <code>--field</code> / <code>-f</code> TEXT Specific fields to fetch (can be used multiple times)"},{"location":"cli/project/#show","title":"show","text":"<p>Show detailed project information.</p> <p>Arguments:</p> Argument Type Description <code>project_id</code> INT Project ID <p>Options:</p> Option Type Description <code>--field</code> / <code>-f</code> TEXT Specific fields to fetch (can be used multiple times) <code>--html</code> BOOL Show raw HTML description instead of markdown"},{"location":"cli/project/#comment","title":"comment","text":"<p>Add a comment to a project (visible to followers).</p> <p>Arguments:</p> Argument Type Description <code>project_id</code> INT Project ID <code>message</code> TEXT Comment message <p>Options:</p> Option Type Description <code>--author</code> / <code>-a</code> INT User ID to post as <code>--no-markdown</code> BOOL Disable markdown to HTML conversion"},{"location":"cli/project/#note","title":"note","text":"<p>Add an internal note to a project.</p> <p>Arguments:</p> Argument Type Description <code>project_id</code> INT Project ID <code>message</code> TEXT Note message <p>Options:</p> Option Type Description <code>--author</code> / <code>-a</code> INT User ID to post as <code>--no-markdown</code> BOOL Disable markdown to HTML conversion"},{"location":"cli/project/#chatter","title":"chatter","text":"<p>Show message history/chatter for a project.</p> <p>Arguments:</p> Argument Type Description <code>project_id</code> INT Project ID <p>Options:</p> Option Type Description <code>--limit</code> INT Maximum number of messages to show <code>--html</code> BOOL Show raw HTML body instead of plain text"},{"location":"cli/project/#attachments","title":"attachments","text":"<p>List attachments for a project.</p> <p>Arguments:</p> Argument Type Description <code>project_id</code> INT Project ID"},{"location":"cli/project/#fields","title":"fields","text":"<p>List available fields or show field values for a specific project.</p> <p>Arguments:</p> Argument Type Description <code>project_id</code> INT Project ID (optional) <p>Options:</p> Option Type Description <code>--field-name</code> TEXT Show details for a specific field"},{"location":"cli/project/#set","title":"set","text":"<p>Set field values on a project.</p> <p>Supports operators: =, +=, -=, *=, /= HTML fields automatically convert markdown to HTML.</p> <p>Examples:     vodoo project set 42 name=\"New Project Name\"     vodoo project set 42 user_id=5</p> <p>Arguments:</p> Argument Type Description <code>project_id</code> INT Project ID <code>fields</code> TEXT Field assignments in format 'field=value' or 'field+=amount' <p>Options:</p> Option Type Description <code>--no-markdown</code> BOOL Disable markdown to HTML conversion for HTML fields"},{"location":"cli/project/#attach","title":"attach","text":"<p>Attach a file to a project.</p> <p>Arguments:</p> Argument Type Description <code>project_id</code> INT Project ID <code>file_path</code> PATH Path to file to attach <p>Options:</p> Option Type Description <code>--name</code> / <code>-n</code> TEXT Custom attachment name (defaults to filename)"},{"location":"cli/project/#url","title":"url","text":"<p>Get the web URL for a project.</p> <p>Arguments:</p> Argument Type Description <code>project_id</code> INT Project ID"},{"location":"cli/project/#stages","title":"stages","text":"<p>List task stages for projects.</p> <p>Shows all stages or only stages available for a specific project.</p> <p>Examples:     vodoo project stages              # All stages     vodoo project stages --project 10 # Stages for project ID 10</p> <p>Options:</p> Option Type Description <code>--project</code> / <code>-p</code> INT Filter stages by project ID"},{"location":"cli/security/","title":"vodoo security","text":"<p>Manage Vodoo API security groups and service accounts. See the full Security Guide for architecture details.</p>"},{"location":"cli/security/#commands","title":"Commands","text":""},{"location":"cli/security/#create-groups","title":"create-groups","text":"<p>Create or reuse the standard Vodoo security groups.</p>"},{"location":"cli/security/#assign-bot","title":"assign-bot","text":"<p>Assign a bot user to all Vodoo API security groups.</p> <p>Options:</p> Option Type Description <code>--user-id</code> / <code>-u</code> INT User ID of the bot account <code>--login</code> TEXT User login/email for the bot account <code>--create-groups</code> / <code>--no-create-groups</code> BOOL Ensure Vodoo API groups exist before assigning (default: True) <code>--keep-default-groups</code> BOOL Do not remove base.group_user or base.group_portal"},{"location":"cli/security/#create-user","title":"create-user","text":"<p>Create a new API service account user.</p> <p>Creates a share user (not billed) with no default groups. Optionally assigns to all Vodoo API security groups.</p> <p>NOTE: Requires admin credentials (Access Rights group).</p> <p>Examples:     vodoo security create-user \"Bot User\" bot@example.com     vodoo security create-user \"Bot User\" bot@example.com --password MySecretPass123     vodoo security create-user \"Bot User\" bot@example.com --assign-groups</p> <pre><code># With admin credentials:\nODOO_USERNAME=admin@example.com ODOO_PASSWORD=... vodoo security create-user ...\n</code></pre> <p>Arguments:</p> Argument Type Description <code>name</code> TEXT User's display name <code>login</code> TEXT User's login (usually email) <p>Options:</p> Option Type Description <code>--password</code> / <code>-p</code> TEXT User's password (generated if not provided) <code>--email</code> / <code>-e</code> TEXT User's email (defaults to login) <code>--assign-groups</code> / <code>--no-assign-groups</code> BOOL Assign user to all Vodoo API security groups <code>--create-groups</code> / <code>--no-create-groups</code> BOOL Create Vodoo API groups if they don't exist (requires --assign-groups) (default: True)"},{"location":"cli/security/#set-password","title":"set-password","text":"<p>Set or reset a user's password.</p> <p>NOTE: Requires admin credentials (Access Rights group).</p> <p>Examples:     vodoo security set-password --login bot@example.com     vodoo security set-password --user-id 42 --password MyNewPassword123</p> <p>Options:</p> Option Type Description <code>--user-id</code> / <code>-u</code> INT User ID <code>--login</code> / <code>-l</code> TEXT User login/email <code>--password</code> / <code>-p</code> TEXT New password (generated if not provided)"},{"location":"cli/timer/","title":"vodoo timer","text":"<p>Manage timers and timesheets.</p>"},{"location":"cli/timer/#commands","title":"Commands","text":""},{"location":"cli/timer/#status","title":"status","text":"<p>Show today's timesheets and running timers.</p>"},{"location":"cli/timer/#start","title":"start","text":"<p>Start a timer on a task, ticket, or timesheet.</p> <p>Examples:     vodoo timer start 42                    # Start timer on task 42     vodoo timer start 42 --source task      # Same as above     vodoo timer start 10 --source ticket    # Start timer on ticket 10     vodoo timer start 99 --source timesheet # Start on existing timesheet</p> <p>Arguments:</p> Argument Type Description <code>record_id</code> INT Task, ticket, or timesheet ID <p>Options:</p> Option Type Description <code>--source</code> / <code>-s</code> TEXT Source type: 'task', 'ticket', or 'timesheet' (default: task) (default: task)"},{"location":"cli/timer/#stop","title":"stop","text":"<p>Stop a running timer.</p> <p>If no timesheet ID is given, stops all currently running timers.</p> <p>Examples:     vodoo timer stop         # Stop all running timers     vodoo timer stop 99      # Stop timer on timesheet 99</p> <p>Arguments:</p> Argument Type Description <code>timesheet_id</code> INT Timesheet ID to stop (omit to stop all running timers)"},{"location":"cli/timer/#active","title":"active","text":"<p>Show only currently running timers.</p>"},{"location":"development/architecture/","title":"Architecture","text":""},{"location":"development/architecture/#overview","title":"Overview","text":"<p>Vodoo follows a layered architecture where domain modules delegate shared operations to a base layer, and the transport layer handles protocol differences between Odoo versions. The entire stack is available in both sync and async variants.</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    CLI (main.py)                     \u2502\n\u2502              Typer subcommands + Rich UI             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              Domain Modules                          \u2502\n\u2502  helpdesk \u2502 project \u2502 crm \u2502 knowledge \u2502 timer \u2502 ...  \u2502\n\u2502           (sync in vodoo.*, async in vodoo.aio.*)    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              Base Layer                              \u2502\n\u2502  base.py / aio/base.py \u2014 CRUD, messaging, display   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              Client                                  \u2502\n\u2502  OdooClient (sync) \u2502 AsyncOdooClient (async)         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              Transport                               \u2502\n\u2502  Sync: LegacyTransport / JSON2Transport (httpx)      \u2502\n\u2502  Async: AsyncLegacyTransport / AsyncJSON2Transport   \u2502\n\u2502         (httpx)                                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              Exceptions (exceptions.py)              \u2502\n\u2502  VodooError \u2192 TransportError \u2192 OdooUserError \u2192 ...   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"development/architecture/#design-patterns","title":"Design Patterns","text":""},{"location":"development/architecture/#domain-delegation","title":"Domain Delegation","text":"<p>Each domain module defines a <code>MODEL</code> constant and thin wrappers around <code>base.py</code> functions:</p> <pre><code># helpdesk.py (sync) / aio/helpdesk.py (async)\nMODEL = \"helpdesk.ticket\"\nTAG_MODEL = \"helpdesk.tag\"\n\ndef add_comment(client, ticket_id, message, ...):\n    return base_add_comment(client, MODEL, ticket_id, message, ...)\n</code></pre> <p>This keeps domain modules focused on model-specific concerns (field names, default fields) while all shared logic lives in <code>base.py</code>.</p>"},{"location":"development/architecture/#sync-async-parity","title":"Sync / Async Parity","text":"<p>Every sync module under <code>vodoo.*</code> has an async mirror under <code>vodoo.aio.*</code> with identical function signatures (but <code>async def</code> / <code>await</code>). The two stacks share:</p> <ul> <li><code>config.py</code> \u2014 configuration (no I/O)</li> <li><code>exceptions.py</code> \u2014 exception hierarchy</li> <li><code>timer.py</code> data classes (<code>Timesheet</code>, <code>TimerBackend</code> etc.)</li> </ul>"},{"location":"development/architecture/#transport-abstraction","title":"Transport Abstraction","text":"<p>The <code>OdooTransport</code> ABC defines the interface. Four implementations exist:</p> Transport Odoo Versions Protocol HTTP Library <code>LegacyTransport</code> 17\u201318 <code>POST /jsonrpc</code> <code>httpx</code> <code>JSON2Transport</code> 19+ <code>POST /json/2/&lt;model&gt;/&lt;method&gt;</code> <code>httpx</code> <code>AsyncLegacyTransport</code> 17\u201318 <code>POST /jsonrpc</code> <code>httpx</code> <code>AsyncJSON2Transport</code> 19+ <code>POST /json/2/&lt;model&gt;/&lt;method&gt;</code> <code>httpx</code> <p>Auto-detection happens on client init: it tries JSON-2 first, falls back to legacy.</p>"},{"location":"development/architecture/#exception-mapping","title":"Exception Mapping","text":"<p>The transport layer inspects <code>data.name</code> in JSON-RPC error responses and maps Odoo server exceptions to typed Python exceptions:</p> <pre><code>odoo.exceptions.AccessError    \u2192 OdooAccessError\nodoo.exceptions.AccessDenied   \u2192 OdooAccessDeniedError\nodoo.exceptions.UserError      \u2192 OdooUserError\nodoo.exceptions.ValidationError \u2192 OdooValidationError\nodoo.exceptions.MissingError   \u2192 OdooMissingError\n</code></pre> <p>This is handled by <code>transport_error_from_data()</code> using <code>ODOO_EXCEPTION_MAP</code> in <code>exceptions.py</code>.</p>"},{"location":"development/architecture/#configuration","title":"Configuration","text":"<p><code>OdooConfig</code> uses Pydantic Settings to merge values from:</p> <ol> <li>Environment variables (<code>ODOO_URL</code>, etc.)</li> <li><code>.env</code> files (searched in priority order)</li> <li>Direct constructor arguments</li> </ol>"},{"location":"development/architecture/#versioning","title":"Versioning","text":"<p>The version is derived from git tags via <code>hatch-vcs</code> \u2014 no hardcoded version string. <code>__init__.py</code> reads it at runtime via <code>importlib.metadata.version(\"vodoo\")</code>.</p>"},{"location":"development/architecture/#module-responsibilities","title":"Module Responsibilities","text":"Module Responsibility <code>main.py</code> CLI commands via Typer, output formatting <code>client.py</code> Sync client, transport auto-detection <code>aio/client.py</code> Async client, lazy transport init, context manager <code>transport.py</code> Sync HTTP (<code>httpx</code>) <code>aio/transport.py</code> Async HTTP (<code>httpx</code>) <code>config.py</code> Configuration loading and validation <code>exceptions.py</code> Exception hierarchy + Odoo error mapping <code>auth.py</code> / <code>aio/auth.py</code> Sudo operations, message posting as other users <code>base.py</code> / <code>aio/base.py</code> Shared CRUD, messaging, attachments, Rich display <code>security.py</code> / <code>aio/security.py</code> Security group creation, user management"},{"location":"development/architecture/#transport-protocol-details","title":"Transport Protocol Details","text":""},{"location":"development/architecture/#legacy-json-rpc-odoo-1718","title":"Legacy JSON-RPC (Odoo 17\u201318)","text":"<pre><code>POST /jsonrpc\n{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"call\",\n  \"params\": {\n    \"service\": \"object\",\n    \"method\": \"execute_kw\",\n    \"args\": [db, uid, password, model, method, args, kwargs]\n  }\n}\n</code></pre>"},{"location":"development/architecture/#json-2-odoo-19","title":"JSON-2 (Odoo 19+)","text":"<pre><code>POST /json/2/res.partner/search_read\nAuthorization: bearer &lt;api-key&gt;\nX-Odoo-Database: &lt;db&gt;\n{\n  \"domain\": [[\"is_company\", \"=\", true]],\n  \"fields\": [\"name\", \"email\"],\n  \"limit\": 10\n}\n</code></pre> <p>JSON-2 is ~3-4\u00d7 faster due to reduced envelope overhead and direct model routing.</p>"},{"location":"development/architecture/#http-dependencies","title":"HTTP Dependencies","text":"<ul> <li>Sync \u2014 uses httpx for HTTP</li> <li>Async \u2014 uses httpx for non-blocking HTTP</li> </ul>"},{"location":"development/contributing/","title":"Contributing","text":"<p>Contributions are welcome! Please feel free to submit a Pull Request.</p>"},{"location":"development/contributing/#development-setup","title":"Development Setup","text":"<ol> <li>Fork the repository</li> <li>Clone your fork:    <pre><code>git clone https://github.com/YOUR_USERNAME/vodoo.git\ncd vodoo\n</code></pre></li> <li>Install development dependencies:    <pre><code>uv sync --all-extras\n</code></pre></li> <li>Create a feature branch:    <pre><code>git checkout -b feature/my-new-feature\n</code></pre></li> </ol>"},{"location":"development/contributing/#code-quality","title":"Code Quality","text":"<p>Run all checks before submitting:</p> <pre><code># Linting\nuv run ruff check .\n\n# Auto-fix lint issues\nuv run ruff check --fix .\n\n# Formatting\nuv run ruff format .\n\n# Type checking\nuv run mypy src/vodoo\n</code></pre>"},{"location":"development/contributing/#code-style","title":"Code Style","text":"<ul> <li>Python 3.12+ with strict mypy typing</li> <li>ruff for linting and formatting (line length: 100)</li> <li>All functions must have type hints</li> <li>Use <code>Path</code> objects for file operations</li> <li>Use Rich for terminal output</li> <li>Google-style docstrings for all public functions</li> </ul>"},{"location":"development/contributing/#project-structure","title":"Project Structure","text":"<pre><code>vodoo/\n\u251c\u2500\u2500 src/vodoo/\n\u2502   \u251c\u2500\u2500 __init__.py           # Public API exports\n\u2502   \u251c\u2500\u2500 main.py               # CLI entry point (Typer)\n\u2502   \u251c\u2500\u2500 client.py             # OdooClient (sync)\n\u2502   \u251c\u2500\u2500 transport.py          # Sync transport (JSON-RPC / JSON-2, httpx)\n\u2502   \u251c\u2500\u2500 config.py             # Pydantic configuration\n\u2502   \u251c\u2500\u2500 exceptions.py         # Exception hierarchy (incl. Odoo server errors)\n\u2502   \u251c\u2500\u2500 auth.py               # Authentication / sudo\n\u2502   \u251c\u2500\u2500 base.py               # Shared CRUD / messaging / display helpers\n\u2502   \u251c\u2500\u2500 helpdesk.py           # Helpdesk operations\n\u2502   \u251c\u2500\u2500 project.py            # Project task operations\n\u2502   \u251c\u2500\u2500 project_project.py    # Project operations\n\u2502   \u251c\u2500\u2500 crm.py                # CRM operations\n\u2502   \u251c\u2500\u2500 knowledge.py          # Knowledge articles\n\u2502   \u251c\u2500\u2500 generic.py            # Generic model CRUD\n\u2502   \u251c\u2500\u2500 security.py           # Security groups\n\u2502   \u251c\u2500\u2500 timer.py              # Timers / timesheets\n\u2502   \u2514\u2500\u2500 aio/                  # Async API (mirrors sync modules)\n\u2502       \u251c\u2500\u2500 __init__.py       # AsyncOdooClient export\n\u2502       \u251c\u2500\u2500 client.py         # AsyncOdooClient\n\u2502       \u251c\u2500\u2500 transport.py      # Async transport (httpx)\n\u2502       \u251c\u2500\u2500 auth.py           # Async auth / sudo\n\u2502       \u251c\u2500\u2500 base.py           # Async shared helpers\n\u2502       \u251c\u2500\u2500 helpdesk.py       # Async helpdesk\n\u2502       \u251c\u2500\u2500 project.py        # Async project tasks\n\u2502       \u251c\u2500\u2500 project_project.py\n\u2502       \u251c\u2500\u2500 crm.py            # Async CRM\n\u2502       \u251c\u2500\u2500 knowledge.py      # Async knowledge\n\u2502       \u251c\u2500\u2500 generic.py        # Async generic CRUD\n\u2502       \u251c\u2500\u2500 security.py       # Async security\n\u2502       \u2514\u2500\u2500 timer.py          # Async timers\n\u251c\u2500\u2500 tests/integration/        # Docker-based integration tests\n\u251c\u2500\u2500 docs/                     # MkDocs documentation\n\u251c\u2500\u2500 mkdocs.yml                # MkDocs Material + mike versioning\n\u2514\u2500\u2500 pyproject.toml\n</code></pre>"},{"location":"development/contributing/#versioning","title":"Versioning","text":"<p>The version is derived from git tags via <code>hatch-vcs</code> \u2014 there is no hardcoded version string anywhere.</p> <ul> <li><code>pyproject.toml</code> uses <code>dynamic = [\"version\"]</code></li> <li><code>__init__.py</code> reads the version at runtime via <code>importlib.metadata</code></li> <li><code>_version.py</code> is auto-generated at build time (gitignored)</li> </ul> <p>To release: just create a tag and push it. See Releasing below.</p>"},{"location":"development/contributing/#submitting-changes","title":"Submitting Changes","text":"<ol> <li>Commit your changes: <code>git commit -am 'Add some feature'</code></li> <li>Push to your branch: <code>git push origin feature/my-new-feature</code></li> <li>Open a Pull Request against <code>main</code></li> </ol>"},{"location":"development/contributing/#building-documentation","title":"Building Documentation","text":"<pre><code># Install doc dependencies\nuv sync --extra docs\n\n# Serve locally with hot-reload\nuv run mkdocs serve\n\n# Build static site\nuv run mkdocs build\n\n# Build in strict mode (fails on warnings)\nuv run mkdocs build --strict\n</code></pre> <p>Documentation is versioned with mike and deployed to GitHub Pages on each release.</p>"},{"location":"development/contributing/#releasing","title":"Releasing","text":"<ol> <li>Create and push a git tag: <code>git tag vX.Y.Z &amp;&amp; git push origin vX.Y.Z</code></li> <li>Create a GitHub release from the tag</li> <li>GitHub Actions automatically: builds package \u2192 publishes to PyPI \u2192 deploys versioned docs</li> </ol>"},{"location":"development/contributing/#reporting-issues","title":"Reporting Issues","text":"<p>Please report issues at: github.com/julian-r/vodoo/issues</p>"},{"location":"development/integration-tests/","title":"Integration Tests","text":"<p>Automated integration tests that run vodoo against real Odoo instances via Docker.</p>"},{"location":"development/integration-tests/#quick-start","title":"Quick Start","text":"<pre><code># Run against all community versions (17, 18, 19)\n./tests/integration/run.sh\n\n# Run a specific version\n./tests/integration/run.sh 19\n\n# Run with enterprise edition\nENTERPRISE=1 ./tests/integration/run.sh 19\n\n# Run all versions, both editions\nENTERPRISE=1 ./tests/integration/run.sh 17 18 19\n\n# Keep containers after tests (for debugging)\nKEEP=1 ./tests/integration/run.sh 19\n</code></pre>"},{"location":"development/integration-tests/#what-gets-tested","title":"What Gets Tested","text":""},{"location":"development/integration-tests/#community-all-versions","title":"Community (all versions)","text":"<ul> <li>Generic CRUD \u2014 create, read, update, delete on <code>res.partner</code></li> <li>Project (<code>project.project</code>) \u2014 list, get, update, comments, notes, attachments, stages</li> <li>Project Tasks (<code>project.task</code>) \u2014 full CRUD, tags, subtasks, attachments</li> <li>CRM (<code>crm.lead</code>) \u2014 leads/opportunities, tags, attachments, comments</li> <li>Security \u2014 group creation, user management, password setting, group assignment</li> </ul>"},{"location":"development/integration-tests/#enterprise-requires-enterprise-addons","title":"Enterprise (requires enterprise addons)","text":"<ul> <li>Helpdesk (<code>helpdesk.ticket</code>) \u2014 tickets, tags, comments, attachments</li> <li>Knowledge (<code>knowledge.article</code>) \u2014 articles, comments, notes</li> <li>Timer/Timesheet \u2014 start/stop timers, today's timesheets</li> </ul>"},{"location":"development/integration-tests/#transport-layer","title":"Transport Layer","text":"<ul> <li>Verifies Odoo 17/18 use <code>LegacyTransport</code> (JSON-RPC)</li> <li>Verifies Odoo 19 uses <code>JSON2Transport</code> (JSON-2 bearer auth)</li> </ul>"},{"location":"development/integration-tests/#architecture","title":"Architecture","text":"<pre><code>tests/integration/\n\u251c\u2500\u2500 run.sh                  # End-to-end orchestrator\n\u251c\u2500\u2500 setup_odoo.py           # DB provisioning + API key creation\n\u251c\u2500\u2500 conftest.py             # pytest fixtures and markers\n\u251c\u2500\u2500 test_suite.py           # 60 test cases across 9 classes\n\u251c\u2500\u2500 docker-compose.yml      # Parameterized compose file\n\u251c\u2500\u2500 Dockerfile.enterprise   # Builds enterprise image from addons\n\u251c\u2500\u2500 odoo.conf               # Community Odoo config\n\u2514\u2500\u2500 odoo-enterprise.conf    # Enterprise Odoo config (with addons_path)\n</code></pre>"},{"location":"development/integration-tests/#port-mapping","title":"Port Mapping","text":"Version Community Enterprise 17 17069 17169 18 18069 18169 19 19069 19169"},{"location":"development/integration-tests/#enterprise-addons","title":"Enterprise Addons","text":"<p>The enterprise test images are built from enterprise addons directories. The runner looks for addons in this order:</p> <ol> <li>Version-specific env var: <code>ENTERPRISE_ADDONS_17</code>, <code>ENTERPRISE_ADDONS_18</code>, etc.</li> <li>Git worktree convention: <code>/tmp/enterprise-17</code>, <code>/tmp/enterprise-18</code></li> <li>Default: <code>ENTERPRISE_ADDONS</code> env var or <code>~/src/makespan/odoo/enterprise-addons</code></li> </ol> <p>To set up enterprise addons for multiple versions:</p> <pre><code>cd ~/src/makespan/odoo/enterprise-addons  # or wherever your enterprise repo is\ngit fetch origin 17.0 18.0 19.0\ngit worktree add /tmp/enterprise-17 origin/17.0\ngit worktree add /tmp/enterprise-18 origin/18.0\n# 19.0 is assumed to be the default checkout\n</code></pre>"},{"location":"development/integration-tests/#api-key-creation","title":"API Key Creation","text":"<p>API keys cannot be created via JSON-RPC (Odoo's <code>@check_identity</code> wizard blocks it). Instead, <code>setup_odoo.py</code> runs <code>odoo shell</code> inside the Docker container to call <code>_generate()</code> directly. Key differences by version:</p> <ul> <li>Odoo 17: <code>_generate(scope, name)</code> \u2014 2 args</li> <li>Odoo 18+: <code>_generate(scope, name, expiration_date)</code> \u2014 3 args</li> </ul> <p>The key is bound to the admin user (not <code>__system__</code>) via <code>with_user(admin).sudo()</code>.</p>"},{"location":"development/integration-tests/#environment-files","title":"Environment Files","text":"<p>Each test run creates a <code>.env.test.&lt;suffix&gt;</code> file (gitignored):</p> <pre><code>ODOO_URL=http://localhost:19069\nODOO_DATABASE=vodoo_test_19\nODOO_USERNAME=admin\nODOO_PASSWORD=&lt;api-key&gt;\nODOO_MAJOR_VERSION=19\nODOO_ENTERPRISE=0\n</code></pre>"},{"location":"development/integration-tests/#bugs-found","title":"Bugs Found","text":"<p>These bugs in vodoo were discovered and fixed by the integration tests:</p> <ol> <li><code>transport.py</code> \u2014 JSON-2 <code>create</code> used <code>values</code> param instead of <code>vals_list</code> (list), and <code>write</code> used <code>values</code> instead of <code>vals</code></li> <li><code>security.py</code> \u2014 Used <code>group_ids</code> field which doesn't exist in Odoo 17/18 (it's <code>groups_id</code>); added <code>_groups_field()</code> auto-detect helper</li> </ol>"},{"location":"development/security/","title":"Security &amp; Least-Privilege Service Accounts","text":"<p>Vodoo is designed to run with a dedicated service account that has only the access it needs. This minimizes risk and keeps automation actions isolated from human users.</p>"},{"location":"development/security/#quick-start-best-practice","title":"Quick Start (Best Practice)","text":"<pre><code># 1. Create a new bot user with all Vodoo API groups (requires admin)\nODOO_USERNAME=admin@example.com ODOO_PASSWORD=... \\\nvodoo security create-user \"Vodoo Bot\" bot@company.com --assign-groups\n\n# Output:\n# Created user: Vodoo Bot (id=42)\n# Login: bot@company.com\n# Password: BCgXQ7d*tYxjArk2$7vHl2t*  &lt;-- SAVE THIS!\n# Share (not billed): True\n# Assigned to 5 groups:\n#   - API Base\n#   - API CRM\n#   - API Project\n#   - API Knowledge\n#   - API Helpdesk\n\n# 2. Configure vodoo to use the new bot\ncat &gt; .env &lt;&lt; EOF\nODOO_URL=https://your-instance.odoo.com\nODOO_DATABASE=your-database\nODOO_USERNAME=bot@company.com\nODOO_PASSWORD=BCgXQ7d*tYxjArk2$7vHl2t*\nEOF\n\n# 3. Add bot as follower to projects (for project access)\n# See \"Project Visibility\" section below\n</code></pre>"},{"location":"development/security/#cli-commands","title":"CLI Commands","text":""},{"location":"development/security/#create-a-service-account","title":"Create a Service Account","text":"<pre><code># Basic (generates password)\nvodoo security create-user \"Bot Name\" bot@company.com\n\n# With specific password\nvodoo security create-user \"Bot Name\" bot@company.com --password MySecretPass123\n\n# With all Vodoo API groups assigned\nvodoo security create-user \"Bot Name\" bot@company.com --assign-groups\n\n# Without groups (add manually later)\nvodoo security create-user \"Bot Name\" bot@company.com\n</code></pre> <p>Note: Requires admin credentials (Access Rights group).</p>"},{"location":"development/security/#create-security-groups","title":"Create Security Groups","text":"<pre><code># Create all Vodoo API groups (idempotent)\nvodoo security create-groups\n</code></pre> <p>Creates these modular groups:</p> Group Purpose API Base Core access (required for all bots) API CRM CRM leads and opportunities API Project Projects and tasks API Knowledge Knowledge base articles API Helpdesk Helpdesk tickets"},{"location":"development/security/#assign-groups-to-existing-user","title":"Assign Groups to Existing User","text":"<pre><code># Assign all groups\nvodoo security assign-bot --login bot@company.com\n\n# By user ID\nvodoo security assign-bot --user-id 42\n\n# Keep existing groups (don't remove base.group_user/portal)\nvodoo security assign-bot --login bot@company.com --keep-default-groups\n</code></pre>"},{"location":"development/security/#set-or-reset-password","title":"Set or Reset Password","text":"<pre><code># Generate new password\nvodoo security set-password --login bot@company.com\n\n# Set specific password\nvodoo security set-password --login bot@company.com --password MyNewPassword123\n\n# By user ID\nvodoo security set-password --user-id 42\n</code></pre> <p>Note: Requires admin credentials.</p>"},{"location":"development/security/#modular-permission-architecture","title":"Modular Permission Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Service Account                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502           API Base (required for all)                 \u2502  \u2502\n\u2502  \u2502  res.company, res.users, res.partner, mail.*          \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                              \u2502                              \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502     \u25bc            \u25bc           \u25bc           \u25bc            \u25bc    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 CRM  \u2502   \u2502 Project \u2502  \u2502 Know- \u2502  \u2502Helpdesk \u2502  \u2502 ... \u2502  \u2502\n\u2502  \u2502      \u2502   \u2502         \u2502  \u2502 ledge \u2502  \u2502         \u2502  \u2502     \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Principle: Assign only the groups needed for your workflow.</p>"},{"location":"development/security/#example-configurations","title":"Example Configurations","text":"<pre><code># Full access bot (all modules) - recommended for most use cases\nvodoo security create-user \"Bot\" bot@company.com --assign-groups\n\n# Create user first, then assign all groups separately\nvodoo security create-user \"Bot\" bot@company.com\nvodoo security assign-bot --login bot@company.com\n\n# Create user without any groups (for manual group assignment via Odoo UI)\nvodoo security create-user \"Bot\" bot@company.com\n</code></pre>"},{"location":"development/security/#admin-credentials-safety","title":"Admin Credentials Safety","text":"<p>Use admin credentials only when bootstrapping. Pass them inline to avoid storing in <code>.env</code>:</p> <pre><code>ODOO_USERNAME=admin@example.com \\\nODOO_PASSWORD=... \\\nvodoo security create-user \"Bot\" bot@company.com --assign-groups\n</code></pre> <p>Once setup is complete, switch to the service account for day-to-day operations.</p>"},{"location":"development/security/#key-security-properties","title":"Key Security Properties","text":"Property Value Why <code>share</code> <code>True</code> Not billed as internal user <code>base.group_user</code> Removed No web UI access <code>base.group_portal</code> Removed No portal field restrictions Groups Custom API groups only Least privilege"},{"location":"development/security/#important-limitations","title":"Important Limitations","text":""},{"location":"development/security/#project-visibility","title":"Project Visibility","text":"<p>The bot must be a follower of projects to access them.</p> <p>In Odoo UI: Open each project \u2192 Followers \u2192 Add the bot user.</p>"},{"location":"development/security/#knowledge-articles","title":"Knowledge Articles","text":"<ul> <li>\u2705 Read/write existing articles</li> <li>\u2705 Create child articles (under existing parent)</li> <li>\u274c Create root workspace articles (requires internal user)</li> <li>\u274c Delete articles (requires Administrator)</li> </ul>"},{"location":"development/security/#comments-vs-notes","title":"Comments vs Notes","text":"Type Subtype Non-internal users Comments Discussions (<code>internal=False</code>) \u2705 Allowed Internal Notes Note (<code>internal=True</code>) \u2705 Allowed (via <code>message_type=notification</code>) <p>Vodoo handles this automatically when using <code>comment</code> and <code>note</code> commands.</p>"},{"location":"development/security/#mailmessage-creation-requirements","title":"mail.message Creation Requirements","text":"<p>Creating messages directly via the Odoo API requires:</p> <ol> <li>Access rights: User must be in a group with <code>mail.message</code> create permission (API Base provides this)</li> <li>Document access: User must have access to the related document (e.g., be a follower for projects)</li> <li>Subtype: The <code>subtype_id</code> field must be provided (e.g., <code>1</code> for \"Discussions\")</li> </ol> <p>Without <code>subtype_id</code>, Odoo's security checks will reject the create operation.</p>"},{"location":"development/security/#author-impersonation-author_id","title":"Author Impersonation (author_id)","text":"<p>Share users cannot set <code>author_id</code> to a different partner when creating messages. Odoo's SaaS platform enforces this restriction.</p> User Type Can create messages Can set author_id to others Share user \u2705 (with subtype_id) \u274c Forced to own partner Internal user \u2705 \u2705 <p>To enable author impersonation, the bot must be an internal user:</p> <pre><code># Add bot to base.group_user (makes it internal)\nvodoo model call res.users write --args='[[USER_ID], {\"group_ids\": [[4, 1]]}]'\n\n# Verify (share should be False)\nvodoo model read res.users USER_ID --field share\n</code></pre> <p>Trade-off: Internal users count as paid seats on Odoo.com.</p> <p>To revert to share user:</p> <pre><code># Remove base.group_user\nvodoo model call res.users write --args='[[USER_ID], {\"group_ids\": [[3, 1]]}]'\n</code></pre>"},{"location":"development/security/#user-creation","title":"User Creation","text":"<p>Creating users requires the Access Rights group (admin only). Service accounts cannot create other users.</p>"},{"location":"development/security/#credential-rotation","title":"Credential Rotation","text":"<p>Odoo has no built-in password expiration. Implement manual rotation:</p> <ol> <li>Generate new password for the bot</li> <li>Update <code>.env</code> or secrets manager</li> <li>Test authentication</li> </ol> <pre><code># Generate and set new password (as admin)\nODOO_USERNAME=admin@example.com ODOO_PASSWORD=... \\\nvodoo security set-password --login bot@company.com\n\n# Or set a specific password\nODOO_USERNAME=admin@example.com ODOO_PASSWORD=... \\\nvodoo security set-password --login bot@company.com --password NewSecurePassword123\n</code></pre>"},{"location":"development/security/#disabling-a-service-account","title":"Disabling a Service Account","text":"<p>Immediately revoke all access:</p> <pre><code>ODOO_USERNAME=admin@example.com ODOO_PASSWORD=... \\\nvodoo model update res.users 42 active=false\n</code></pre> <p>This instantly disables password and API key authentication.</p>"},{"location":"development/security/#further-reading","title":"Further Reading","text":"<ul> <li>Odoo Security Documentation</li> </ul>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>Vodoo loads configuration from environment variables and <code>.env</code>-style files using Pydantic Settings.</p>"},{"location":"getting-started/configuration/#configuration-sources","title":"Configuration Sources","text":"<p>Files are checked in this order (first match wins):</p> <ol> <li><code>~/.config/vodoo/config.env</code> \u2014 recommended for credentials (outside project dirs)</li> <li><code>.vodoo.env</code> \u2014 project-specific config</li> <li><code>.env</code> \u2014 generic dotenv fallback</li> </ol> <p>Environment variables always take precedence over file values.</p>"},{"location":"getting-started/configuration/#required-settings","title":"Required Settings","text":"Variable Description Example <code>ODOO_URL</code> Odoo instance URL <code>https://my.odoo.com</code> <code>ODOO_DATABASE</code> Database name <code>production</code> <code>ODOO_USERNAME</code> Login username <code>bot@example.com</code> <code>ODOO_PASSWORD</code> Password or API key <code>abc123...</code>"},{"location":"getting-started/configuration/#optional-settings","title":"Optional Settings","text":"Variable Description Default <code>ODOO_DEFAULT_USER_ID</code> Default user ID for sudo/comment operations <code>None</code> <code>ODOO_RETRY_COUNT</code> Maximum retries for transient errors <code>2</code> <code>ODOO_RETRY_BACKOFF</code> Base backoff delay in seconds (exponential) <code>0.5</code> <code>ODOO_RETRY_MAX_BACKOFF</code> Maximum backoff delay in seconds <code>30.0</code>"},{"location":"getting-started/configuration/#example-config-file","title":"Example Config File","text":"<p>Create <code>~/.config/vodoo/config.env</code>:</p> <pre><code>ODOO_URL=https://my-instance.odoo.com\nODOO_DATABASE=production\nODOO_USERNAME=bot@example.com\nODOO_PASSWORD=your-api-key-here\nODOO_DEFAULT_USER_ID=42\n</code></pre> <p>Use API keys over passwords</p> <p>Odoo 14+ supports API keys. They are safer than passwords because they can be scoped and revoked independently. Generate one under Settings \u2192 Users \u2192 API Keys.</p> <p>HTTPS in production</p> <p>Vodoo warns when <code>ODOO_URL</code> does not use <code>https://</code>. Credentials are sent in cleartext over HTTP \u2014 only use it for local development.</p>"},{"location":"getting-started/configuration/#programmatic-configuration","title":"Programmatic Configuration","text":"<p>When using Vodoo as a library, pass configuration directly:</p> <pre><code>from vodoo import OdooClient, OdooConfig\n\nconfig = OdooConfig(\n    url=\"https://my.odoo.com\",\n    database=\"mydb\",\n    username=\"bot@example.com\",\n    password=\"api-key\",\n)\nclient = OdooClient(config)\n</code></pre> <p>Or load from a specific file:</p> <pre><code>from pathlib import Path\nfrom vodoo import OdooConfig\n\nconfig = OdooConfig.from_file(Path(\"/etc/vodoo/config.env\"))\n</code></pre>"},{"location":"getting-started/configuration/#security-recommendations","title":"Security Recommendations","text":"<ul> <li>Store credentials in <code>~/.config/vodoo/config.env</code> (not inside project directories)</li> <li>Use a dedicated service account with least-privilege groups</li> <li>Never commit <code>.env</code> files to version control</li> <li>Rotate API keys periodically</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#from-pypi-recommended","title":"From PyPI (recommended)","text":"pippipx (isolated CLI)uvx (run without installing) <pre><code>pip install vodoo\n</code></pre> <pre><code>pipx install vodoo\n</code></pre> <pre><code>uvx vodoo helpdesk list\n</code></pre>"},{"location":"getting-started/installation/#from-source","title":"From Source","text":"<p>This project uses uv for dependency management.</p> <pre><code># Clone the repository\ngit clone https://github.com/julian-r/vodoo.git\ncd vodoo\n\n# Install dependencies\nuv sync\n\n# Install in development mode with dev dependencies\nuv sync --all-extras\n\n# Install the CLI tool\nuv pip install -e .\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code>vodoo --help\n</code></pre> <p>You should see the list of available subcommands: <code>helpdesk</code>, <code>project-task</code>, <code>project</code>, <code>crm</code>, <code>knowledge</code>, <code>timer</code>, <code>model</code>, <code>security</code>.</p>"},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.12+</li> <li>Access to an Odoo instance (17\u201319) with JSON-RPC or JSON-2 API enabled</li> <li>Valid Odoo credentials (username/password or API key)</li> </ul>"},{"location":"getting-started/installation/#optional-dependencies","title":"Optional Dependencies","text":"<p>Install extra dependency groups for development or documentation:</p> <pre><code># Development tools (ruff, mypy, pytest)\npip install vodoo[dev]\n\n# Documentation (mkdocs-material)\npip install vodoo[docs]\n</code></pre>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>This guide walks you through your first Vodoo commands after installation and configuration.</p>"},{"location":"getting-started/quickstart/#1-test-your-connection","title":"1. Test Your Connection","text":"<pre><code># Read your own user record\nvodoo model read res.users --domain='[[\"login\",\"=\",\"your@email.com\"]]' --field name --field login\n</code></pre> <p>If this returns your user record, you're connected.</p>"},{"location":"getting-started/quickstart/#2-browse-data","title":"2. Browse Data","text":"<pre><code># List helpdesk tickets (enterprise)\nvodoo helpdesk list\n\n# List project tasks\nvodoo project-task list\n\n# List CRM leads\nvodoo crm list\n\n# List projects\nvodoo project list\n\n# List knowledge articles (enterprise)\nvodoo knowledge list\n</code></pre>"},{"location":"getting-started/quickstart/#3-search-and-filter","title":"3. Search and Filter","text":"<p>Every <code>list</code> command supports filters:</p> <pre><code># Search across text fields\nvodoo crm list --search \"acme\"\n\n# Filter by stage\nvodoo helpdesk list --stage \"In Progress\"\n\n# Combine filters\nvodoo project-task list --project \"Website Redesign\" --stage \"In Progress\" --limit 20\n</code></pre>"},{"location":"getting-started/quickstart/#4-view-details","title":"4. View Details","text":"<pre><code># Show full detail for a record\nvodoo helpdesk show 42\nvodoo crm show 15\n</code></pre>"},{"location":"getting-started/quickstart/#5-add-comments-and-notes","title":"5. Add Comments and Notes","text":"<pre><code># Internal note (not visible to customers)\nvodoo helpdesk note 42 \"Investigated \u2014 root cause is a config issue\"\n\n# Public comment (visible to customers)\nvodoo helpdesk comment 42 \"We've identified the issue and are working on a fix\"\n</code></pre>"},{"location":"getting-started/quickstart/#6-manage-timers","title":"6. Manage Timers","text":"<pre><code># Start a timer on a task\nvodoo timer start 42\n\n# Check running timers\nvodoo timer active\n\n# Stop all timers\nvodoo timer stop\n</code></pre>"},{"location":"getting-started/quickstart/#7-work-with-attachments","title":"7. Work with Attachments","text":"<pre><code># Upload a file\nvodoo helpdesk attach 42 screenshot.png\n\n# List attachments\nvodoo helpdesk attachments 42\n\n# Download an attachment by ID\nvodoo helpdesk download 789\n</code></pre>"},{"location":"getting-started/quickstart/#8-use-as-a-python-library","title":"8. Use as a Python Library","text":"<pre><code>from vodoo import OdooClient, OdooConfig\nfrom vodoo.crm import list_leads, add_note\n\nconfig = OdooConfig(\n    url=\"https://my.odoo.com\",\n    database=\"mydb\",\n    username=\"bot@example.com\",\n    password=\"api-key\",\n)\nclient = OdooClient(config)\n\n# List open opportunities\nleads = list_leads(\n    client,\n    domain=[[\"type\", \"=\", \"opportunity\"]],\n    limit=10,\n)\nfor lead in leads:\n    print(f\"{lead['id']}: {lead['name']}\")\n\n# Add a note\nadd_note(client, lead_id=42, message=\"Synced from external system\")\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li> CLI Reference \u2014 full command documentation</li> <li> API Reference \u2014 library API docs</li> <li> Security Guide \u2014 service account setup</li> <li> AI Assistants \u2014 using with Claude Code</li> </ul>"},{"location":"guide/ai-assistants/","title":"AI Assistant Integration","text":"<p>Vodoo is designed with an AI-first approach \u2014 its clear, consistent CLI structure makes it ideal for use with Claude Code, GitHub Copilot, and similar AI coding assistants.</p>"},{"location":"guide/ai-assistants/#why-it-works","title":"Why It Works","text":"<ol> <li>Consistent command patterns \u2014 every domain uses the same verbs (<code>list</code>, <code>show</code>, <code>comment</code>, <code>note</code>, <code>set</code>, <code>tag</code>, <code>attach</code>)</li> <li>Readable output \u2014 Rich tables and structured data that AI can parse</li> <li>Natural language mapping \u2014 commands map directly to plain English requests</li> <li>Simple output mode \u2014 <code>--simple</code> flag gives plain TSV for easy programmatic parsing</li> </ol>"},{"location":"guide/ai-assistants/#example-workflow-with-claude-code","title":"Example Workflow with Claude Code","text":"<pre><code>You: \"Show me all tickets assigned to me that are in progress\"\nClaude: [runs: vodoo helpdesk list --assigned-to \"Your Name\" --stage \"In Progress\"]\n\nYou: \"Add an internal note to ticket 123 saying we're waiting for customer response\"\nClaude: [runs: vodoo helpdesk note 123 \"Waiting for customer response\"]\n\nYou: \"Download all attachments from ticket 456\"\nClaude: [runs: vodoo helpdesk attachments 456, then downloads each]\n\nYou: \"What CRM opportunities are in the Proposition stage?\"\nClaude: [runs: vodoo crm list --type opportunity --stage \"Proposition\"]\n\nYou: \"Start a timer on task 42 and update its priority to high\"\nClaude: [runs: vodoo timer start 42]\nClaude: [runs: vodoo project-task set 42 priority=2]\n</code></pre>"},{"location":"guide/ai-assistants/#setting-up-for-ai-assistants","title":"Setting Up for AI Assistants","text":""},{"location":"guide/ai-assistants/#1-configure-vodoo","title":"1. Configure Vodoo","text":"<p>Ensure your credentials are set up in <code>~/.config/vodoo/config.env</code> so the AI assistant can run commands without prompting for credentials.</p>"},{"location":"guide/ai-assistants/#2-add-to-your-project-context","title":"2. Add to your project context","text":"<p>Add a note to your project's <code>CLAUDE.md</code> or equivalent AI context file:</p> <pre><code>## Odoo Integration\n\nThis project uses Vodoo (`vodoo`) CLI for Odoo operations.\nAvailable commands: helpdesk, project-task, project, crm, knowledge, timer, model, security.\nRun `vodoo &lt;command&gt; --help` for options.\n</code></pre>"},{"location":"guide/ai-assistants/#3-use-natural-language","title":"3. Use natural language","text":"<p>The AI assistant will translate your requests into the appropriate <code>vodoo</code> commands. No need to memorize syntax.</p>"},{"location":"guide/ai-assistants/#tips","title":"Tips","text":"<ul> <li>Use <code>--simple</code> when you want the AI to parse output programmatically</li> <li>The <code>model</code> subcommand lets the AI work with any Odoo model, not just the built-in ones</li> <li>Chain commands: \"List tickets, then add a note to each one mentioning the weekly review\"</li> </ul>"},{"location":"guide/library/","title":"Using Vodoo as a Library","text":"<p>Vodoo is not just a CLI \u2014 it's a fully typed Python library you can import into your own projects.</p>"},{"location":"guide/library/#installation","title":"Installation","text":"<pre><code>pip install vodoo\n</code></pre>"},{"location":"guide/library/#basic-usage","title":"Basic Usage","text":"<pre><code>from vodoo import OdooClient, OdooConfig\n\n# Configure the connection\nconfig = OdooConfig(\n    url=\"https://my.odoo.com\",\n    database=\"production\",\n    username=\"bot@example.com\",\n    password=\"api-key-here\",\n)\n\n# Create a client (auto-detects Odoo version and transport)\nclient = OdooClient(config)\n</code></pre>"},{"location":"guide/library/#low-level-client-methods","title":"Low-Level Client Methods","text":"<p>The <code>OdooClient</code> exposes standard Odoo ORM methods:</p> <pre><code># Search for record IDs\nids = client.search(\"res.partner\", domain=[[\"is_company\", \"=\", True]], limit=10)\n\n# Read specific records\nrecords = client.read(\"res.partner\", ids=ids, fields=[\"name\", \"email\"])\n\n# Search and read in one call\npartners = client.search_read(\n    \"res.partner\",\n    domain=[[\"email\", \"ilike\", \"@acme.com\"]],\n    fields=[\"name\", \"email\", \"phone\"],\n    limit=20,\n    order=\"name asc\",\n)\n\n# Create a record\npartner_id = client.create(\"res.partner\", {\"name\": \"Acme Corp\", \"is_company\": True})\n\n# Update a record\nclient.write(\"res.partner\", [partner_id], {\"phone\": \"+1-555-0123\"})\n\n# Delete a record\nclient.unlink(\"res.partner\", [partner_id])\n\n# Autocomplete search\nresults = client.name_search(\"res.partner\", \"Acme\", limit=5)\n# Returns: [(42, \"Acme Corp\"), (43, \"Acme Inc\")]\n</code></pre>"},{"location":"guide/library/#domain-helpers","title":"Domain Helpers","text":"<p>Each domain module provides high-level functions:</p>"},{"location":"guide/library/#helpdesk","title":"Helpdesk","text":"<pre><code>from vodoo.helpdesk import (\n    list_tickets,\n    get_ticket,\n    add_comment,\n    add_note,\n    create_attachment,\n    list_attachments,\n)\n\n# List tickets\ntickets = list_tickets(client, domain=[[\"stage_id.name\", \"=\", \"In Progress\"]], limit=10)\n\n# Get a single ticket with all fields\nticket = get_ticket(client, ticket_id=42)\n\n# Add a comment (visible to customer)\nadd_comment(client, ticket_id=42, message=\"We're looking into this\")\n\n# Add an internal note\nadd_note(client, ticket_id=42, message=\"Root cause: config mismatch\")\n\n# Upload an attachment\nattachment_id = create_attachment(client, ticket_id=42, file_path=\"logs.txt\")\n</code></pre>"},{"location":"guide/library/#crm","title":"CRM","text":"<pre><code>from vodoo.crm import list_leads, add_note, set_lead_fields\n\n# List opportunities\nopps = list_leads(\n    client,\n    domain=[[\"type\", \"=\", \"opportunity\"]],\n    limit=20,\n)\n\n# Update fields\nset_lead_fields(client, lead_id=15, values={\"expected_revenue\": 50000})\n</code></pre>"},{"location":"guide/library/#project-tasks","title":"Project Tasks","text":"<pre><code>from vodoo.project import list_tasks, get_task, add_comment\n\ntasks = list_tasks(client, domain=[[\"project_id.name\", \"=\", \"Website\"]], limit=10)\ntask = get_task(client, task_id=7)\nadd_comment(client, task_id=7, message=\"Deployed to staging\")\n</code></pre>"},{"location":"guide/library/#timers","title":"Timers","text":"<pre><code>from vodoo.timer import start_timer_on_task, stop_active_timers, fetch_today_timesheets\n\n# Start a timer on a task\nstart_timer_on_task(client, task_id=42)\n\n# Get today's timesheets\ntimesheets = fetch_today_timesheets(client)\n\n# Stop all running timers\nstop_active_timers(client)\n</code></pre>"},{"location":"guide/library/#transport-layer","title":"Transport Layer","text":"<p>Vodoo auto-detects the Odoo version and selects the right transport:</p> <pre><code># Check which transport is in use\nprint(client.is_json2)  # True for Odoo 19+, False for 17-18\n\n# Access the underlying transport\ntransport = client.transport\nprint(type(transport))  # JSON2Transport or LegacyTransport\n</code></pre> <p>You can also force a specific transport:</p> <pre><code>from vodoo.transport import LegacyTransport, JSON2Transport\n\n# Force legacy JSON-RPC\ntransport = LegacyTransport(\n    url=\"https://my.odoo.com\",\n    database=\"mydb\",\n    username=\"bot@example.com\",\n    password=\"api-key\",\n)\nclient = OdooClient(config, transport=transport)\n</code></pre>"},{"location":"guide/library/#async-api","title":"Async API","text":"<p>Vodoo provides a full async API under <code>vodoo.aio</code> using httpx for non-blocking HTTP. Every sync module has an async counterpart with identical function signatures.</p> <pre><code>import asyncio\nfrom vodoo import AsyncOdooClient, OdooConfig\nfrom vodoo.aio.helpdesk import list_tickets\nfrom vodoo.aio.crm import list_leads\n\nconfig = OdooConfig(\n    url=\"https://my.odoo.com\",\n    database=\"mydb\",\n    username=\"bot@example.com\",\n    password=\"api-key\",\n)\n\nasync def main():\n    async with AsyncOdooClient(config) as client:\n        # Same API, just awaited\n        tickets = await list_tickets(client, limit=5)\n\n        # Concurrent requests with asyncio.gather\n        tickets, leads = await asyncio.gather(\n            list_tickets(client, limit=10),\n            list_leads(client, limit=10),\n        )\n\nasyncio.run(main())\n</code></pre> <p>See the Async API reference for all available modules.</p>"},{"location":"guide/library/#error-handling","title":"Error Handling","text":"<p>All Vodoo exceptions inherit from <code>VodooError</code>. The Odoo server-side exceptions (<code>OdooUserError</code> and subclasses) are automatically mapped from the server's error response, so you can handle specific failure modes:</p> <pre><code>from vodoo import (\n    VodooError,\n    AuthenticationError,\n    RecordNotFoundError,\n    TransportError,\n)\nfrom vodoo.exceptions import (\n    OdooAccessError,\n    OdooAccessDeniedError,\n    OdooValidationError,\n    OdooMissingError,\n)\n\ntry:\n    client.write(\"res.partner\", [42], {\"email\": \"invalid\"})\nexcept OdooAccessError:\n    print(\"You don't have permission for this operation\")\nexcept OdooValidationError as e:\n    print(f\"Constraint violated: {e}\")\nexcept OdooMissingError:\n    print(\"Record no longer exists\")\nexcept RecordNotFoundError as e:\n    print(f\"Not found: {e.model} #{e.record_id}\")\nexcept AuthenticationError:\n    print(\"Bad credentials\")\nexcept TransportError as e:\n    print(f\"RPC error [{e.code}]: {e}\")\nexcept VodooError as e:\n    print(f\"Vodoo error: {e}\")\n</code></pre> <p>The full hierarchy:</p> <pre><code>VodooError\n\u251c\u2500\u2500 ConfigurationError\n\u251c\u2500\u2500 AuthenticationError\n\u251c\u2500\u2500 RecordNotFoundError\n\u251c\u2500\u2500 RecordOperationError\n\u251c\u2500\u2500 TransportError\n\u2502   \u2514\u2500\u2500 OdooUserError              \u2190 odoo.exceptions.UserError\n\u2502       \u251c\u2500\u2500 OdooAccessDeniedError  \u2190 odoo.exceptions.AccessDenied\n\u2502       \u251c\u2500\u2500 OdooAccessError        \u2190 odoo.exceptions.AccessError\n\u2502       \u251c\u2500\u2500 OdooMissingError       \u2190 odoo.exceptions.MissingError\n\u2502       \u2514\u2500\u2500 OdooValidationError    \u2190 odoo.exceptions.ValidationError\n\u2514\u2500\u2500 FieldParsingError\n</code></pre> <p>See the Exceptions API reference for details.</p>"},{"location":"guide/library/#type-safety","title":"Type Safety","text":"<p>Vodoo is fully typed with strict mypy. All functions have type annotations, so your IDE will provide autocompletion and type checking out of the box.</p> <pre><code># Your IDE knows these types:\ntickets: list[dict[str, Any]] = list_tickets(client, limit=5)\nticket_id: int = client.create(\"helpdesk.ticket\", {\"name\": \"New ticket\"})\nsuccess: bool = client.write(\"helpdesk.ticket\", [ticket_id], {\"priority\": \"2\"})\n</code></pre>"}]}